Metadata-Version: 2.4
Name: annex4ac
Version: 0.2.0
Summary: Annex IV-as-Code CLI
Author-email: Aleksandr Racionalus <prihodko02bk@gmail.com>
License: MIT
Requires-Python: >=3.9
Description-Content-Type: text/markdown

# Annexâ€¯IVâ€‘asâ€‘CodeÂ (annex4ac)

Generate and validate EUÂ AIÂ Act Annexâ€¯IV technical documentation straight from your CI. 

100% local by default.

SaaS/PDF in the Pro tier.

---

## âœ¨ Features

* **Always upâ€‘toâ€‘date** â€“ fetches the latest Annexâ€¯IV text from the AIÂ Act Explorer every run.
* **Schemaâ€‘first** â€“ YAML skeleton mirrors the 13 required sections.
* **Failâ€‘fast CI** â€“ exitsÂ 1 when mandatory fields are missing.
* **Freemium** â€“ `fetch_schema` & `validate` are free; `generate` (PDF) unlocks with a licence key.
* **Oneâ€‘line GitHubÂ Action** â€“ block pull requests that break compliance.

---

## ğŸš€ Quickâ€‘start

```bash
# 1Â Install (PythonÂ 3.9+)
pip install annex4ac

# 2Â Pull the latest Annexâ€¯IV layout
annex4ac fetch_schema -o annex_template.yaml

# 3Â Fill in the YAML â†’ validate
cp annex_template.yaml my_annex.yaml
$EDITOR my_annex.yaml
annex4ac validate -i my_annex.yaml   # "Validation OK!" or exitÂ 1

# 4Â (Pro) Generate the PDF
echo "ANNEX4AC_LICENSE=your_key" >> ~/.bashrc
annex4ac generate -i my_annex.yaml -o docs/annex_iv.pdf
```

> **Hintâ€¯:** You only need to edit the YAML once per model versionâ€”CI keeps it green.

---

## ğŸ—‚ Required YAML fields

| Key                       | Corresponds to AnnexÂ IVÂ Â§ |
| ------------------------- | ------------------------- |
| `system_overview`         | Â 1 Â«General descriptionÂ»  |
| `intended_purpose`        | Â 2                        |
| `system_architecture`     | Â 3                        |
| `development_process`     | Â 4                        |
| `data_specifications`     | Â 5                        |
| `performance_metrics`     | Â 6                        |
| `risk_management`         | Â 7                        |
| `post_market_plan`        | Â 8Â (only highâ€‘risk)       |
| `human_machine_interface` | Â 9                        |
| `changes_and_versions`    | Â 10                       |
| `records_and_logs`        | Â 11                       |
| `instructions_for_use`    | Â 12                       |
| `compliance_declaration`  | Â 13                       |

---

## ğŸ›  Commands

| Command        | What it does                                                                    |
| -------------- | ------------------------------------------------------------------------------- |
| `fetch_schema` | Download current AnnexÂ IV HTML, convert to YAML scaffold `annex_schema.yaml`.   |
| `validate`     | Â Validate your YAML against the Pydantic schema & Rego rules. ExitsÂ 1 on error. |
| `generate`     | Render PDF via Jinja2Â â†’Â XeLaTeX (Pro).                                          |

Run `annex4ac --help` for details.

---

## ğŸ™ GitHub Action example

```yaml
name: Annexâ€¯IV gate
on: [pull_request]

jobs:
  ai-act-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      - run: pip install annex4ac
      - run: annex4ac validate -i spec/model.yaml
```

To use the Pro license in CI, add `ANNEX4AC_LICENSE` as an encrypted repository secret.

---

## âš™ï¸ Local development

```bash
git clone https://github.com/yourâ€‘org/annex4ac
cd annex4ac
python -m venv .venv && source .venv/bin/activate
pip install -r requirements.txt
pytest                     # unit and opa tests
python annex4ac.py --help
```

### TinyTeX (Linux/Mac)

```bash
curl -sL https://yihui.org/tinytex/install-unx.sh | sh
export PATH="$HOME/.TinyTeX/bin/x86_64-linux:$PATH"
```

---

## ğŸ”‘ Licensing & pricing

* **Community (free)** â€“ validate in CI, unlimited public repos.
* **ProÂ â‚¬15/mo** â€“ PDF generation, version history (SaaS), email support.
* **Enterprise** â€“ selfâ€‘hosted Docker, SLAÂ 99.9â€¯%, custom sections.

Pay once, use anywhere: CLI, GitHubÂ Action, REST (coming soon).

---

## ğŸ“š References

* AnnexÂ IV HTML â€“ [https://artificialintelligenceact.eu/annex/4/](https://artificialintelligenceact.eu/annex/4/)
* Official Journal PDF â€“ [https://eur-lex.europa.eu/legal-content/EN/TXT/PDF/?uri=OJ\:L\_202401689](https://eur-lex.europa.eu/legal-content/EN/TXT/PDF/?uri=OJ:L_202401689)
* Typer docs â€“ [https://typer.tiangolo.com](https://typer.tiangolo.com)
* Pydantic docs â€“ [https://docs.pydantic.dev](https://docs.pydantic.dev)
* OpenÂ PolicyÂ Agent â€“ [https://www.openpolicyagent.org](https://www.openpolicyagent.org)
* TinyTeX install â€“ [https://yihui.org/tinytex](https://yihui.org/tinytex)
