(()=>{var e={};e.id=892,e.ids=[892],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10839:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,Es:()=>f,L3:()=>x,c7:()=>h,lG:()=>d,rr:()=>p,zM:()=>o});var a=s(40871);s(65138);var r=s(32506),n=s(98154),i=s(75908);function d({...e}){return(0,a.jsx)(r.bL,{"data-slot":"dialog",...e})}function o({...e}){return(0,a.jsx)(r.l9,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...e})}function c({className:e,...t}){return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}function u({className:e,children:t,...s}){return(0,a.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200",e),...s,children:[t,(0,a.jsxs)(r.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function f({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function x({className:e,...t}){return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",e),...t})}function p({className:e,...t}){return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",e),...t})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12654:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>l});var a=s(20863),r=s(38832),n=s(39682),i=s.n(n),d=s(11461),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);s.d(t,o);let l={children:["",{children:["datasets",{children:["[dataset_id]",{children:["shardsets",{children:["[shardset_id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,58333)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,37374)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,28950)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,94677)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,74595)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,14127)),"/Users/hanch/fal/lavender-data/ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,58206,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,63447,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,94716,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/datasets/[dataset_id]/shardsets/[shardset_id]/page",pathname:"/datasets/[dataset_id]/shardsets/[shardset_id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},13601:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(65138);function r(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},14551:(e,t,s)=>{Promise.resolve().then(s.bind(s,26219)),Promise.resolve().then(s.bind(s,31729)),Promise.resolve().then(s.t.bind(s,36128,23)),Promise.resolve().then(s.bind(s,49724)),Promise.resolve().then(s.bind(s,17601)),Promise.resolve().then(s.bind(s,79006)),Promise.resolve().then(s.bind(s,44155)),Promise.resolve().then(s.bind(s,44730))},17141:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var a=s(40871);s(65138);var r=s(44989),n=s(75908);function i({className:e,...t}){return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},17601:(e,t,s)=>{"use strict";s.d(t,{SetAsMainSwitch:()=>a});let a=(0,s(26259).registerClientReference)(function(){throw Error("Attempted to call SetAsMainSwitch() from the server but SetAsMainSwitch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/set-as-main-switch.tsx","SetAsMainSwitch")},17773:(e,t,s)=>{"use strict";s.d(t,{KU:()=>o,my:()=>l});var a=s(10146),r=s(87080),n=s(77893);let i=()=>process.env.API_URL||"http://localhost:8000",d=async()=>{let e=await (0,r.UL)();return e.get("lavender-data-api-key")?.value},o=async()=>{let e=i(),t=await d();return(0,a.Ay)({baseUrl:e,headers:t?{Authorization:`Basic ${t}`}:{},fetch:async e=>{let t=await fetch(e,{cache:"no-store"});return(401===t.status||403===t.status)&&(0,n.redirect)("/set-api-key"),t}})},l=async e=>{let t=i();return(0,a.Ay)({baseUrl:t,headers:{Authorization:`Basic ${e}`},fetch:async e=>fetch(e,{cache:"no-store"})})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20328:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(40871),r=s(79848);function n(){return(0,a.jsxs)("div",{className:"w-full flex gap-2 p-4 justify-center items-center text-muted-foreground",children:[(0,a.jsx)(r.A,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("div",{className:"text-sm",children:"Loading..."})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31729:(e,t,s)=>{"use strict";s.d(t,{Content:()=>r,List:()=>n,Root:()=>i,Trigger:()=>d});var a=s(26259);let r=(0,a.registerClientReference)(function(){throw Error("Attempted to call Content() from the server but Content is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-tabs@1.1.3_@types+react-dom@19.0.4_@types+react@19.0.10__@types+react@1_829a50f14adfd29bd3ba0be68ec09a2d/node_modules/@radix-ui/react-tabs/dist/index.mjs","Content"),n=(0,a.registerClientReference)(function(){throw Error("Attempted to call List() from the server but List is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-tabs@1.1.3_@types+react-dom@19.0.4_@types+react@19.0.10__@types+react@1_829a50f14adfd29bd3ba0be68ec09a2d/node_modules/@radix-ui/react-tabs/dist/index.mjs","List"),i=(0,a.registerClientReference)(function(){throw Error("Attempted to call Root() from the server but Root is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-tabs@1.1.3_@types+react-dom@19.0.4_@types+react@19.0.10__@types+react@1_829a50f14adfd29bd3ba0be68ec09a2d/node_modules/@radix-ui/react-tabs/dist/index.mjs","Root");(0,a.registerClientReference)(function(){throw Error("Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-tabs@1.1.3_@types+react-dom@19.0.4_@types+react@19.0.10__@types+react@1_829a50f14adfd29bd3ba0be68ec09a2d/node_modules/@radix-ui/react-tabs/dist/index.mjs","Tabs"),(0,a.registerClientReference)(function(){throw Error("Attempted to call TabsContent() from the server but TabsContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-tabs@1.1.3_@types+react-dom@19.0.4_@types+react@19.0.10__@types+react@1_829a50f14adfd29bd3ba0be68ec09a2d/node_modules/@radix-ui/react-tabs/dist/index.mjs","TabsContent"),(0,a.registerClientReference)(function(){throw Error("Attempted to call TabsList() from the server but TabsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-tabs@1.1.3_@types+react-dom@19.0.4_@types+react@19.0.10__@types+react@1_829a50f14adfd29bd3ba0be68ec09a2d/node_modules/@radix-ui/react-tabs/dist/index.mjs","TabsList"),(0,a.registerClientReference)(function(){throw Error("Attempted to call TabsTrigger() from the server but TabsTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-tabs@1.1.3_@types+react-dom@19.0.4_@types+react@19.0.10__@types+react@1_829a50f14adfd29bd3ba0be68ec09a2d/node_modules/@radix-ui/react-tabs/dist/index.mjs","TabsTrigger");let d=(0,a.registerClientReference)(function(){throw Error("Attempted to call Trigger() from the server but Trigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-tabs@1.1.3_@types+react-dom@19.0.4_@types+react@19.0.10__@types+react@1_829a50f14adfd29bd3ba0be68ec09a2d/node_modules/@radix-ui/react-tabs/dist/index.mjs","Trigger");(0,a.registerClientReference)(function(){throw Error("Attempted to call createTabsScope() from the server but createTabsScope is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/node_modules/.pnpm/@radix-ui+react-tabs@1.1.3_@types+react-dom@19.0.4_@types+react@19.0.10__@types+react@1_829a50f14adfd29bd3ba0be68ec09a2d/node_modules/@radix-ui/react-tabs/dist/index.mjs","createTabsScope")},32253:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var a=s(94829);s(72024);var r=s(26219),n=s(88606),i=s(77678);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o({className:e,variant:t,size:s,asChild:n=!1,...o}){let l=n?r.Slot:"button";return(0,a.jsx)(l,{"data-slot":"button",className:(0,i.cn)(d({variant:t,size:s,className:e})),...o})}},33873:e=>{"use strict";e.exports=require("path")},34682:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"60a0a0883ff6eb4c2404c6902913e05d170210ecc3":()=>i,"70afcecb3b2980d30869aa9dfb9b44f5d3b623b336":()=>o});var a=s(6391);s(80127);var r=s(17773),n=s(63995);async function i(e,t){try{let s=await (await (0,r.KU)()).DELETE("/datasets/{dataset_id}/shardsets/{shardset_id}",{params:{path:{dataset_id:e,shardset_id:t}}});if(s.error)return{success:!1,error:s.error.detail};return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,n.D)([i]),(0,a.A)(i,"60a0a0883ff6eb4c2404c6902913e05d170210ecc3",null);var d=s(68288);async function o(e,t,s){try{let a=await (await (0,r.KU)()).PUT("/datasets/{dataset_id}/shardsets/{shardset_id}",{params:{path:{dataset_id:e,shardset_id:t}},body:{is_main:s}});if(a.error){let e="Unknown error";return"string"==typeof a.error.detail&&(e=a.error.detail),{success:!1,error:e}}return(0,d.revalidatePath)(`/datasets/${e}/shardsets/${t}`),{success:!0,data:a.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,n.D)([o]),(0,a.A)(o,"70afcecb3b2980d30869aa9dfb9b44f5d3b623b336",null)},37479:(e,t,s)=>{"use strict";s.d(t,{Pagination:()=>y});var a=s(40871),r=s(54574),n=s.n(r),i=s(65138),d=s(21228);let o=(0,d.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var l=s(55866),c=s(75908),u=s(26123);function h({className:e,...t}){return(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,c.cn)("mx-auto flex w-full justify-center",e),...t})}function f({className:e,...t}){return(0,a.jsx)("ul",{"data-slot":"pagination-content",className:(0,c.cn)("flex flex-row items-center gap-1",e),...t})}function x({...e}){return(0,a.jsx)("li",{"data-slot":"pagination-item",...e})}function p({className:e,isActive:t,size:s="icon",...r}){return(0,a.jsx)(n(),{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:(0,c.cn)((0,u.r)({variant:t?"outline":"ghost",size:s}),e),...r})}function m({className:e,...t}){return(0,a.jsxs)(p,{"aria-label":"Go to previous page",size:"default",className:(0,c.cn)("gap-1 px-2.5 sm:pl-2.5",e),...t,children:[(0,a.jsx)(o,{}),(0,a.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function g({className:e,...t}){return(0,a.jsxs)(p,{"aria-label":"Go to next page",size:"default",className:(0,c.cn)("gap-1 px-2.5 sm:pr-2.5",e),...t,children:[(0,a.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,a.jsx)(l.A,{})]})}let v=(0,d.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var b=s(68491);let j=({buttonCount:e,totalPages:t,currentPage:s})=>{let a=Math.max(0,s-s%e);return Array.from({length:Math.min(t,a+e)-a},(e,t)=>a+t)};function y({buttonCount:e,totalPages:t,currentPage:s,pageHref:r}){let[d,o]=(0,i.useState)(s),l=j({buttonCount:e,totalPages:t,currentPage:s}),c=l[0],y=l[l.length-1],w=e=>r.replace("{page}",`${e}`);return(0,a.jsx)(h,{children:(0,a.jsxs)(f,{children:[c>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(x,{children:(0,a.jsx)(m,{href:w(c-e)})})}),l.map(e=>(0,a.jsx)(x,{children:(0,a.jsx)(p,{href:w(e),isActive:s===e,children:e+1})},e)),t>y&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(x,{children:(0,a.jsx)(g,{href:w(y+1)})})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("div",{children:(0,a.jsx)(b.p,{className:"w-24 text-right",type:"number",min:1,max:t+1,value:d+1,onChange:e=>o(Number(e.target.value)-1)})}),(0,a.jsx)("div",{children:"/"}),(0,a.jsx)("div",{children:t}),(0,a.jsx)(n(),{href:w(d),children:(0,a.jsx)(u.$,{variant:"outline",size:"icon",children:(0,a.jsx)(v,{className:"w-4"})})})]})]})})}},38230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"401442ef1bd25199fe0cd5fdbd7f8ba44fbf59ad35":()=>a.x,"70fb486120b257a8b4ccb7e8d7d338d46dec4e902a":()=>r.A});var a=s(60540),r=s(87110)},39512:(e,t,s)=>{"use strict";s.d(t,{bL:()=>w,zi:()=>_});var a=s(65138),r=s(13973),n=s(90066),i=s(80484),d=s(96717),o=s(13601),l=s(28017),c=s(34240),u=s(40871),h="Switch",[f,x]=(0,i.A)(h),[p,m]=f(h),g=a.forwardRef((e,t)=>{let{__scopeSwitch:s,name:i,checked:o,defaultChecked:l,required:h,disabled:f,value:x="on",onCheckedChange:m,form:g,...v}=e,[b,w]=a.useState(null),_=(0,n.s)(t,e=>w(e)),N=a.useRef(!1),C=!b||g||!!b.closest("form"),[k=!1,A]=(0,d.i)({prop:o,defaultProp:l,onChange:m});return(0,u.jsxs)(p,{scope:s,checked:k,disabled:f,children:[(0,u.jsx)(c.sG.button,{type:"button",role:"switch","aria-checked":k,"aria-required":h,"data-state":y(k),"data-disabled":f?"":void 0,disabled:f,value:x,...v,ref:_,onClick:(0,r.m)(e.onClick,e=>{A(e=>!e),C&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),C&&(0,u.jsx)(j,{control:b,bubbles:!N.current,name:i,value:x,checked:k,required:h,disabled:f,form:g,style:{transform:"translateX(-100%)"}})]})});g.displayName=h;var v="SwitchThumb",b=a.forwardRef((e,t)=>{let{__scopeSwitch:s,...a}=e,r=m(v,s);return(0,u.jsx)(c.sG.span,{"data-state":y(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:t})});b.displayName=v;var j=e=>{let{control:t,checked:s,bubbles:r=!0,...n}=e,i=a.useRef(null),d=(0,o.Z)(s),c=(0,l.X)(t);return a.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==s&&t){let a=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(a)}},[d,s,r]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(e){return e?"checked":"unchecked"}var w=g,_=b},40334:(e,t)=>{"use strict";function s(e){for(let t=0;t<e.length;t++){let s=e[t];if("function"!=typeof s)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof s}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(t,"D",{enumerable:!0,get:function(){return s}})},40849:(e,t,s)=>{"use strict";s.d(t,{o:()=>l});var a=s(40871),r=s(30618);let n=e=>e.toFixed(2).endsWith("00")?e.toFixed(0):e.toFixed(2),i=e=>e<1e3?`${n(e)}`:e<1e6?`${n(e/1e3)}k`:e<1e9?`${n(e/1e3/1e3)}m`:e<1e12?`${n(e/1e3/1e3/1e3)}g`:`${n(e/1e3/1e3/1e3/1e3)}t`;function d({columnName:e,statistics:t}){let{max:s,min:n,mean:d,median:o,std:l,histogram:c}=t,u=c.hist.reduce((e,t)=>e+t,0),h=Math.max(...c.hist),f=Math.random(),x=!1,p=!1;if(c.bin_edges.length>3){let e=c.bin_edges[2]-c.bin_edges[1];c.bin_edges[1]-c.bin_edges[0]>1.5*e&&(x=!0),c.bin_edges[c.bin_edges.length-1]-c.bin_edges[c.bin_edges.length-2]>1.5*e&&(p=!0)}let m=e=>!!x&&0===e||!!p&&e===c.hist.length-1;return(0,a.jsxs)("div",{className:"pt-1 flex flex-col items-start justify-start h-full",style:{width:"132px"},children:[(0,a.jsx)("svg",{width:132,height:40,children:(0,a.jsx)("g",{children:c.hist.map((t,s)=>(0,a.jsxs)(r.Tooltip,{children:[(0,a.jsx)("rect",{className:"fill-gray-400 dark:fill-gray-500/80",rx:"2",x:s*(132/c.hist.length),y:40-t/h*40,width:132/c.hist.length-2,height:t/h*40,fillOpacity:m(s)?.3:1}),(0,a.jsx)(r.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("rect",{rx:"2",x:s*(132/c.hist.length),y:0,width:132/c.hist.length-2,height:40,fillOpacity:"0"})}),(0,a.jsxs)(r.TooltipContent,{className:"w-auto text-wrap break-all font-mono",children:[(0,a.jsx)("div",{children:m(s)?"[Outlier]":""}),(0,a.jsxs)("div",{children:[i(c.bin_edges[s])," -"," ",i(c.bin_edges[s+1])]}),(0,a.jsxs)("div",{children:[(t/u*100).toFixed(2),"% (",i(t),")"]})]})]},`histogram-${e}-${f}-${s}`))})}),(0,a.jsxs)("div",{className:"flex flex-col w-full text-xs font-mono font-light text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{children:x?i(c.bin_edges[1]):i(n)}),(0,a.jsx)("div",{children:p?i(c.bin_edges[c.bin_edges.length-2]):i(s)})]}),(0,a.jsx)("div",{className:"w-full h-[1px] bg-gray-200 dark:bg-gray-500/20"}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{children:"Min"}),(0,a.jsx)("div",{children:i(n)})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{children:"Max"}),(0,a.jsx)("div",{children:i(s)})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{children:"Median"}),(0,a.jsx)("div",{children:i(o)})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{children:"Mean"}),(0,a.jsx)("div",{children:i(d)})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{children:"Std"}),(0,a.jsx)("div",{children:i(l)})]})]})]})}function o({columnName:e,statistics:t}){let{frequencies:s,n_unique:n}=t,d=Object.keys(s).length>100,o=d?1:Math.max(...Object.values(s)),l=Math.random();return(0,a.jsxs)("div",{className:"pt-1 flex flex-col items-start justify-start h-full",style:{width:"132px"},children:[d?(0,a.jsx)("div",{className:"w-[132px] h-[40px] flex items-center justify-center text-xs font-mono font-light text-muted-foreground",children:"(redacted)"}):(0,a.jsx)("svg",{width:132,height:40,children:(0,a.jsx)("g",{children:Object.entries(s).sort(([e],[t])=>isNaN(parseFloat(e))||isNaN(parseFloat(t))?e.localeCompare(t):parseFloat(e)-parseFloat(t)).map(([t,s],d)=>(0,a.jsxs)(r.Tooltip,{children:[(0,a.jsx)("rect",{className:"fill-gray-400 dark:fill-gray-500/80",rx:"2",x:132/n*d,y:40-s/o*40,width:132/n-2,height:s/o*40,fillOpacity:"1"}),(0,a.jsx)(r.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("rect",{rx:"2",x:132/n*d,y:0,width:132/n-2,height:40,fillOpacity:"0"})}),(0,a.jsxs)(r.TooltipContent,{className:"w-auto text-wrap break-all font-mono",children:[(0,a.jsx)("div",{children:t}),(0,a.jsxs)("div",{children:[(s/o*100).toFixed(2),"% (",i(s),")"]})]})]},`histogram-${e}-${l}-${d}`))})}),(0,a.jsxs)("div",{className:"flex flex-col w-full text-xs font-mono font-light text-muted-foreground",children:[(0,a.jsx)("div",{className:"flex justify-between w-full",children:(0,a.jsxs)("div",{children:[i(n)," values"]})}),(0,a.jsx)("div",{className:"w-full h-[1px] bg-gray-200 dark:bg-gray-500/20"})]})]})}function l({columnName:e,statistics:t}){return"numeric"===t.type?(0,a.jsx)(d,{columnName:e,statistics:t}):"categorical"===t.type?(0,a.jsx)(o,{columnName:e,statistics:t}):(0,a.jsx)("div",{children:"-"})}},40931:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>i,Zp:()=>n});var a=s(94829);s(72024);var r=s(77678);function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}},44730:(e,t,s)=>{"use strict";s.d(t,{Pagination:()=>r});var a=s(26259);(0,a.registerClientReference)(function(){throw Error("Attempted to call getPageRange() from the server but getPageRange is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/components/pagination.tsx","getPageRange");let r=(0,a.registerClientReference)(function(){throw Error("Attempted to call Pagination() from the server but Pagination is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/components/pagination.tsx","Pagination")},49724:(e,t,s)=>{"use strict";s.d(t,{DeleteShardsetDialog:()=>a});let a=(0,s(26259).registerClientReference)(function(){throw Error("Attempted to call DeleteShardsetDialog() from the server but DeleteShardsetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/delete-shardset-dialog.tsx","DeleteShardsetDialog")},58333:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(94829),r=s(18529),n=s(72188),i=s(44155),d=s(36128),o=s.n(d),l=s(60540),c=s(40931),u=s(51477);let h=(0,u.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),f=(0,u.A)("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]),x=(0,u.A)("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]),p=(0,u.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);s(72024);var m=s(31729),g=s(77678);function v({className:e,...t}){return(0,a.jsx)(m.Root,{"data-slot":"tabs",className:(0,g.cn)("flex flex-col gap-2",e),...t})}function b({className:e,...t}){return(0,a.jsx)(m.List,{"data-slot":"tabs-list",className:(0,g.cn)("inline-flex h-9 items-center text-muted-foreground w-full justify-start rounded-none border-b bg-transparent p-0",e),...t})}function j({className:e,...t}){return(0,a.jsx)(m.Trigger,{"data-slot":"tabs-trigger",className:(0,g.cn)("inline-flex items-center justify-center whitespace-nowrap py-1 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 relative h-9 rounded-none border-b-2 border-b-transparent bg-transparent px-4 pb-3 pt-2 font-semibold text-muted-foreground shadow-none transition-none data-[state=active]:border-b-primary data-[state=active]:text-foreground data-[state=active]:shadow-none",e),...t})}function y({className:e,...t}){return(0,a.jsx)(m.Content,{"data-slot":"tabs-content",className:(0,g.cn)("flex-1 outline-none",e),...t})}var w=s(49724),_=s(32253),N=s(44730),C=s(17601),k=s(79006);let A=e=>e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(2)} KB`:e<0x40000000?`${(e/1024/1024).toFixed(2)} MB`:e<0x10000000000?`${(e/1024/1024/1024).toFixed(2)} GB`:`${(e/1024/1024/1024/1024).toFixed(2)} TB`;async function S({params:e,searchParams:t}){let{dataset_id:s,shardset_id:d}=await e,{tab:u="columns",shards_page:m="0"}=await t,g=await (0,n.KU)(),S=await g.GET("/datasets/{dataset_id}/shardsets/{shardset_id}",{params:{path:{dataset_id:s,shardset_id:d}}});if(S.error)return(0,a.jsx)(i.ErrorCard,{error:S.error.detail});let P=await g.GET("/datasets/{dataset_id}/shardsets/{shardset_id}/shards",{params:{path:{dataset_id:s,shardset_id:d},query:{offset:10*Number(m),limit:10}}});if(P.error)return(0,a.jsx)(i.ErrorCard,{error:P.error.detail});let R=S.data,$=P.data.shards,E=P.data.total;return(0,a.jsxs)("div",{className:"py-4 flex w-full flex-1 flex-col gap-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.$,{variant:"ghost",children:(0,a.jsx)(o(),{href:`/datasets/${s}/shardsets`,children:(0,a.jsx)(h,{className:"w-4 h-4"})})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-md",children:R.location}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:R.id})]})]}),(0,a.jsxs)(v,{defaultValue:u,className:"w-full",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(o(),{href:`/datasets/${s}/shardsets/${d}?tab=columns`,children:(0,a.jsx)(j,{value:"columns",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f,{className:"w-4 h-4"}),"Columns"]})})}),(0,a.jsx)(o(),{href:`/datasets/${s}/shardsets/${d}?tab=shards`,children:(0,a.jsx)(j,{value:"shards",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x,{className:"w-4 h-4"}),"Shards"]})})}),(0,a.jsx)(o(),{href:`/datasets/${s}/shardsets/${d}?tab=settings`,children:(0,a.jsx)(j,{value:"settings",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(p,{className:"w-4 h-4"}),"Settings"]})})})]}),(0,a.jsxs)(y,{value:"columns",className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[R.columns.length," columns"]}),(0,a.jsx)(c.Zp,{className:"w-full",children:(0,a.jsx)(c.Wu,{children:(0,a.jsxs)(r.XI,{children:[(0,a.jsx)(r.A0,{children:(0,a.jsxs)(r.Hj,{children:[(0,a.jsx)(r.nd,{className:"w-[100px]",children:"Name"}),(0,a.jsx)(r.nd,{children:"Type"}),(0,a.jsx)(r.nd,{children:"Description"})]})}),(0,a.jsx)(r.BF,{children:R.columns.map(e=>(0,a.jsxs)(r.Hj,{children:[(0,a.jsx)(r.nA,{className:"font-mono text-xs",children:e.name}),(0,a.jsx)(r.nA,{children:e.type}),(0,a.jsx)(r.nA,{children:e.description})]},e.id))})]})})})]}),(0,a.jsxs)(y,{value:"shards",className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[E," shards, ",R.total_samples," samples"]}),(0,a.jsx)(c.Zp,{className:"w-full",children:(0,a.jsxs)(c.Wu,{children:[(0,a.jsxs)(r.XI,{children:[(0,a.jsx)(r.A0,{children:(0,a.jsxs)(r.Hj,{children:[(0,a.jsx)(r.nd,{className:"w-[100px]",children:"ID"}),(0,a.jsx)(r.nd,{children:"Index"}),(0,a.jsx)(r.nd,{children:"Location"}),(0,a.jsx)(r.nd,{children:"Format"}),(0,a.jsx)(r.nd,{children:"Samples"}),(0,a.jsx)(r.nd,{children:"Filesize"}),(0,a.jsx)(r.nd,{children:"Statistics"})]})}),(0,a.jsx)(r.BF,{children:$.sort((e,t)=>e.index-t.index).map(e=>(0,a.jsxs)(r.Hj,{children:[(0,a.jsx)(r.nA,{className:"font-mono text-xs",children:e.id}),(0,a.jsx)(r.nA,{children:e.index}),(0,a.jsx)(r.nA,{children:e.location}),(0,a.jsx)(r.nA,{children:e.format}),(0,a.jsx)(r.nA,{children:e.samples}),(0,a.jsx)(r.nA,{children:A(e.filesize)}),(0,a.jsx)(r.nA,{children:(0,a.jsx)(k.ShardStatisticsDialog,{dataset_id:s,shardset_id:d,shard_id:e.id,shard_location:e.location})})]},e.id))})]}),(0,a.jsx)("div",{className:"w-full flex items-center pt-4",children:(0,a.jsx)(N.Pagination,{buttonCount:5,totalPages:Math.ceil(E/10),currentPage:Number(m),pageHref:`/datasets/${s}/shardsets/${d}?tab=shards&shards_page={page}`})})]})})]}),(0,a.jsx)(y,{value:"settings",className:"w-full max-w-[720px] flex flex-col gap-2 items-start",children:(0,a.jsx)(c.Zp,{className:"w-full",children:(0,a.jsxs)(c.Wu,{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-md",children:"Set as main shardset"}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Set this shardset as the main shardset for the dataset.",(0,a.jsx)("a",{href:"https://docs.lavenderdata.com/dataset/join-method/#main-shard-and-feature-shards",className:"underline ml-1",target:"_blank",children:"More info"})]})]}),(0,a.jsx)(C.SetAsMainSwitch,{dataset_id:s,shardset_id:d,is_main:R.is_main})]}),(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-md",children:"Sync shardset"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Sync the shardset to its location."})]}),(0,a.jsx)(l.U,{dataset_id:s,shardset_id:d})]}),(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-md",children:"Delete this shardset"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This action is irreversible."})]}),(0,a.jsx)(w.DeleteShardsetDialog,{datasetId:s,shardsetId:d})]})]})})})]})]})}},60540:(e,t,s)=>{"use strict";s.d(t,{U:()=>f,x:()=>h});var a=s(94829),r=s(45290),n=s(12850),i=s(32253),d=s(53758),o=s(61573),l=s(87110),c=s(72188),u=s(56807);let h=async function(e){var[t,s]=await (0,n.decryptActionBoundArgs)("401442ef1bd25199fe0cd5fdbd7f8ba44fbf59ad35",e);await (0,l.A)(t,s,!0),(0,u.revalidatePath)(`/datasets/${t}/shardsets/${s}`)};async function f({dataset_id:e,shardset_id:t}){let s=await (await (0,c.KU)()).GET("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:t}}}),l=s.data?s.data:null,u=!!l&&"completed"!==l.status,f=(0,r.A)(h,"401442ef1bd25199fe0cd5fdbd7f8ba44fbf59ad35",null).bind(null,(0,n.encryptActionBoundArgs)("401442ef1bd25199fe0cd5fdbd7f8ba44fbf59ad35",e,t));return(0,a.jsx)("div",{className:"w-full flex flex-col gap-1",children:(0,a.jsx)("form",{action:f,children:u?(0,a.jsxs)(i.$,{type:"submit",className:"w-full",disabled:u,children:[(0,a.jsx)(d.A,{className:"w-4 h-4 animate-spin"}),"Sync in progress..."]}):(0,a.jsxs)(i.$,{type:"submit",className:"w-full",disabled:u,children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),"Sync"]})})})}},61573:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51477).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67695:(e,t,s)=>{Promise.resolve().then(s.bind(s,65854)),Promise.resolve().then(s.bind(s,26626)),Promise.resolve().then(s.t.bind(s,54574,23)),Promise.resolve().then(s.bind(s,82483)),Promise.resolve().then(s.bind(s,81391)),Promise.resolve().then(s.bind(s,75238)),Promise.resolve().then(s.bind(s,28077)),Promise.resolve().then(s.bind(s,37479))},69348:(e,t,s)=>{"use strict";s.d(t,{$v:()=>p,EO:()=>u,Lt:()=>d,Rx:()=>m,Zr:()=>g,ck:()=>f,r7:()=>x,tv:()=>o,wd:()=>h});var a=s(40871);s(65138);var r=s(73750),n=s(75908),i=s(26123);function d({...e}){return(0,a.jsx)(r.bL,{"data-slot":"alert-dialog",...e})}function o({...e}){return(0,a.jsx)(r.l9,{"data-slot":"alert-dialog-trigger",...e})}function l({...e}){return(0,a.jsx)(r.ZL,{"data-slot":"alert-dialog-portal",...e})}function c({className:e,...t}){return(0,a.jsx)(r.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function u({className:e,...t}){return(0,a.jsxs)(l,{children:[(0,a.jsx)(c,{}),(0,a.jsx)(r.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function h({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function f({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function x({className:e,...t}){return(0,a.jsx)(r.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",e),...t})}function p({className:e,...t}){return(0,a.jsx)(r.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...t})}function m({className:e,...t}){return(0,a.jsx)(r.rc,{className:(0,n.cn)((0,i.r)(),e),...t})}function g({className:e,...t}){return(0,a.jsx)(r.ZD,{className:(0,n.cn)((0,i.r)({variant:"outline"}),e),...t})}},73750:(e,t,s)=>{"use strict";s.d(t,{UC:()=>D,VY:()=>I,ZD:()=>z,ZL:()=>T,bL:()=>$,hE:()=>L,hJ:()=>M,l9:()=>E,rc:()=>U});var a=s(65138),r=s(47231),n=s(14343),i=s(32506),d=s(27642),o=s(65854),l=s(40871),c="AlertDialog",[u,h]=(0,r.A)(c,[i.Hs]),f=(0,i.Hs)(),x=e=>{let{__scopeAlertDialog:t,...s}=e,a=f(t);return(0,l.jsx)(i.bL,{...a,...s,modal:!0})};x.displayName=c;var p=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=f(s);return(0,l.jsx)(i.l9,{...r,...a,ref:t})});p.displayName="AlertDialogTrigger";var m=e=>{let{__scopeAlertDialog:t,...s}=e,a=f(t);return(0,l.jsx)(i.ZL,{...a,...s})};m.displayName="AlertDialogPortal";var g=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=f(s);return(0,l.jsx)(i.hJ,{...r,...a,ref:t})});g.displayName="AlertDialogOverlay";var v="AlertDialogContent",[b,j]=u(v),y=(0,o.createSlottable)("AlertDialogContent"),w=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,children:r,...o}=e,c=f(s),u=a.useRef(null),h=(0,n.s)(t,u),x=a.useRef(null);return(0,l.jsx)(i.G$,{contentName:v,titleName:_,docsSlug:"alert-dialog",children:(0,l.jsx)(b,{scope:s,cancelRef:x,children:(0,l.jsxs)(i.UC,{role:"alertdialog",...c,...o,ref:h,onOpenAutoFocus:(0,d.m)(o.onOpenAutoFocus,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,l.jsx)(y,{children:r}),(0,l.jsx)(R,{contentRef:u})]})})})});w.displayName=v;var _="AlertDialogTitle",N=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=f(s);return(0,l.jsx)(i.hE,{...r,...a,ref:t})});N.displayName=_;var C="AlertDialogDescription",k=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=f(s);return(0,l.jsx)(i.VY,{...r,...a,ref:t})});k.displayName=C;var A=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,r=f(s);return(0,l.jsx)(i.bm,{...r,...a,ref:t})});A.displayName="AlertDialogAction";var S="AlertDialogCancel",P=a.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...a}=e,{cancelRef:r}=j(S,s),d=f(s),o=(0,n.s)(t,r);return(0,l.jsx)(i.bm,{...d,...a,ref:o})});P.displayName=S;var R=({contentRef:e})=>{let t=`\`${v}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${v}\` by passing a \`${C}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${v}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$=x,E=p,T=m,M=g,D=w,U=A,z=P,L=N,I=k},75238:(e,t,s)=>{"use strict";s.d(t,{ShardStatisticsDialog:()=>c});var a=s(40871);let r=(0,s(21228).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var n=s(26123),i=s(40849),d=s(10839);s(28214);var o=s(65138),l=s(20328);function c({dataset_id:e,shardset_id:t,shard_id:s,shard_location:c}){let[u,h]=(0,o.useState)(!1),[f,x]=(0,o.useState)(null),[p,m]=(0,o.useState)(null);return(0,a.jsxs)(d.lG,{open:u,onOpenChange:h,children:[(0,a.jsx)(d.zM,{asChild:!0,children:(0,a.jsx)(n.$,{variant:"outline",size:"icon",children:(0,a.jsx)(r,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.Cf,{className:"max-w-4xl",children:[(0,a.jsxs)(d.c7,{children:[(0,a.jsx)(d.L3,{children:c}),(0,a.jsx)(d.rr,{children:s})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 gap-y-8 w-full",children:f?Object.entries(f.data).sort((e,t)=>e[0].localeCompare(t[0])).map(([e,t])=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-mono",children:e}),(0,a.jsx)(i.o,{columnName:e,statistics:"numeric"===t.type?{type:"numeric",histogram:t.histogram,nan_count:t.nan_count,max:t.max,min:t.min,mean:t.sum/t.count,median:t.median,std:Math.sqrt(t.sum_squared/t.count-(t.sum/t.count)**2)}:t})]},`${c}-${e}`)):p?(0,a.jsx)("div",{children:p}):(0,a.jsx)("div",{children:(0,a.jsx)(l.A,{})})})]})]})}},79006:(e,t,s)=>{"use strict";s.d(t,{ShardStatisticsDialog:()=>a});let a=(0,s(26259).registerClientReference)(function(){throw Error("Attempted to call ShardStatisticsDialog() from the server but ShardStatisticsDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/shard-statistics-dialog.tsx","ShardStatisticsDialog")},79848:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(21228).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},81391:(e,t,s)=>{"use strict";s.d(t,{SetAsMainSwitch:()=>l});var a=s(40871),r=s(65138),n=s(17141),i=s(36931);let d=(0,i.createServerReference)("70afcecb3b2980d30869aa9dfb9b44f5d3b623b336",i.callServer,void 0,i.findSourceMapURL,"updateShardset");var o=s(93379);function l({dataset_id:e,shardset_id:t,is_main:s}){let[i,l]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.J,{children:"Main"}),(0,a.jsx)(o.d,{checked:s,onCheckedChange:async s=>{l(!0),await d(e,t,s)},disabled:i})]})}},82483:(e,t,s)=>{"use strict";s.d(t,{DeleteShardsetDialog:()=>c});var a=s(40871),r=s(24983),n=s(26123),i=s(69348),d=s(36931);let o=(0,d.createServerReference)("60a0a0883ff6eb4c2404c6902913e05d170210ecc3",d.callServer,void 0,d.findSourceMapURL,"deleteShardset");var l=s(90181);function c({datasetId:e,shardsetId:t}){let s=(0,l.useRouter)(),d=async()=>{let a=await o(e,t);a.success?(r.oR.success("Shardset deleted successfully"),s.push(`/datasets/${e}`)):r.oR.error(`Failed to delete shardset: ${a.error}`)};return(0,a.jsxs)(i.Lt,{children:[(0,a.jsx)(i.tv,{asChild:!0,children:(0,a.jsx)(n.$,{variant:"destructive",children:"Delete this shardset"})}),(0,a.jsxs)(i.EO,{children:[(0,a.jsxs)(i.wd,{children:[(0,a.jsx)(i.r7,{children:"Are you absolutely sure?"}),(0,a.jsx)(i.$v,{children:"This action cannot be undone. This will permanently delete your shardset and related shards. Of course, actual data will not be affected."})]}),(0,a.jsxs)(i.ck,{children:[(0,a.jsx)(i.Zr,{children:"Cancel"}),(0,a.jsx)(i.Rx,{onClick:d,children:"Continue"})]})]})]})}},87110:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(45290);s(12850);var r=s(72188),n=s(56807);async function i(e,t,s){try{let a=await (await (0,r.KU)()).POST("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:t}},body:{overwrite:s}});if(a.error){let e="Unknown error";return"string"==typeof a.error.detail&&(e=a.error.detail),{success:!1,error:e}}return(0,n.revalidatePath)(`/datasets/${e}/shardsets/${t}`),{success:!0,data:a.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,s(40334).D)([i]),(0,a.A)(i,"70fb486120b257a8b4ccb7e8d7d338d46dec4e902a",null)},93379:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var a=s(40871);s(65138);var r=s(39512),n=s(75908);function i({className:e,...t}){return(0,a.jsx)(r.bL,{"data-slot":"switch",className:(0,n.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 inline-flex h-5 w-9 shrink-0 items-center rounded-full border-2 border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(r.zi,{"data-slot":"switch-thumb",className:(0,n.cn)("bg-background pointer-events-none block size-4 rounded-full ring-0 shadow-lg transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[294,94,562,543,751,585,279,599,807,463,966],()=>s(12654));module.exports=a})();