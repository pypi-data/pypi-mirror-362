(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9760],{18054:(e,t,a)=>{"use strict";a.d(t,{PreviewTable:()=>h});var s=a(42227),n=a(49139),r=a(43576),i=a(42031),l=a(94618),c=a(61528),o=a(23309),u=a(36028);let d=async(e,t,a)=>{let s=Date.now();for(;;)try{return await (0,c.B$)(e,t)}catch(e){if(Date.now()-s>a)throw Error("Preview timed out");if(!(e instanceof Error))throw e;if(e.message.includes("400")){await new Promise(e=>setTimeout(e,100));continue}throw e}};function h(e){let{datasetId:t,previewId:a,page:c,limit:h,statistics:m}=e,[x,f]=(0,n.useState)(null),[p,j]=(0,n.useState)(null);return((0,n.useEffect)(()=>{d(t,a,6e4).then(e=>{f(e)}).catch(e=>{j(e.message)})},[t,a]),p)?(0,s.jsx)(o.ErrorCard,{error:p}):x?(0,s.jsxs)(i.Zp,{className:"w-full",children:[(0,s.jsx)(i.Wu,{className:"w-full",children:(0,s.jsx)(l.A,{datasetId:t,samples:x.samples,fetchedColumns:x.columns.map(e=>e.name),statistics:m})}),(0,s.jsx)(i.wL,{className:"w-full flex justify-center",children:(0,s.jsx)(r.Pagination,{buttonCount:10,totalPages:Math.ceil(x.total/h),currentPage:c,pageHref:"/datasets/".concat(t,"/preview?preview_page={page}")})})]}):(0,s.jsx)(u.A,{})}},36028:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(42227),n=a(27908);function r(){return(0,s.jsxs)("div",{className:"w-full flex gap-2 p-4 justify-center items-center text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"w-4 h-4 animate-spin"}),(0,s.jsx)("div",{className:"text-sm",children:"Loading..."})]})}},43576:(e,t,a)=>{"use strict";a.d(t,{Pagination:()=>N});var s=a(42227),n=a(14290),r=a.n(n),i=a(49139),l=a(67096);let c=(0,l.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var o=a(84606),u=a(27058),d=a(70709);function h(e){let{className:t,...a}=e;return(0,s.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,u.cn)("mx-auto flex w-full justify-center",t),...a})}function m(e){let{className:t,...a}=e;return(0,s.jsx)("ul",{"data-slot":"pagination-content",className:(0,u.cn)("flex flex-row items-center gap-1",t),...a})}function x(e){let{...t}=e;return(0,s.jsx)("li",{"data-slot":"pagination-item",...t})}function f(e){let{className:t,isActive:a,size:n="icon",...i}=e;return(0,s.jsx)(r(),{"aria-current":a?"page":void 0,"data-slot":"pagination-link","data-active":a,className:(0,u.cn)((0,d.r)({variant:a?"outline":"ghost",size:n}),t),...i})}function p(e){let{className:t,...a}=e;return(0,s.jsxs)(f,{"aria-label":"Go to previous page",size:"default",className:(0,u.cn)("gap-1 px-2.5 sm:pl-2.5",t),...a,children:[(0,s.jsx)(c,{}),(0,s.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function j(e){let{className:t,...a}=e;return(0,s.jsxs)(f,{"aria-label":"Go to next page",size:"default",className:(0,u.cn)("gap-1 px-2.5 sm:pr-2.5",t),...a,children:[(0,s.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,s.jsx)(o.A,{})]})}let g=(0,l.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var v=a(75571);let w=e=>{let{buttonCount:t,totalPages:a,currentPage:s}=e,n=Math.max(0,s-s%t);return Array.from({length:Math.min(a,n+t)-n},(e,t)=>n+t)};function N(e){let{buttonCount:t,totalPages:a,currentPage:n,pageHref:l}=e,[c,o]=(0,i.useState)(n);(0,i.useEffect)(()=>{o(n)},[n]);let u=w({buttonCount:t,totalPages:a,currentPage:n}),N=u[0],b=u[u.length-1],k=e=>l.replace("{page}","".concat(e));return(0,s.jsx)(h,{children:(0,s.jsxs)(m,{children:[N>0&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(x,{children:(0,s.jsx)(p,{href:k(N-t)})})}),u.map(e=>(0,s.jsx)(x,{children:(0,s.jsx)(f,{href:k(e),isActive:n===e,children:e+1})},e)),a>b&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(x,{children:(0,s.jsx)(j,{href:k(b+1)})})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("div",{children:(0,s.jsx)(v.p,{className:"w-24 text-right",type:"number",min:1,max:a+1,value:c+1,onChange:e=>o(Number(e.target.value)-1)})}),(0,s.jsx)("div",{children:"/"}),(0,s.jsx)("div",{children:a}),(0,s.jsx)(r(),{href:k(c),children:(0,s.jsx)(d.$,{variant:"outline",size:"icon",children:(0,s.jsx)(g,{className:"w-4"})})})]})]})})}},68674:(e,t,a)=>{Promise.resolve().then(a.bind(a,18054)),Promise.resolve().then(a.bind(a,23309))},84606:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(67096).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[5731,4452,1701,3228,4006,4290,543,5492,5674,4618,813,5236,7358],()=>t(68674)),_N_E=e.O()}]);