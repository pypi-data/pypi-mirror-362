(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9760],{61195:(e,t,a)=>{"use strict";a.d(t,{PreviewTable:()=>_});var s=a(42227),n=a(49139),r=a(14290),l=a.n(r),i=a(67096);let c=(0,i.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var o=a(84606),u=a(27058),d=a(70709);function h(e){let{className:t,...a}=e;return(0,s.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,u.cn)("mx-auto flex w-full justify-center",t),...a})}function m(e){let{className:t,...a}=e;return(0,s.jsx)("ul",{"data-slot":"pagination-content",className:(0,u.cn)("flex flex-row items-center gap-1",t),...a})}function x(e){let{...t}=e;return(0,s.jsx)("li",{"data-slot":"pagination-item",...t})}function f(e){let{className:t,isActive:a,size:n="icon",...r}=e;return(0,s.jsx)(l(),{"aria-current":a?"page":void 0,"data-slot":"pagination-link","data-active":a,className:(0,u.cn)((0,d.r)({variant:a?"outline":"ghost",size:n}),t),...r})}function p(e){let{className:t,...a}=e;return(0,s.jsxs)(f,{"aria-label":"Go to previous page",size:"default",className:(0,u.cn)("gap-1 px-2.5 sm:pl-2.5",t),...a,children:[(0,s.jsx)(c,{}),(0,s.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function j(e){let{className:t,...a}=e;return(0,s.jsxs)(f,{"aria-label":"Go to next page",size:"default",className:(0,u.cn)("gap-1 px-2.5 sm:pr-2.5",t),...a,children:[(0,s.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,s.jsx)(o.A,{})]})}let g=(0,i.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var v=a(75571);let w=e=>{let{buttonCount:t,totalPages:a,currentPage:s}=e,n=Math.max(0,s-s%t);return Array.from({length:Math.min(a,n+t)-n},(e,t)=>n+t)};function N(e){let{buttonCount:t,totalPages:a,currentPage:r,pageHref:i}=e,[c,o]=(0,n.useState)(r);(0,n.useEffect)(()=>{o(r)},[r]);let u=w({buttonCount:t,totalPages:a,currentPage:r}),N=u[0],b=u[u.length-1],k=e=>i.replace("{page}","".concat(e));return(0,s.jsx)(h,{children:(0,s.jsxs)(m,{children:[N>0&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(x,{children:(0,s.jsx)(p,{href:k(N-t)})})}),u.map(e=>(0,s.jsx)(x,{children:(0,s.jsx)(f,{href:k(e),isActive:r===e,children:e+1})},e)),a>b&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(x,{children:(0,s.jsx)(j,{href:k(b+1)})})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("div",{children:(0,s.jsx)(v.p,{className:"w-24 text-right",type:"number",min:1,max:a+1,value:c+1,onChange:e=>o(Number(e.target.value)-1)})}),(0,s.jsx)("div",{children:"/"}),(0,s.jsx)("div",{children:a}),(0,s.jsx)(l(),{href:k(c),children:(0,s.jsx)(d.$,{variant:"outline",size:"icon",children:(0,s.jsx)(g,{className:"w-4"})})})]})]})})}var b=a(42031),k=a(94618),y=a(61528),A=a(23309),C=a(27908);function E(){return(0,s.jsxs)("div",{className:"w-full flex gap-2 p-4 justify-center items-center text-muted-foreground",children:[(0,s.jsx)(C.A,{className:"w-4 h-4 animate-spin"}),(0,s.jsx)("div",{className:"text-sm",children:"Loading..."})]})}let P=async(e,t,a)=>{let s=Date.now();for(;;)try{return await (0,y.B$)(e,t)}catch(e){if(Date.now()-s>a)throw Error("Preview timed out");if(!(e instanceof Error))throw e;if(e.message.includes("400")){await new Promise(e=>setTimeout(e,100));continue}throw e}};function _(e){let{datasetId:t,previewId:a,page:r,limit:l}=e,[i,c]=(0,n.useState)(null),[o,u]=(0,n.useState)(null);return((0,n.useEffect)(()=>{P(t,a,6e4).then(e=>{c(e)}).catch(e=>{u(e.message)})},[t,a]),o)?(0,s.jsx)(A.ErrorCard,{error:o}):i?(0,s.jsxs)(b.Zp,{className:"w-full",children:[(0,s.jsx)(b.Wu,{className:"w-full",children:(0,s.jsx)(k.A,{datasetId:t,samples:i.samples,fetchedColumns:i.columns.map(e=>e.name)})}),(0,s.jsx)(b.wL,{className:"w-full flex justify-center",children:(0,s.jsx)(N,{buttonCount:10,totalPages:Math.ceil(i.total/l),currentPage:r,pageHref:"/datasets/".concat(t,"/preview?preview_page={page}")})})]}):(0,s.jsx)(E,{})}},68674:(e,t,a)=>{Promise.resolve().then(a.bind(a,61195)),Promise.resolve().then(a.bind(a,23309))},84606:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(67096).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[5731,4452,1701,4006,4290,3228,543,3267,529,813,5236,7358],()=>t(68674)),_N_E=e.O()}]);