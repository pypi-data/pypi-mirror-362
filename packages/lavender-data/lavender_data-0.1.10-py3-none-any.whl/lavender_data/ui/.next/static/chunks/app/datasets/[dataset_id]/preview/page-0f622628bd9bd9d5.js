(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9760],{68674:(e,t,a)=>{Promise.resolve().then(a.bind(a,90589)),Promise.resolve().then(a.bind(a,23309))},84606:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(67096).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},90589:(e,t,a)=>{"use strict";a.d(t,{PreviewTable:()=>E});var n=a(42227),s=a(49139),r=a(14290),i=a.n(r),l=a(67096);let c=(0,l.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var o=a(84606),u=a(27058),h=a(70709);function d(e){let{className:t,...a}=e;return(0,n.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,u.cn)("mx-auto flex w-full justify-center",t),...a})}function x(e){let{className:t,...a}=e;return(0,n.jsx)("ul",{"data-slot":"pagination-content",className:(0,u.cn)("flex flex-row items-center gap-1",t),...a})}function m(e){let{...t}=e;return(0,n.jsx)("li",{"data-slot":"pagination-item",...t})}function f(e){let{className:t,isActive:a,size:s="icon",...r}=e;return(0,n.jsx)(i(),{"aria-current":a?"page":void 0,"data-slot":"pagination-link","data-active":a,className:(0,u.cn)((0,h.r)({variant:a?"outline":"ghost",size:s}),t),...r})}function p(e){let{className:t,...a}=e;return(0,n.jsxs)(f,{"aria-label":"Go to previous page",size:"default",className:(0,u.cn)("gap-1 px-2.5 sm:pl-2.5",t),...a,children:[(0,n.jsx)(c,{}),(0,n.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function j(e){let{className:t,...a}=e;return(0,n.jsxs)(f,{"aria-label":"Go to next page",size:"default",className:(0,u.cn)("gap-1 px-2.5 sm:pr-2.5",t),...a,children:[(0,n.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,n.jsx)(o.A,{})]})}let g=(0,l.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var v=a(75571);let w=e=>{let{buttonCount:t,totalPages:a,currentPage:n}=e,s=Math.max(0,n-n%t);return Array.from({length:Math.min(a,s+t)-s},(e,t)=>s+t)};function N(e){let{buttonCount:t,totalPages:a,currentPage:r,pageHref:l}=e,[c,o]=(0,s.useState)(r);(0,s.useEffect)(()=>{o(r)},[r]);let u=w({buttonCount:t,totalPages:a,currentPage:r}),N=u[0],b=u[u.length-1],k=e=>l.replace("{page}","".concat(e));return(0,n.jsx)(d,{children:(0,n.jsxs)(x,{children:[N>0&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(m,{children:(0,n.jsx)(p,{href:k(N-t)})})}),u.map(e=>(0,n.jsx)(m,{children:(0,n.jsx)(f,{href:k(e),isActive:r===e,children:e+1})},e)),a>b&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(m,{children:(0,n.jsx)(j,{href:k(b+1)})})}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,n.jsx)("div",{children:(0,n.jsx)(v.p,{className:"w-24 text-right",type:"number",min:1,max:a+1,value:c+1,onChange:e=>o(Number(e.target.value)-1)})}),(0,n.jsx)("div",{children:"/"}),(0,n.jsx)("div",{children:a}),(0,n.jsx)(i(),{href:k(c),children:(0,n.jsx)(h.$,{variant:"outline",size:"icon",children:(0,n.jsx)(g,{className:"w-4"})})})]})]})})}var b=a(42031),k=a(94618),y=a(61528),A=a(23309);let C=async(e,t,a)=>{let n=Date.now();for(;;)try{return await (0,y.B$)(e,t)}catch(e){if(Date.now()-n>a)throw Error("Preview timed out");if(!(e instanceof Error))throw e;if(e.message.includes("400")){await new Promise(e=>setTimeout(e,100));continue}}};function E(e){let{datasetId:t,previewId:a,page:r,limit:i}=e,[l,c]=(0,s.useState)(null),[o,u]=(0,s.useState)(null);return((0,s.useEffect)(()=>{C(t,a,6e4).then(e=>{c(e)}).catch(e=>{u(JSON.stringify(e))})},[t,a]),o)?(0,n.jsx)(A.ErrorCard,{error:o}):l?(0,n.jsxs)(b.Zp,{className:"w-full",children:[(0,n.jsx)(b.Wu,{className:"w-full",children:(0,n.jsx)(k.A,{datasetId:t,samples:l.samples,fetchedColumns:l.columns.map(e=>e.name)})}),(0,n.jsx)(b.wL,{className:"w-full flex justify-center",children:(0,n.jsx)(N,{buttonCount:10,totalPages:Math.ceil(l.total/i),currentPage:r,pageHref:"/datasets/".concat(t,"/preview?preview_page={page}")})})]}):(0,n.jsx)("div",{children:"Loading..."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2300,2968,4006,4290,3228,543,1361,9632,813,5236,7358],()=>t(68674)),_N_E=e.O()}]);