(()=>{var e={};e.id=329,e.ids=[329],e.modules={334:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>l});var t=r(20863),a=r(38832),n=r(39682),i=r.n(n),d=r(11461),c={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);r.d(s,c);let l={children:["",{children:["datasets",{children:["[dataset_id]",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,87557)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,37374)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,28950)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,94677)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,74595)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,14127)),"/Users/hanch/fal/lavender-data/ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,58206,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,63447,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,94716,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/settings/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/datasets/[dataset_id]/settings/page",pathname:"/datasets/[dataset_id]/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22393:(e,s,r)=>{"use strict";r.d(s,{DeleteDatasetDialog:()=>t});let t=(0,r(26259).registerClientReference)(function(){throw Error("Attempted to call DeleteDatasetDialog() from the server but DeleteDatasetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/settings/delete-dataset-dialog.tsx","DeleteDatasetDialog")},26325:(e,s,r)=>{"use strict";r.d(s,{DeleteDatasetDialog:()=>l});var t=r(40871),a=r(24983),n=r(69348),i=r(36931);let d=(0,i.createServerReference)("402d3753d37d04587b5194c1a466b5d4d3a60e4e2b",i.callServer,void 0,i.findSourceMapURL,"deleteDataset");var c=r(90181);function l({datasetId:e,children:s}){let r=(0,c.useRouter)(),i=async()=>{let s=await d(e);s.success?(a.oR.success("Dataset deleted successfully"),r.push("/datasets")):a.oR.error(`Failed to delete dataset: ${s.error}`)};return(0,t.jsxs)(n.Lt,{children:[(0,t.jsx)(n.tv,{asChild:!0,children:s}),(0,t.jsxs)(n.EO,{children:[(0,t.jsxs)(n.wd,{children:[(0,t.jsx)(n.r7,{children:"Are you absolutely sure?"}),(0,t.jsx)(n.$v,{children:"This action cannot be undone. This will permanently delete your dataset, related shardsets and iterations. Of course, actual data will not be affected."})]}),(0,t.jsxs)(n.ck,{children:[(0,t.jsx)(n.Zr,{children:"Cancel"}),(0,t.jsx)(n.Rx,{onClick:i,children:"Continue"})]})]})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36285:(e,s,r)=>{Promise.resolve().then(r.bind(r,26219)),Promise.resolve().then(r.bind(r,22393)),Promise.resolve().then(r.bind(r,72336)),Promise.resolve().then(r.bind(r,44155))},40334:(e,s)=>{"use strict";function r(e){for(let s=0;s<e.length;s++){let r=e[s];if("function"!=typeof r)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(s,"D",{enumerable:!0,get:function(){return r}})},44989:(e,s,r)=>{"use strict";r.d(s,{b:()=>d});var t=r(65138),a=r(34240),n=r(40871),i=t.forwardRef((e,s)=>(0,n.jsx)(a.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var d=i},48161:(e,s,r)=>{"use strict";r.d(s,{Q:()=>h,x:()=>p});var t=r(94829),a=r(45290),n=r(12850),i=r(32253),d=r(53758),c=r(61573),l=r(87110),o=r(72188),u=r(56807);let p=async function(e){var[s]=await (0,n.decryptActionBoundArgs)("401828145438e6c7ac34a63013fce9bc046ee47a6a",e);let r=await (0,o.KU)(),t=await r.GET("/datasets/{dataset_id}",{params:{path:{dataset_id:s}}});if(t.error)return;let a=t.data.shardsets.map(e=>e.id);await Promise.all(a.map(e=>(0,l.A)(s,e,!1))),(0,u.revalidatePath)(`/datasets/${s}`)};async function h({dataset_id:e,shardsets:s}){let r=!!(await Promise.all(s.map(async s=>(await (0,o.KU)()).GET("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:s}}})))).find(e=>e.data&&"completed"!==e.data.status),l=(0,a.A)(p,"401828145438e6c7ac34a63013fce9bc046ee47a6a",null).bind(null,(0,n.encryptActionBoundArgs)("401828145438e6c7ac34a63013fce9bc046ee47a6a",e));return(0,t.jsx)("div",{className:"w-full flex flex-col gap-1",children:(0,t.jsx)("form",{action:l,children:r?(0,t.jsxs)(i.$,{type:"submit",className:"w-full",disabled:r,children:[(0,t.jsx)(d.A,{className:"w-4 h-4 animate-spin"}),"Sync in progress..."]}):(0,t.jsxs)(i.$,{type:"submit",className:"w-full",disabled:r,children:[(0,t.jsx)(c.A,{className:"w-4 h-4"}),"Sync"]})})})}},53653:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"402d3753d37d04587b5194c1a466b5d4d3a60e4e2b":()=>i,"7f9e7f2f8d2eeef4de59458efda0f9540fbc9c3f0a":()=>d});var t=r(6391);r(80127);var a=r(17773),n=r(63995);async function i(e){try{let s=await (await (0,a.KU)()).DELETE("/datasets/{dataset_id}",{params:{path:{dataset_id:e}}});if(s.error)return{success:!1,error:s.error.detail};return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}async function d(e,s,r,t,n,i,d,c){let l=[];try{l=JSON.parse(t)}catch(e){return{success:!1,error:"Invalid preprocessors data"}}try{let t=await (await (0,a.KU)()).POST("/datasets/{dataset_id}/preprocess",{params:{path:{dataset_id:e}},body:{shardset_location:s,source_shardset_ids:r,preprocessors:l,export_columns:n,batch_size:i,overwrite:d,drop_last:c}});if(t.error){let e="Unknown error";return"string"==typeof t.error.detail&&(e=t.error.detail),{success:!1,error:e}}return{success:!0,data:t.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,n.D)([i]),(0,t.A)(i,"402d3753d37d04587b5194c1a466b5d4d3a60e4e2b",null),(0,n.D)([d]),(0,t.A)(d,"7f9e7f2f8d2eeef4de59458efda0f9540fbc9c3f0a",null)},54845:(e,s,r)=>{Promise.resolve().then(r.bind(r,65854)),Promise.resolve().then(r.bind(r,26325)),Promise.resolve().then(r.bind(r,68602)),Promise.resolve().then(r.bind(r,28077))},61573:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(51477).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63354:(e,s,r)=>{"use strict";r.d(s,{X:()=>n});var t=r(65138),a=r(42850);function n(e){let[s,r]=t.useState(void 0);return(0,a.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let t,a;if(!Array.isArray(s)||!s.length)return;let n=s[0];if("borderBoxSize"in n){let e=n.borderBoxSize,s=Array.isArray(e)?e[0]:e;t=s.inlineSize,a=s.blockSize}else t=e.offsetWidth,a=e.offsetHeight;r({width:t,height:a})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}r(void 0)},[e]),s}},68602:(e,s,r)=>{"use strict";r.d(s,{PreprocessDatasetDialog:()=>B});var t=r(40871),a=r(65138),n=r(22384),i=r(15376),d=r(24983),c=r(21895),l=r(13804),o=r(33094),u=r(26123),p=r(10839),h=r(68491),x=r(17141),m=r(8041),f=r(28975),v=r(36931);let g=(0,v.createServerReference)("7f9e7f2f8d2eeef4de59458efda0f9540fbc9c3f0a",v.callServer,void 0,v.findSourceMapURL,"preprocessDataset");var b=r(14343),j=r(47231),y=r(27642),N=r(19654),w=r(63354),_=r(84055),k=r(2104),P="Checkbox",[C,D]=(0,j.A)(P),[S,A]=C(P);function E(e){let{__scopeCheckbox:s,checked:r,children:n,defaultChecked:i,disabled:d,form:c,name:l,onCheckedChange:o,required:u,value:p="on",internal_do_not_use_render:h}=e,[x,m]=(0,N.i)({prop:r,defaultProp:i??!1,onChange:o,caller:P}),[f,v]=a.useState(null),[g,b]=a.useState(null),j=a.useRef(!1),y=!f||!!c||!!f.closest("form"),w={checked:x,disabled:d,setChecked:m,control:f,setControl:v,name:l,form:c,value:p,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:!M(i)&&i,isFormControl:y,bubbleInput:g,setBubbleInput:b};return(0,t.jsx)(S,{scope:s,...w,children:"function"==typeof h?h(w):n})}var R="CheckboxTrigger",O=a.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:r,...n},i)=>{let{control:d,value:c,disabled:l,checked:o,required:u,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:x,isFormControl:m,bubbleInput:f}=A(R,e),v=(0,b.s)(i,p),g=a.useRef(o);return a.useEffect(()=>{let e=d?.form;if(e){let s=()=>h(g.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[d,h]),(0,t.jsx)(k.sG.button,{type:"button",role:"checkbox","aria-checked":M(o)?"mixed":o,"aria-required":u,"data-state":F(o),"data-disabled":l?"":void 0,disabled:l,value:c,...n,ref:v,onKeyDown:(0,y.m)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,y.m)(r,e=>{h(e=>!!M(e)||!e),f&&m&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});O.displayName=R;var U=a.forwardRef((e,s)=>{let{__scopeCheckbox:r,name:a,checked:n,defaultChecked:i,required:d,disabled:c,value:l,onCheckedChange:o,form:u,...p}=e;return(0,t.jsx)(E,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:c,required:d,onCheckedChange:o,name:a,form:u,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O,{...p,ref:s,__scopeCheckbox:r}),e&&(0,t.jsx)(z,{__scopeCheckbox:r})]})})});U.displayName=P;var q="CheckboxIndicator",$=a.forwardRef((e,s)=>{let{__scopeCheckbox:r,forceMount:a,...n}=e,i=A(q,r);return(0,t.jsx)(_.C,{present:a||M(i.checked)||!0===i.checked,children:(0,t.jsx)(k.sG.span,{"data-state":F(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...e.style}})})});$.displayName=q;var G="CheckboxBubbleInput",z=a.forwardRef(({__scopeCheckbox:e,...s},r)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:d,defaultChecked:c,required:l,disabled:o,name:u,value:p,form:h,bubbleInput:x,setBubbleInput:m}=A(G,e),f=(0,b.s)(r,m),v=function(e){let s=a.useRef({value:e,previous:e});return a.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}(d),g=(0,w.X)(n);a.useEffect(()=>{if(!x)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!i.current;if(v!==d&&e){let r=new Event("click",{bubbles:s});x.indeterminate=M(d),e.call(x,!M(d)&&d),x.dispatchEvent(r)}},[x,v,d,i]);let j=a.useRef(!M(d)&&d);return(0,t.jsx)(k.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??j.current,required:l,disabled:o,name:u,value:p,form:h,...s,tabIndex:-1,ref:f,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function M(e){return"indeterminate"===e}function F(e){return M(e)?"indeterminate":e?"checked":"unchecked"}z.displayName=G;var L=r(20574),T=r(75908);function I({className:e,...s}){return(0,t.jsx)(U,{"data-slot":"checkbox",className:(0,T.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)($,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(L.A,{className:"size-3.5"})})})}function J(){let{pending:e}=(0,c.useFormStatus)();return(0,t.jsx)(u.$,{type:"submit",disabled:e,children:e?"Saving...":"Save"})}function K({index:e,preprocessors:s,preprocessorInputs:r,setPreprocessorInputs:a}){return(0,t.jsx)("div",{className:"my-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"preprocessor-name-"+e,children:"Name"}),(0,t.jsxs)(f.l6,{required:!0,value:r[e].name,onValueChange:s=>a(r.map((r,t)=>t===e?{...r,name:s}:r)),children:[(0,t.jsx)(f.bq,{className:"col-span-3",children:(0,t.jsx)(f.yv,{placeholder:"Select a preprocessor"})}),(0,t.jsx)(f.gC,{className:"col-span-3",children:s.map(e=>(0,t.jsx)(f.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"preprocessor-params-"+e,children:"Params"}),(0,t.jsx)(h.p,{id:"preprocessor-params-"+e,className:"col-span-3",placeholder:'{"max_length": 512}',required:!0,value:r[e].params,onChange:s=>a(r.map((r,t)=>t===e?{...r,params:s.target.value}:r))})]})]})})}function B({datasetId:e,shardsets:s,preprocessors:r,children:c}){let[v,b]=(0,a.useState)(""),[j,y]=(0,a.useState)([]),[N,w]=(0,a.useState)([]),[_,k]=(0,a.useState)([]),[P,C]=(0,a.useState)(1),[D,S]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),[R,O]=(0,a.useState)(!1),U=(0,a.useRef)(null),q=()=>{b(""),y([]),w([]),k([]),C(1),U.current?.reset()},$=async s=>{let r="";try{let e=j.map(e=>({name:e.name,params:JSON.parse(e.params)}));r=JSON.stringify(e)}catch(e){d.oR.error("Invalid preprocessor params");return}let t=await g(e,v,N,r,_,P,D,A);t.success?(d.oR.success("Started preprocessing"),O(!1),q()):d.oR.error(`Failed to start preprocessing: ${t.error}`)};return 0===r.length?(0,t.jsxs)(p.lG,{open:R,onOpenChange:O,children:[(0,t.jsx)(p.zM,{asChild:!0,children:c}),(0,t.jsx)(p.Cf,{className:"sm:max-w-[600px]",children:(0,t.jsxs)(p.c7,{children:[(0,t.jsx)(p.L3,{children:"No preprocessors found!"}),(0,t.jsx)(p.rr,{children:"Please create a preprocessor first."})]})})]}):(0,t.jsxs)(p.lG,{open:R,onOpenChange:O,children:[(0,t.jsx)(p.zM,{asChild:!0,children:c}),(0,t.jsxs)(p.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(p.c7,{children:[(0,t.jsx)(p.L3,{children:"Preprocess"}),(0,t.jsx)(p.rr,{children:"Generate a new shardset by preprocessing the dataset."})]}),(0,t.jsxs)("form",{ref:U,action:$,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsx)("div",{className:"text-lg mt-2",children:"Source"}),N.map((e,r)=>(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"source",className:"text-right",children:"Shardset"}),(0,t.jsxs)(f.l6,{name:"source",required:!0,value:e,onValueChange:e=>w(s=>{let t=[...s];return t[r]=e,t}),children:[(0,t.jsx)(f.bq,{className:"col-span-3",children:(0,t.jsx)(f.yv,{placeholder:"Select a source"})}),(0,t.jsx)(f.gC,{className:"col-span-3",children:s.map(e=>(0,t.jsx)(f.eb,{value:e.id,disabled:N.includes(e.id),children:e.location},e.id))})]})]},`sourceShardset-${r}`)),N.length<s.length&&(0,t.jsxs)(u.$,{type:"button",variant:"outline",onClick:()=>w([...N,""]),children:[(0,t.jsx)(n.A,{}),"Add Source Shardset"]}),(0,t.jsxs)("div",{className:"text-lg mt-2 flex gap-2 items-center",children:[(0,t.jsx)("div",{children:"Preprocessors"}),(0,t.jsx)(m.F,{icon:(0,t.jsx)(i.A,{className:"w-4 h-4"}),content:(0,t.jsx)("p",{})})]}),(0,t.jsx)(l.F,{className:"max-h-[200px]",children:j.map((e,s)=>(0,t.jsxs)("div",{children:[(0,t.jsx)(K,{index:s,preprocessors:r,preprocessorInputs:j,setPreprocessorInputs:y}),(0,t.jsx)(o.w,{className:"my-2"})]},s))}),(0,t.jsxs)(u.$,{type:"button",variant:"outline",onClick:()=>y([...j,{name:"",params:"{}"}]),children:[(0,t.jsx)(n.A,{}),"Add Preprocessor"]})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsx)("div",{className:"text-lg mt-2",children:"Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"location",className:"text-right",children:"Batch Size"}),(0,t.jsx)(h.p,{id:"batch_size",name:"batch_size",type:"number",className:"col-span-3",placeholder:"100",required:!0,value:P,onChange:e=>C(Number(e.target.value))})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsx)("div",{className:"text-lg mt-2",children:"Output"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"location",className:"text-right",children:"Location"}),(0,t.jsx)(h.p,{id:"location",name:"location",className:"col-span-3",placeholder:"s3://bucket/path/to/shardset/",required:!0,value:v,onChange:e=>b(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"location",className:"text-right",children:"Overwrite"}),(0,t.jsx)(I,{id:"overwrite",name:"overwrite",checked:D,onCheckedChange:e=>S("indeterminate"!==e&&e)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x.J,{htmlFor:"location",className:"text-right",children:"Drop Last"}),(0,t.jsx)(I,{id:"drop_last",name:"drop_last",checked:A,onCheckedChange:e=>E("indeterminate"!==e&&e)})]}),_.map((e,s)=>(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsxs)(x.J,{htmlFor:"location",className:"text-right",children:["Export Column ",s+1]}),(0,t.jsx)(h.p,{id:"location",name:"location",className:"col-span-3",placeholder:"new_column_name",required:!0,value:e,onChange:e=>k(r=>{let t=[...r];return t[s]=e.target.value,t})},`export-column-${s}`)]})),(0,t.jsxs)(u.$,{type:"button",variant:"outline",className:"",onClick:()=>k([..._,""]),children:[(0,t.jsx)(n.A,{}),"Add Export Column"]})]}),(0,t.jsx)(p.Es,{children:(0,t.jsx)(J,{})})]})]})]})}},72336:(e,s,r)=>{"use strict";r.d(s,{PreprocessDatasetDialog:()=>t});let t=(0,r(26259).registerClientReference)(function(){throw Error("Attempted to call PreprocessDatasetDialog() from the server but PreprocessDatasetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/settings/preprocess-dataset-dialog.tsx","PreprocessDatasetDialog")},87110:(e,s,r)=>{"use strict";r.d(s,{A:()=>i});var t=r(45290);r(12850);var a=r(72188),n=r(56807);async function i(e,s,r){try{let t=await (await (0,a.KU)()).POST("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:s}},body:{overwrite:r}});if(t.error){let e="Unknown error";return"string"==typeof t.error.detail&&(e=t.error.detail),{success:!1,error:e}}return(0,n.revalidatePath)(`/datasets/${e}/shardsets/${s}`),{success:!0,data:t.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,r(40334).D)([i]),(0,t.A)(i,"70fb486120b257a8b4ccb7e8d7d338d46dec4e902a",null)},87557:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(94829),a=r(32253),n=r(72188),i=r(44155),d=r(40931),c=r(22393),l=r(72336),o=r(48161);async function u({params:e}){let{dataset_id:s}=await e,r=await (0,n.KU)(),u=await r.GET("/datasets/{dataset_id}",{params:{path:{dataset_id:s}}}),p=await r.GET("/registries/preprocessors",{});if(u.error)return(0,t.jsx)(i.ErrorCard,{error:u.error.detail});if(!p.data)return(0,t.jsx)(i.ErrorCard,{error:p.error});let h=u.data;return(0,t.jsx)("div",{className:"w-full max-w-[720px] flex flex-col gap-2 items-start",children:(0,t.jsx)(d.Zp,{className:"w-full",children:(0,t.jsxs)(d.Wu,{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-md",children:"Sync shardsets"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Sync the all shardsets of this dataset to their locations."})]}),(0,t.jsx)(o.Q,{dataset_id:s,shardsets:h.shardsets.map(e=>e.id)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-md",children:"Preprocess"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Generate a new shardset by preprocessing the dataset."})]}),(0,t.jsx)(l.PreprocessDatasetDialog,{datasetId:s,shardsets:h.shardsets,preprocessors:p.data.map(e=>e.name),children:(0,t.jsx)(a.$,{variant:"default",children:"Preprocess"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-md",children:"Delete this dataset"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"This action is irreversible."})]}),(0,t.jsx)(c.DeleteDatasetDialog,{datasetId:s,children:(0,t.jsx)(a.$,{variant:"destructive",children:"Delete this dataset"})})]})]})})})}},88233:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"401828145438e6c7ac34a63013fce9bc046ee47a6a":()=>t.x,"70fb486120b257a8b4ccb7e8d7d338d46dec4e902a":()=>a.A});var t=r(48161),a=r(87110)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[294,94,562,543,751,585,279,36,807,24,463,966,611],()=>r(334));module.exports=t})();