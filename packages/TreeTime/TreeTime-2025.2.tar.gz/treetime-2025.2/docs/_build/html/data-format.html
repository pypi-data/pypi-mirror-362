<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data Format &#8212; TreeTime User Manual 2025.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=9da58f5d"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Fields" href="data-fields.html" />
    <link rel="prev" title="Introduction" href="introduction.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="data-format">
<h1>Data Format<a class="headerlink" href="#data-format" title="Link to this heading">¶</a></h1>
<section id="global-structure">
<h2>Global Structure<a class="headerlink" href="#global-structure" title="Link to this heading">¶</a></h2>
<p>TreeTime data files are plain text (Unicode/UTF8) and can be edited with any text editor. The global structure consists of three parts: The tree definition, the item definition, and the item pool.</p>
<ul class="simple">
<li><p>The tree definition is preceded with the marker <code class="docutils literal notranslate"><span class="pre">--trees--</span></code> followed by a newline. This defines the number and data structure of the trees in the file.</p></li>
<li><p>The data item definition is preceded by the marker <code class="docutils literal notranslate"><span class="pre">--item-types--</span></code> followed by a newline. This defines the data fields of each data item.</p></li>
<li><p>The item pool is preceded by the marker <code class="docutils literal notranslate"><span class="pre">--item-pool--</span></code> followed by a newline. This section contains the actual data.</p></li>
</ul>
<p>The file content of the simple example file in the Introduction chapter looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">trees</span><span class="o">--</span>

<span class="n">tree</span> <span class="s2">&quot;Tree 1&quot;</span>
    <span class="n">field</span> <span class="s2">&quot;Value&quot;</span>
        <span class="n">field</span><span class="o">-</span><span class="nb">type</span> <span class="s2">&quot;sum&quot;</span>
        <span class="n">own</span><span class="o">-</span><span class="n">fields</span> <span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">child</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
        <span class="n">sibling</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
        <span class="n">parent</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
    <span class="n">field</span> <span class="s2">&quot;Sum&quot;</span>
        <span class="n">field</span><span class="o">-</span><span class="nb">type</span> <span class="s2">&quot;sum&quot;</span>
        <span class="n">own</span><span class="o">-</span><span class="n">fields</span> <span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">child</span><span class="o">-</span><span class="n">fields</span> <span class="p">[</span><span class="s2">&quot;Sum&quot;</span><span class="p">]</span>
        <span class="n">sibling</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
        <span class="n">parent</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>

<span class="n">tree</span> <span class="s2">&quot;Tree 2&quot;</span>
    <span class="n">field</span> <span class="s2">&quot;Value&quot;</span>
        <span class="n">field</span><span class="o">-</span><span class="nb">type</span> <span class="s2">&quot;sum&quot;</span>
        <span class="n">own</span><span class="o">-</span><span class="n">fields</span> <span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">child</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
        <span class="n">sibling</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
        <span class="n">parent</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
    <span class="n">field</span> <span class="s2">&quot;Sum&quot;</span>
        <span class="n">field</span><span class="o">-</span><span class="nb">type</span> <span class="s2">&quot;sum&quot;</span>
        <span class="n">own</span><span class="o">-</span><span class="n">fields</span> <span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">child</span><span class="o">-</span><span class="n">fields</span> <span class="p">[</span><span class="s2">&quot;Sum&quot;</span><span class="p">]</span>
        <span class="n">sibling</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
        <span class="n">parent</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>

<span class="o">--</span><span class="n">item</span><span class="o">-</span><span class="n">types</span><span class="o">--</span>

<span class="n">item</span> <span class="n">Node</span>
    <span class="n">fields</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
    <span class="n">trees</span> <span class="p">[[],</span> <span class="p">[]]</span>

<span class="o">--</span><span class="n">item</span><span class="o">-</span><span class="n">pool</span><span class="o">--</span>

<span class="n">item</span> <span class="n">A</span>
    <span class="n">fields</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
    <span class="n">trees</span> <span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

<span class="n">item</span> <span class="n">B</span>
    <span class="n">fields</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
    <span class="n">trees</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

<span class="n">item</span> <span class="n">C</span>
    <span class="n">fields</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
    <span class="n">trees</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>

<span class="n">item</span> <span class="n">D</span>
    <span class="n">fields</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
    <span class="n">trees</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]</span>

<span class="n">item</span> <span class="n">E</span>
    <span class="n">fields</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
    <span class="n">trees</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
</pre></div>
</div>
</section>
<section id="tree-definition">
<h2>Tree Definition<a class="headerlink" href="#tree-definition" title="Link to this heading">¶</a></h2>
<p>A single tree is defined by the name of the tree and a list of tree fields. A node’s tree field values are calculated from data fields or tree fields of the node itself, its siblings, parent and children. Each of these are mentioned in the field definition. There are various different field types, some use values in the current tree, some use values from other trees. You can for example display the name of a node’s parent in a different tree. Trees are numbered starting with 0. Look at the first tree in the example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tree</span> <span class="s2">&quot;Tree 1&quot;</span>
    <span class="n">field</span> <span class="s2">&quot;Value&quot;</span>
        <span class="n">field</span><span class="o">-</span><span class="nb">type</span> <span class="s2">&quot;sum&quot;</span>
        <span class="n">own</span><span class="o">-</span><span class="n">fields</span> <span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">child</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
        <span class="n">sibling</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
        <span class="n">parent</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
    <span class="n">field</span> <span class="s2">&quot;Sum&quot;</span>
        <span class="n">field</span><span class="o">-</span><span class="nb">type</span> <span class="s2">&quot;sum&quot;</span>
        <span class="n">own</span><span class="o">-</span><span class="n">fields</span> <span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">child</span><span class="o">-</span><span class="n">fields</span> <span class="p">[</span><span class="s2">&quot;Sum&quot;</span><span class="p">]</span>
        <span class="n">sibling</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
        <span class="n">parent</span><span class="o">-</span><span class="n">fields</span> <span class="p">[]</span>
</pre></div>
</div>
<p>The tree itself is called “Tree 1”. It has two tree fields, “Value” and “Sum”. The tree field “Value” is of type “sum”, and it displays anything that is found in the data item field “value”. The tree field “Sum” is also of type “Sum” and for each node it adds everything in the node’s item field “value”, plus all values in the tree field “Sum” of its children.</p>
<p>More about how to define tree fields in the next chapter.</p>
</section>
<section id="data-item-definition">
<h2>Data Item Definition<a class="headerlink" href="#data-item-definition" title="Link to this heading">¶</a></h2>
<p>Each node in a tree is stored as a “data item”. In the data file a “data item” is stored like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">item</span> <span class="n">A</span>
    <span class="n">fields</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
    <span class="n">trees</span> <span class="p">[[],</span> <span class="p">[]]</span>
</pre></div>
</div>
<p>After four spaces indent, there’s the keyword “item” and the name (in this case “A”). This is the name that’s displayed in the heading of the data item pane in the GUI, and as the node name in the tree pane of the GUI.
The next line, after an indent of 8 spaces, has the keyword “fields” followed by a json dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;field name 1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">},</span> <span class="s2">&quot;field name 2&quot;</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>In this dictionary, each data field has a sub-dictionary listing its default content, the field type, and possibly some other values (timers have a running/stopped flag and a last-started flag). When a new item/node is created, this default content will be in all data fields. In the example above, a new node will contain one single field called “value” with the content “1”.</p>
<p>For a description of all possible data field types, see the Data Fields chapter.</p>
<p>The last line, “trees …”, must contain an array of <em>N</em> empty arrays, where <em>N</em> is the number of trees in your file. If you have four trees in your tree fiel, that line must read:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">trees</span> <span class="p">[[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]]</span>
</pre></div>
</div>
<p>This makes your field definition available in all trees (and creates an error otherwise).</p>
</section>
<section id="the-data-pool">
<h2>The Data Pool<a class="headerlink" href="#the-data-pool" title="Link to this heading">¶</a></h2>
<p>The Data Pool is the last of the three sections of the tree file, and in most cases the largest. This is where the actual data is stored.
It consists of a list of items in the tree, with a syntax like in the data item definition section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">item</span> <span class="n">D</span>
    <span class="n">fields</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
    <span class="n">trees</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]</span>

<span class="n">item</span> <span class="n">E</span>
    <span class="n">fields</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">}}</span>
    <span class="n">trees</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
</pre></div>
</div>
<p>The content here is the actual content in the field. The tree structure is stored in the last line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">trees</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
</pre></div>
</div>
<p>This is an array of arrays, each of which is a path in the tree. In the example above the node can be found following the path 0-0-1 in the first tree starting at the root node, and 0-1 in the second tree. Children are numbered using fixed indexes, starting at 0. A path of 0-0-1 means: My node is the second child (-1) of the first child (-0-1) of the first child (0-0-1) of the root node in the (first) tree. And in the second tree, the path 0-1 says the node is the second child of the first child of the root.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">TreeTime User Manual</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#global-structure">Global Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tree-definition">Tree Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-item-definition">Data Item Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-data-pool">The Data Pool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data-fields.html">Data Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="tree-fields.html">Tree Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">History and Road Map</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="introduction.html" title="previous chapter">Introduction</a></li>
      <li>Next: <a href="data-fields.html" title="next chapter">Data Fields</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;CC BY-SA 4.0,  Jacob Kanev.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/data-format.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>