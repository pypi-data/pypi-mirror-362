# Custom Gift Send - –£–ª—É—á—à–µ–Ω–Ω—ã–π –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram Bot API –ö–ª–∏–µ–Ω—Ç üéÅ‚ú®üîí

**custom-gift-send v2.1.0** ‚Äî –º–æ—â–Ω—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Python-–∫–ª–∏–µ–Ω—Ç –¥–ª—è Telegram Bot API –≤–µ—Ä—Å–∏–∏ 9.1 —Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é, –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏. –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥–∞—Ä–∫–∞–º–∏, Telegram Stars, —Å–ø–∏—Å–∫–∞–º–∏ –∑–∞–¥–∞—á, –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –∏ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.

## üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ v2.1.0

### üîí –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **Rate Limiting**: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Request Signing**: –ü–æ–¥–ø–∏—Å—ã–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏
- **IP Filtering**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–º IP-–∞–¥—Ä–µ—Å–∞–º
- **Data Encryption**: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **SSL/TLS**: –£—Å–∏–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- **Request Size Limits**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

### üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Real-time Analytics**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Performance Metrics**: –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
- **Error Tracking**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫
- **Health Checks**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞
- **Structured Logging**: JSON-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ª—É—á—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### üéØ –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π
- **Event Handlers**: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- **Webhook Validation**: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö webhook-–¥–∞–Ω–Ω—ã—Ö
- **Custom Events**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

### üîß –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **Bulk Operations**: –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —Å–∫–æ—Ä–æ—Å—Ç–∏
- **Enhanced Caching**: –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- **File Operations**: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- **Chat Management**: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏
- **Safe Methods**: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –Ω–µ –≤—ã–∑—ã–≤–∞—é—â–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install custom-gift-send
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
pip install custom-gift-send[dev]  # –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install custom-gift-send[docs] # –î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```python
from custom_gift_send import CustomGiftSend, SecurityConfig

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
security_config = SecurityConfig(
    max_request_size=50 * 1024 * 1024,  # 50MB
    rate_limit_requests=30,              # 30 –∑–∞–ø—Ä–æ—Å–æ–≤
    rate_limit_window=60,                # –∑–∞ 60 —Å–µ–∫—É–Ω–¥
    allowed_ips={'127.0.0.1', '192.168.1.0/24'},  # –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ IP
    encrypt_sensitive_data=True,         # –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    max_concurrent_requests=100,         # –ú–∞–∫—Å–∏–º—É–º concurrent –∑–∞–ø—Ä–æ—Å–æ–≤
    enable_request_signing=True          # –ü–æ–¥–ø–∏—Å—ã–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
)
```

### –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ config.ini
```ini
[telegram]
bot_token = –í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê
update_timeout = 60
cache_ttl_gifts = 3600
cache_ttl_balance = 300
cache_ttl_chats = 3600
max_retries = 5
retry_delay = 2
conn_timeout = 10
request_timeout = 60

[security]
max_request_size = 52428800
rate_limit_requests = 30
rate_limit_window = 60
encrypt_sensitive_data = true
max_concurrent_requests = 100
enable_request_signing = true
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é
```python
import asyncio
import logging
from custom_gift_send import CustomGiftSend, GiftAlias, SecurityConfig, InputChecklist, InputChecklistTask

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

async def main():
    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    security_config = SecurityConfig(
        rate_limit_requests=30,
        rate_limit_window=60,
        encrypt_sensitive_data=True,
        enable_request_signing=True
    )
    
    async with CustomGiftSend(
        token="–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê",
        security_config=security_config,
        logger=logger
    ) as bot:
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞
        health = await bot.health_check()
        logger.info(f"Bot health: {health['status']}")
        
        # –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GiftAlias
        await bot.send_simple_gift(
            chat_id=123456, 
            gift_id=GiftAlias.PREMIUM_3_MONTHS, 
            text="–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! üéâ"
        )
        
        # –î–∞—Ä–µ–Ω–∏–µ Premium-–ø–æ–¥–ø–∏—Å–∫–∏
        await bot.gift_premium_subscription(user_id=123456, months=3)
        
        # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á
        checklist = InputChecklist(
            title="–ú–æ–∏ –∑–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è",
            tasks=[
                InputChecklistTask(text="–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—á—Ç—É", is_checked=False),
                InputChecklistTask(text="–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥", is_checked=True),
                InputChecklistTask(text="–ù–∞–ø–∏—Å–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é", is_checked=False)
            ]
        )
        message = await bot.send_checklist(chat_id=123456, checklist=checklist)
        logger.info(f"Checklist sent: {message.message_id}")
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ Stars —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
        balance = await bot.get_star_balance(force_refresh=True)
        logger.info(f"Star balance: {balance}")
        
        # –ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
        chat_ids = [123456, 789012, 345678]
        results = await bot.bulk_send_message(
            chat_ids=chat_ids,
            text="–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º! üëã",
            delay=0.5  # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∫–∞–º–∏
        )
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
        analytics = bot.get_analytics()
        logger.info(f"Bot analytics: {analytics}")

if __name__ == "__main__":
    asyncio.run(main())
```

### –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π
```python
async def on_gift_sent(data):
    print(f"Gift sent to chat {data['chat_id']}: {data['gift_id']}")

async def on_message_sent(data):
    print(f"Message {data['message_id']} sent to chat {data['chat_id']}")

async def main():
    async with CustomGiftSend(token="–í–ê–®_–¢–û–ö–ï–ù") as bot:
        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        bot.add_event_handler("gift_sent", on_gift_sent)
        bot.add_event_handler("message_sent", on_message_sent)
        
        # –í–∞—à –∫–æ–¥...
```

### –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
```python
async def error_handler(error):
    logger.error(f"Error in updates stream: {error}")
    # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

async def main():
    async with CustomGiftSend(token="–í–ê–®_–¢–û–ö–ï–ù") as bot:
        async for update in bot.updates_stream(
            timeout=60,
            error_handler=error_handler
        ):
            if update.message:
                await bot.send_message(
                    chat_id=update.message.chat.id,
                    text=f"–ü–æ–ª—É—á–µ–Ω–æ: {update.message.text}"
                )
```

### –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
```python
async def main():
    async with CustomGiftSend(token="–í–ê–®_–¢–û–ö–ï–ù") as bot:
        # –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ
        with open("photo.jpg", "rb") as photo:
            await bot.send_photo(
                chat_id=123456,
                photo=photo.read(),
                caption="–ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ç–æ! üì∏"
            )
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–µ
        file_info = await bot.get_file("BAADBAADrwADBREAAYdaAAE...")
        
        # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
        file_data = await bot.download_file(file_info["file_path"])
        with open("downloaded_file", "wb") as f:
            f.write(file_data)
```

## üîß API-—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–¥–∞—Ä–∫–æ–≤
- `send_gift(chat_id, gift_id, **kwargs)` - –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–∞ –ø–æ ID
- `send_simple_gift(chat_id, gift_id, **kwargs)` - –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–∞ —Å GiftAlias
- `gift_premium_subscription(user_id, months, **kwargs)` - –î–∞—Ä–µ–Ω–∏–µ Premium
- `transfer_gift(recipient_user_id, **kwargs)` - –ü–µ—Ä–µ–≤–æ–¥ –ø–æ–¥–∞—Ä–∫–∞
- `get_star_balance(force_refresh=False)` - –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ Stars
- `get_available_gifts(force_refresh=False)` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤
- `refund_star_payment(user_id, charge_id)` - –í–æ–∑–≤—Ä–∞—Ç –ø–ª–∞—Ç–µ–∂–∞ Stars

### –ú–µ—Ç–æ–¥—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- `send_message(chat_id, text, **kwargs)` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- `send_message_safe(chat_id, text, **kwargs)` - –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
- `edit_message_text(text, **kwargs)` - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `delete_message(chat_id, message_id)` - –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `forward_message(chat_id, from_chat_id, message_id, **kwargs)` - –ü–µ—Ä–µ—Å—ã–ª–∫–∞
- `bulk_send_message(chat_ids, text, delay=0.1, **kwargs)` - –ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞

### –ú–µ—Ç–æ–¥—ã —á–∞—Ç–æ–≤
- `get_chat(chat_id, force_refresh=False)` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–∞—Ç–µ
- `get_chat_administrators(chat_id)` - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã —á–∞—Ç–∞
- `get_chat_member_count(chat_id)` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- `set_chat_title(chat_id, title)` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è
- `set_chat_description(chat_id, description)` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è
- `pin_chat_message(chat_id, message_id)` - –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `leave_chat(chat_id)` - –ü–æ–∫–∏–¥–∞–Ω–∏–µ —á–∞—Ç–∞

### –ú–µ—Ç–æ–¥—ã —á–µ–∫–ª–∏—Å—Ç–æ–≤
- `send_checklist(chat_id, checklist, **kwargs)` - –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ–∫–ª–∏—Å—Ç–∞
- `edit_message_checklist(checklist, **kwargs)` - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–∞

### –ú–µ—Ç–æ–¥—ã —Ñ–∞–π–ª–æ–≤
- `send_photo(chat_id, photo, **kwargs)` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ
- `send_document(chat_id, document, **kwargs)` - –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `get_file(file_id)` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ
- `download_file(file_path)` - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

### –£—Ç–∏–ª–∏—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `get_bot_info()` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
- `health_check()` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `get_analytics()` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `updates_stream(timeout, limit, error_handler)` - –ü–æ—Ç–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SecurityConfig
```python
@dataclass
class SecurityConfig:
    max_request_size: int = 50 * 1024 * 1024  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
    rate_limit_requests: int = 30              # –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
    rate_limit_window: int = 60                # –û–∫–Ω–æ –ª–∏–º–∏—Ç–∞ (—Å–µ–∫—É–Ω–¥—ã)
    allowed_ips: Optional[Set[str]] = None     # –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ IP
    webhook_secret_token: Optional[str] = None # –°–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω webhook
    encrypt_sensitive_data: bool = True        # –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    max_concurrent_requests: int = 100         # –ú–∞–∫—Å–∏–º—É–º concurrent –∑–∞–ø—Ä–æ—Å–æ–≤
    request_timeout_multiplier: float = 1.5    # –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ç–∞–π–º–∞—É—Ç–∞
    enable_request_signing: bool = True        # –ü–æ–¥–ø–∏—Å—ã–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è webhook
```python
def custom_webhook_validator(data: dict) -> bool:
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    return "update_id" in data

bot.add_webhook_validator(custom_webhook_validator)
```

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É:
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –£—Å–ø–µ—à–Ω—ã–µ –∏ –Ω–µ—É–¥–∞—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ (—Å—Ä–µ–¥–Ω–µ–µ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
- –û—à–∏–±–∫–∏ –ø–æ —Ç–∏–ø–∞–º
- –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–æ–¥–∞—Ä–∫–∏
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```python
from custom_gift_send import (
    TelegramBadRequestError,
    TelegramTooManyRequestsError,
    SecurityError,
    RateLimitError,
    ValidationError
)

try:
    await bot.send_simple_gift(
        chat_id="invalid", 
        gift_id=GiftAlias.PREMIUM_1_MONTH
    )
except ValidationError as e:
    logger.error(f"Validation error: {e}")
except TelegramBadRequestError as e:
    logger.error(f"API error: {e.description}")
except SecurityError as e:
    logger.error(f"Security error: {e}")
except RateLimitError as e:
    logger.error(f"Rate limit exceeded: {e}")
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å –≤–µ—Ä—Å–∏–∏ 2.0.x

1. –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install custom-gift-send>=2.1.0
```

2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
```python
from custom_gift_send import SecurityConfig

security_config = SecurityConfig()
bot = CustomGiftSend(token="TOKEN", security_config=security_config)
```

3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
```python
# –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±
balance = await bot.get_star_balance()

# –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
balance = await bot.get_star_balance(force_refresh=True)
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞:

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
git clone https://github.com/Nsvl/custom-gift-send.git
cd custom-gift-send
pip install -e .[dev]
pytest
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Telegram –∫–∞–Ω–∞–ª**: [@GifterChannel](https://t.me/GifterChannel)
- **Issues**: [GitHub Issues](https://github.com/Nsvl/custom-gift-send/issues)
- **Email**: huff-outer-siding@duck.com

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

## üéâ –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –≤—Å–µ–º, –∫—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç! –í–∞—à–∏ –æ—Ç–∑—ã–≤—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç –º–æ–¥—É–ª—å –ª—É—á—à–µ.

---

**Custom Gift Send v2.1.0** - –í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø—É—Ç–Ω–∏–∫ –≤ –º–∏—Ä–µ Telegram Bot API! üöÄüîí