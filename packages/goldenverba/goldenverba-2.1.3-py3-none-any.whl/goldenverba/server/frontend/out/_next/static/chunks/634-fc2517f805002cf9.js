"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{6089:function(e,a,t){var r=t(57437),l=t(2265),n=t(25847),s=t(97223),o=t(65125);a.Z=e=>{let{component:a="embedders",apiHost:t,onGeneratorSelect:c,production:d}=e,[i,m]=(0,l.useState)([]),[u,h]=(0,l.useState)(),[b,x]=(0,l.useState)(!1),[g,p]=(0,l.useState)(!1),v=l.useRef(null),f=()=>{x(e=>!e)},j=async e=>{if(!0!=d){h(e),f();try{await fetch("".concat(t,"/api/set_component"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({component:a,selected_component:e.name})})}catch(e){console.error("Error setting component:",e)}}};return(0,l.useEffect)(()=>{"generators"===a&&c(null!=u&&!!u.streamable&&u.streamable)},[u]),(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(t,"/api/get_component"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({component:a})}),r=await e.json();h(r.selected_component),m(r.components)}catch(e){console.error("Error fetching readers:",e)}})()},[t]),(0,r.jsxs)("div",{className:"ml-5 animate-pop-in",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[" ",(0,r.jsxs)("button",{ref:v,onClick:f,className:"flex items-center md:w-44 sm:w-32 space-x-2 bg-gray-200 text-black p-3 rounded-lg ".concat("embedders"===a?"hover:bg-fuchsia-300":"retrievers"===a?"hover:bg-indigo-300":"hover:bg-lime-400"," border-2 border-black hover:border-white hover-container shadow-md"),children:["embedders"===a?(0,r.jsx)(n.FUn,{}):"retrievers"===a?(0,r.jsx)(s.j$w,{}):"generators"===a?(0,r.jsx)(o.Iqb,{}):(0,r.jsx)(n.FUn,{}),(0,r.jsx)("span",{className:"truncate",children:(null==u?void 0:u.name)?u.name:"None"})]}),(0,r.jsxs)("div",{className:"relative ml-2",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[(0,r.jsx)("button",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 border-2 border-gray-400 hover:border-white hover-container shadow-md",children:"?"}),g&&(0,r.jsx)("div",{className:"absolute flex transform text-xs mt-2 w-60 bg-gray-200 p-2 rounded-lg shadow-lg text-black z-50",children:null==u?void 0:u.description})]})]}),b&&(0,r.jsx)("div",{className:"absolute flex p-1 max-h-[50vh] animate-pop-in overflow-y-auto z-10 mt-2 items-center justify-center",children:(0,r.jsx)("div",{className:"grid grid-rows-1 gap-2",children:i.filter(e=>e.name!==(null==u?void 0:u.name)).map(e=>(0,r.jsxs)("div",{className:"text-center items-center justify-center",children:[(0,r.jsx)("button",{style:{width:v.current?"".concat(v.current.offsetWidth,"px"):"auto"},onClick:()=>j(e),className:"bg-gray-300 rounded-lg p-2 shadow-md animate-pop-in-late ".concat(e.available?"bg-gray-300 hover:bg-green-200 hover-container":"bg-red-400 hover:bg-red-300"," truncate"),disabled:!e.available,children:(0,r.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,r.jsx)("span",{className:"text-center",children:e.name})})},e.name),!e.available&&(0,r.jsx)("p",{className:"mt-1 p-1 bg-red-200 text-red-800 text-xs rounded-lg truncate",children:e.message})]},e.name))})})]})}},72207:function(e,a,t){var r=t(57437);t(2265);var l=t(14063);a.Z=e=>{let{main:a,sub:t,onClick:n,clipboard:s,available:o=!0,subBgColor:c="green",mainBgColor:d="yellow",isActive:i=!1,title:m=""}=e;return(0,r.jsxs)("button",{onClick:n,title:m,disabled:!o,className:"relative flex items-center justify-center text-black text-lg mt-4 ".concat(i?"bg-".concat(d,"-300"):"bg-gray-300"," rounded-lg font-bold border-2 border-black animate-pop-in-late p-4 w-full shadow-md mr-6 ").concat(i?"hover:bg-".concat(d,"-400"):"hover:bg-gray-200"," hover:border-white"),children:[s?(0,r.jsx)("div",{role:"button",onClick:()=>{navigator.clipboard.writeText(a).then(function(){console.log("Text successfully copied to clipboard!")},function(e){console.error("Unable to copy text: ",e)})},className:"p-3 rounded cursor-pointer",children:(0,r.jsx)(l.esY,{size:20,className:"text-gray-400 hover:text-white"})}):"",(0,r.jsx)("span",{className:"block truncate",children:a}),(0,r.jsx)("span",{className:"block absolute top-2/3 mt-3 text-sm bg-".concat(c,"-300 rounded-lg px-2 truncate text-xs"),children:t})]})}},47825:function(e,a,t){t.d(a,{I:function(){return i}});var r=t(57437),l=t(2265),n=t(13921),s=t(44025),o=t(38666),c=t(73207);let d=l.memo(s.Z);function i(e){let{title:a,text:t,type:s="Documentation",extract:i,docLink:m}=e,u=(0,l.useRef)(null),h=(0,l.useRef)(null),[b,x]=(0,l.useState)(1),[g,p]=(0,l.useState)(!1);(0,l.useEffect)(()=>{x(1)},[t]);let v=i?t.indexOf(i):-1,f=-1!==v?Math.ceil(v/1500):0;(0,l.useEffect)(()=>{i&&f>b&&x(f+1)},[i,f]),(0,l.useEffect)(()=>{u.current&&!g&&(u.current.scrollIntoView({behavior:"smooth",block:"center"}),p(!0))},[t,i]),(0,l.useEffect)(()=>{p(!1)},[t,i]);let j=l.memo(function(e){let{text:a}=e;return(0,r.jsx)(n.D,{components:{code(e){let{node:a,inline:t,className:l,children:n,...s}=e,c=/language-(\w+)/.exec(l||"");return!t&&c?(0,r.jsx)(d,{...s,style:o.Yn,language:c[1],PreTag:"div",children:String(n).replace(/\n$/,"")}):(0,r.jsx)("code",{...s,className:l,children:n})}},children:a})});if(!a)return(0,r.jsx)("div",{className:""});let y=i?v+i.length:-1;return(0,r.jsxs)("div",{ref:h,className:"border-2 border-gray-900 shadow-lg rounded-xl bg-gray-100 p-2 animate-pop-in overflow-y-auto max-h-[50vh]",children:[(0,r.jsxs)("div",{className:"bg-gray-300 text-black p-4 rounded-t-xl w-full sticky top-0 z-10 shadow-md",children:[(0,r.jsx)("span",{className:"mr-4 bg-yellow-300 p-2 rounded-lg shadow-md ",children:s}),(0,r.jsx)("a",{href:m||"#",target:"_blank",rel:"noopener noreferrer",children:a||"Placeholder Title"})]}),(0,r.jsxs)("div",{className:"p-4 my-markdown-styles text-sm font-mono",children:[(0,r.jsx)(j,{text:i?t.slice(0,v):t.slice(0,1500*b)}),i&&(0,r.jsx)("div",{ref:u,className:"bg-green-300 rounded-lg p-3 shadow-lg extract text-sm",children:(0,r.jsx)(j,{text:t.slice(v,y)})}),(0,r.jsx)(j,{text:t.slice(y,1500*b)}),1500*b<t.length&&(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("button",{className:"flex mt-4 bg-yellow-400 hover:bg-yellow-300 text-xs text-black p-3 rounded-lg shadow-md",onClick:()=>{x(e=>e+1)},children:[(0,r.jsx)(c.nyK,{size:15}),(0,r.jsx)("span",{className:"ml-2",children:"Load More"})]})})]})]})}},88046:function(e,a,t){var r=t(57437),l=t(2265),n=t(14063),s=t(2781),o=t(72207),c=t(94473),d=t.n(c);a.Z=e=>{let{onClose:a,apiHost:t}=e,[c,i]=(0,l.useState)([]),[m,u]=(0,l.useState)([]),[h,b]=(0,l.useState)([]),[x,g]=(0,l.useState)("Reader"),[p,v]=(0,l.useState)(null),[f,j]=(0,l.useState)(null),[y,w]=(0,l.useState)(100),[N,k]=(0,l.useState)(50),[C,S]=(0,l.useState)(null),[_,E]=(0,l.useState)(!1),[T,D]=(0,l.useState)([]),[P,R]=(0,l.useState)(""),[z,O]=(0,l.useState)("Documentation"),[U,A]=(0,l.useState)(Date.now()),[B,F]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch(t+"/api/get_components"),a=await e.json();i(a.readers),u(a.chunker),b(a.embedder),a.readers&&a.readers.length>0&&(v(a.default_values.last_reader),J(a.default_values.last_chunker),S(a.default_values.last_embedder),O(a.default_values.last_document_type))}catch(e){console.error("Error fetching readers:",e)}})()},[t]);let I=async()=>{if(!p||!f||!C){console.error("Missing component");return}E(!0);let e=T.map(e=>e.name),a=T.map(e=>new Promise(a=>{let t=new FileReader;t.onloadend=()=>{a(btoa(Array.from(new Uint8Array(t.result)).map(e=>String.fromCharCode(e)).join("")))},t.readAsArrayBuffer(e)})),r=await Promise.all(a),l={reader:p.name,chunker:f.name,embedder:C.name,fileBytes:r,fileNames:e,filePath:P,document_type:z,chunkUnits:y,chunkOverlap:N};try{let e=await fetch("".concat(t,"/api/load_data"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),a=await e.json();E(!1),e.ok?(D([]),A(Date.now())):console.error("Error from server:",a),F(a)}catch(e){console.error("Error importing data:",e)}},Z=async e=>{D(a=>[...a,...e])},{getRootProps:M,getInputProps:H}=(0,s.uI)({onDrop:Z,accept:{"text/txt":[".txt",".md",".mdx",".pdf"],"text/json":[".json"]}}),J=e=>{j(e),void 0!==e.units&&w(e.units),void 0!==e.overlap&&k(e.overlap)};return(0,r.jsxs)("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center z-50",children:[(0,r.jsx)("div",{className:"absolute w-full h-full bg-black opacity-50"}),(0,r.jsxs)("div",{className:"bg-gray-200 border-2 border-black lg:w-2/5 md:w-full md:m-3 z-10 rounded-xl shadow-md animate-pop-in",children:[(0,r.jsxs)("div",{className:"flex justify-start items-center mb-4 p-4",children:[(0,r.jsx)("button",{onClick:()=>{_||a()},disabled:_,className:"mr-3 bg-red-500 text-white hover:bg-red-600 shadow-md hover-container p-2 rounded-full flex items-center justify-center",children:(0,r.jsx)(n.aHS,{})}),(0,r.jsx)("button",{onClick:()=>g("Reader"),className:"".concat("Reader"===x?"bg-yellow-200":"bg-gray-200"," text-black text-lg rounded-lg font-bold border-2 border-black animate-pop-in-late truncate p-4 w-full hover-container shadow-md mr-6 hover:bg-yellow-300 hover:border-white"),children:null==p?void 0:p.name}),(0,r.jsx)("button",{onClick:()=>g("Chunking"),className:"".concat("Chunking"===x?"bg-cyan-200":"bg-gray-200"," text-black text-lg rounded-lg font-bold border-2 border-black animate-pop-in-late p-4 truncate w-full hover-container shadow-md mr-6 hover:bg-cyan-300 hover:border-white"),children:null==f?void 0:f.name}),(0,r.jsx)("button",{onClick:()=>g("Embedding"),className:"".concat("Embedding"===x?"bg-fuchsia-200":"bg-gray-200"," bg-gray-200 text-black text-lg rounded-lg font-bold border-2 border-black truncate animate-pop-in-late p-4 w-full hover-container shadow-md hover:bg-fuchsia-300 hover:border-white"),children:null==C?void 0:C.name})]}),(0,r.jsxs)("div",{className:"flex p-4",children:[(0,r.jsx)("div",{className:"w-2/5 pr-2 border-r border-gray-300 overflow-y-auto max-h-80",children:(0,r.jsx)("ul",{children:"Reader"===x?c.map((e,a)=>(0,r.jsx)(o.Z,{main:e.name,clipboard:!1,sub:e.available?"":e.message,onClick:()=>v(e),subBgColor:e.available?"green":"red",isActive:e.name===(null==p?void 0:p.name),available:e.available,title:e.name},e.name+a)):"Chunking"===x?m.map((e,a)=>(0,r.jsx)(o.Z,{main:e.name,clipboard:!1,sub:e.available?"":e.message,onClick:()=>J(e),mainBgColor:"cyan",subBgColor:e.available?"green":"red",isActive:e.name===(null==f?void 0:f.name),available:e.available,title:e.name},e.name+a)):"Embedding"===x?h.map((e,a)=>(0,r.jsx)(o.Z,{main:e.name,clipboard:!1,sub:e.available?"":e.message,available:e.available,onClick:()=>S(e),mainBgColor:"fuchsia",subBgColor:e.available?"green":"red",isActive:e.name===(null==C?void 0:C.name),title:e.name},e.name+a)):null})}),(0,r.jsxs)("div",{className:"w-3/5 p-4",children:[(0,r.jsx)("div",{className:"mb-6",children:"Reader"===x&&p&&"UPLOAD"===p.input_form?(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h3",{className:"mb-2",children:"\uD83D\uDCC1 Upload documents"}),(0,r.jsxs)("div",{...M(),className:"border-dashed border-2 p-4 border-white rounded-lg",children:[(0,r.jsx)("input",{...H()}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Drop your files here, or click to select files"})]}),(0,r.jsx)("div",{className:"my-6",children:T.length>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsxs)("span",{className:"truncate",children:[T.length," files selected"]}),(0,r.jsx)("button",{onClick:()=>{D([])},className:"bg-red-500 p-1 rounded-full hover:bg-red-600",children:(0,r.jsx)(n.aHS,{})})]})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"docType",className:"block text-sm font-medium text-gray-700",children:"Document Type"}),(0,r.jsx)("input",{type:"text",id:"docType",name:"docType",value:z,onChange:e=>O(e.target.value),className:"mt-1 focus:ring-yellow p-3 -500 focus:border-yellow-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Documentation"})]})]}):"Reader"===x&&p&&"INPUT"===p.input_form?(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h3",{className:"mb-2",children:"Provide Path"}),(0,r.jsx)("input",{type:"text",value:P,placeholder:"Enter path",onChange:e=>{R(e.target.value)},className:"p-2 rounded-lg w-full"}),(0,r.jsxs)("div",{className:"mb-2 mt-4",children:[(0,r.jsx)("label",{htmlFor:"docType",className:"block text-sm font-medium text-gray-700",children:"Document Type"}),(0,r.jsx)("input",{type:"text",id:"docType",name:"docType",value:z,onChange:e=>O(e.target.value),className:"mt-1 focus:ring-yellow p-3 -500 focus:border-yellow-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Documentation"})]})]}):"Chunking"===x&&(null==f?void 0:f.input_form)==="CHUNKER"?(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("h3",{className:"mb-2",children:"Units"}),(0,r.jsx)("input",{type:"number",value:y,placeholder:"Start Size",onChange:e=>w(Number(e.target.value)),className:"p-2 rounded-lg w-1/2"}),(0,r.jsx)("h3",{className:"mb-2",children:"Overlap"}),(0,r.jsx)("input",{type:"number",value:N,placeholder:"End Size",onChange:e=>k(Number(e.target.value)),className:"p-2 rounded-lg w-1/2"})]}):"Embedding"===x&&(null==C?void 0:C.input_form)==="TEXT"?(0,r.jsx)("div",{className:"flex space-x-2"}):null}),(0,r.jsx)("div",{className:"text-center shadow-md rounded-lg p-4 hover-container overflow-y-auto mb-6",children:(0,r.jsx)("p",{children:"Reader"===x?null==p?void 0:p.description:"Chunking"===x?null==f?void 0:f.description:null==C?void 0:C.description})}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:I,disabled:_,className:"flex items-center space-x-2 bg-gray-200 text-black p-3 rounded-lg border-2 border-black hover-container shadow-md ".concat(_?"cursor-not-allowed hover:bg-gray-200":"hover:bg-green-400 hover:border-white"),children:_?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d(),{color:"#292929",loading:!0,size:20,speedMultiplier:.75}),(0,r.jsx)("span",{children:"Importing..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.wEH,{}),(0,r.jsx)("span",{children:"Import"})]})})})]})]}),B&&(0,r.jsx)("div",{className:"p-4 rounded-lg shadow-md m-4 hover-container animate-pop-in\n                ".concat(200===B.status?"bg-green-400":"bg-red-400"),children:B.status_msg})]})]})}}}]);