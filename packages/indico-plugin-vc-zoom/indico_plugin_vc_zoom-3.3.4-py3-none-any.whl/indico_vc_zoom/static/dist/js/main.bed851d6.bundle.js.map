{"version":3,"file":"js/main.bed851d6.bundle.js","mappings":"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","sources":["webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///external var \"_IndicoCoreReact\"","webpack:///external var \"_IndicoCoreReactDom\"","webpack:///external var \"_IndicoCoreFlaskUrls\"","webpack:///external var \"_IndicoCoreSUIR\"","webpack:///external var \"_IndicoReactI18n\"","webpack:///external var \"_IndicoUtilsAxios\"","webpack:///../plugins/public/vc_zoom/indico_vc_zoom/client/JoinButton.tsx","webpack:///../plugins/public/vc_zoom/indico_vc_zoom/client/ind_vc_zoom_join_button.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = _IndicoCoreReact;","const __WEBPACK_NAMESPACE_OBJECT__ = _IndicoCoreReactDom;","const __WEBPACK_NAMESPACE_OBJECT__ = _IndicoCoreFlaskUrls;","const __WEBPACK_NAMESPACE_OBJECT__ = _IndicoCoreSUIR;","const __WEBPACK_NAMESPACE_OBJECT__ = _IndicoReactI18n;","const __WEBPACK_NAMESPACE_OBJECT__ = _IndicoUtilsAxios;","// This file is part of the Indico plugins.\n// Copyright (C) 2020 - 2025 CERN and ENEA\n//\n// The Indico plugins are free software; you can redistribute\n// them and/or modify them under the terms of the MIT License;\n// see the LICENSE file for more details.\n\nimport staticURL from 'indico-url:plugin_vc_zoom.static';\n\nimport React, {useState} from 'react';\nimport {\n  Button,\n  ButtonGroup,\n  Confirm,\n  Dropdown,\n  Icon,\n  Label,\n  Loader,\n  Popup,\n  SemanticICONS,\n} from 'semantic-ui-react';\n\nimport {Translate} from 'indico/react/i18n';\nimport {handleAxiosError, indicoAxios} from 'indico/utils/axios';\n\nimport './JoinButton.module.scss';\n\ninterface OptionsButtonProps {\n  url: string;\n  onMadeAltHost: () => void;\n}\n\n/** A dropdown button which shows additional actions, such as the possibility to take over as meeting co-host */\nfunction OptionsButton({url, onMadeAltHost}: OptionsButtonProps) {\n  const [isConfirmOpen, setConfirmOpen] = useState(false);\n  const [state, setState] = useState('idle');\n\n  async function makeAlternativeHost() {\n    setConfirmOpen(false);\n    try {\n      setState('submitting');\n      await indicoAxios.post(url);\n      setState('success');\n    } catch (error) {\n      handleAxiosError(error);\n    }\n    setTimeout(() => {\n      setState('idle');\n      onMadeAltHost();\n    }, 3000);\n  }\n\n  const icons = new Map<string, SemanticICONS>([\n    ['idle', 'cog'],\n    ['submitting', null],\n    ['success', 'checkmark'],\n  ]);\n\n  const trigger =\n    state === 'submitting' ? (\n      <Loader active inline size=\"mini\" />\n    ) : (\n      <Icon\n        disabled={state !== 'idle'}\n        title={Translate.string('Actions you can perform on your Zoom meeting')}\n        color={state === 'success' ? 'green' : undefined}\n        name={icons.get(state)}\n      />\n    );\n\n  return (\n    <>\n      <Dropdown trigger={trigger} className=\"mini button icon\">\n        <Dropdown.Menu>\n          <Dropdown.Item\n            title={Translate.string('You will become an alternative host of this Zoom meeting')}\n            onClick={() => setConfirmOpen(true)}\n          >\n            <Icon name=\"star\" />\n            <Translate>Make me alternative host</Translate>\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n      <Confirm\n        header={Translate.string('Make me an alternative host')}\n        content={Translate.string('Are you sure you want to be added as an alternative host?')}\n        open={isConfirmOpen}\n        onConfirm={makeAlternativeHost}\n        onCancel={() => setConfirmOpen(false)}\n        size=\"tiny\"\n      />\n    </>\n  );\n}\n\ninterface JoinButtonProps {\n  classes: string;\n  href: string;\n  target: string;\n  icon: SemanticICONS;\n  caption: string;\n  description: string;\n  altHostUrl: string;\n  meetingTitle: string | undefined;\n  meetingDataHtml: string | undefined;\n}\n\n/** The join button, which can optionally include an alternative host URL (creates menu) as well as a pop-up */\nexport default function JoinButton({\n  classes,\n  href,\n  target,\n  icon,\n  caption,\n  description,\n  altHostUrl = '',\n  meetingTitle,\n  meetingDataHtml,\n}: JoinButtonProps) {\n  const [isAltHost, setAltHost] = useState(!altHostUrl);\n\n  let buttons = (\n    <>\n      <Button size=\"mini\" title={description} className={classes} href={href} target={target}>\n        <Icon name={icon} />\n        {caption}\n      </Button>\n      {!isAltHost ? (\n        <OptionsButton\n          url={altHostUrl}\n          onMadeAltHost={() => {\n            setAltHost(true);\n          }}\n        />\n      ) : null}\n    </>\n  );\n\n  const labeledButton = (\n    <Button as=\"div\" labelPosition=\"left\" size=\"mini\">\n      <Label as=\"a\" size=\"mini\" image title=\"Zoom\" pointing=\"right\" styleName=\"button-label\">\n        <img src={staticURL({filename: 'images/zoom_icon.svg'})} />\n      </Label>\n    </Button>\n  );\n\n  buttons = meetingDataHtml ? (\n    <>\n      <Popup hoverable trigger={labeledButton}>\n        <h4>{meetingTitle}</h4>\n        {/* the HTML data is generated server-side from the Zoom API output and should be in a sanitized state */}\n        <div dangerouslySetInnerHTML={{__html: meetingDataHtml}} />\n      </Popup>\n      {buttons}\n    </>\n  ) : (\n    buttons\n  );\n\n  return <ButtonGroup size=\"mini\">{buttons}</ButtonGroup>;\n}\n","// This file is part of the Indico plugins.\n// Copyright (C) 2020 - 2025 CERN and ENEA\n//\n// The Indico plugins are free software; you can redistribute\n// them and/or modify them under the terms of the MIT License;\n// see the LICENSE file for more details.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport JoinButton from './JoinButton';\n\nimport './ind_vc_zoom_join_button.scss';\n\n/** Custom element wrapper for a React-managed JoinButton */\ncustomElements.define(\n  'ind-vc-zoom-join-button',\n  class extends HTMLElement {\n    connectedCallback() {\n      const classes = this.getAttribute('classes');\n      const href = this.getAttribute('href');\n      const target = this.getAttribute('target');\n      const icon = this.getAttribute('icon');\n      const caption = this.getAttribute('caption');\n      const description = this.getAttribute('description');\n      const altHostUrl = this.getAttribute('alt-host-url');\n      const meetingTitle = this.getAttribute('meeting-title');\n      const meetingDataHtml = this.getAttribute('meeting-data-html');\n\n      ReactDOM.render(\n        <JoinButton\n          classes={classes}\n          href={href}\n          target={target}\n          icon={icon}\n          caption={caption}\n          description={description}\n          altHostUrl={altHostUrl}\n          meetingTitle={meetingTitle}\n          meetingDataHtml={meetingDataHtml}\n        />,\n        this\n      );\n    }\n  }\n);\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","_IndicoCoreReact","_IndicoCoreReactDom","_IndicoCoreFlaskUrls","_IndicoCoreSUIR","_IndicoReactI18n","_IndicoUtilsAxios","staticURL","_buildFlaskURL","endpoint","rules","args","converters","filename","defaults","trace","data","isDynamic","OptionsButton","url","onMadeAltHost","isConfirmOpen","setConfirmOpen","useState","state","setState","icons","Map","trigger","React","Loader","active","inline","size","Icon","disabled","title","Translate","string","color","undefined","name","Dropdown","className","Menu","Item","onClick","Confirm","header","content","open","onConfirm","async","indicoAxios","post","error","handleAxiosError","setTimeout","onCancel","JoinButton","classes","href","target","icon","caption","description","altHostUrl","meetingTitle","meetingDataHtml","isAltHost","setAltHost","buttons","Button","labeledButton","as","labelPosition","Label","image","pointing","src","Popup","hoverable","dangerouslySetInnerHTML","__html","ButtonGroup","customElements","define","HTMLElement","connectedCallback","this","getAttribute","ReactDOM"],"sourceRoot":""}