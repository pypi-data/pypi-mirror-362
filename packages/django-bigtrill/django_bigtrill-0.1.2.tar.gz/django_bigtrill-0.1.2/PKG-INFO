Metadata-Version: 2.4
Name: django-bigtrill
Version: 0.1.2
Summary: A Django app (more like 2 scripts) that will aid you to switch from using the default Django Auth User model to a custom User model in an existing Django project.
Home-page: https://github.com/alexander-any7/django-bigtrill.git
Author: Alexander Anyaegbunam
Author-email: Alexander Anyaegbunam <alexander.any7@gmail.com>
License-Expression: MIT
Project-URL: Homepage, https://github.com/alexander-any7/django-bigtrill.git
Keywords: django,auth,custom user,migration
Classifier: Programming Language :: Python :: 3
Classifier: Operating System :: OS Independent
Classifier: Framework :: Django
Requires-Python: >=3
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: Django>=3.2
Dynamic: license-file

## django-bigtrill

**django-bigtrill** is a Django utility to help you migrate from the default Django `User` model to a custom user model in an existing project. It automates the process, making it safer and easier to switch without manual errors.

---

### Features

- Detects and updates references to the default Django `User` model
- Creates a new custom user model in your chosen app
- Updates settings and migrations automatically
- Provides admin integration for the new user model

---

### Installation

Clone or copy the `django-bigtrill` directory into your Django project.

---

### Usage

1. **Configure**: Create a file named `bigtrill_settings.py` in the directory where you will run the start command. This file is required and must contain the following variables:

   - `PYTHON`: Your Python command (e.g., `python` or `python3`)
   - `MANAGE_PY_FILE`: Path to your `manage.py`
   - `COPY_MODEL`: Desired name for your custom user model
   - `NEW_AUTH_APP_LABEL`: App label for the new user model
   - `INSTALLED_APPS_SETTINGS_FILE_PATH`: Absolute or relative path to your main `settings.py` or where the `INSTALLED_APPS` is defined. (Relative paths will be converted automatically)
   - `AUTH_USER_MODEL_PATH`: Absolute or relative path to where the `AUTH_USER_MODEL` variable is or will be defined
   - `DEFAULT_DJANGO_USER_MODEL_FILE_PATHS`: List of files referencing the default user model (absolute or relative paths; optional)
   - `BASE_DIR`: Absolute or relative path to your project root. You are advised to run `pwd` and provide the output of the command.
   - `GITIGNORE_PATH`: Path to your `.gitignore` file, relative to `BASE_DIR` or absolute. The folders in the gitignore will not be searched for references to the default `User` model.

   Example:

   ```python
   # bigtrill_settings.py
   PYTHON = "python"
   MANAGE_PY_FILE = "manage.py"
   COPY_MODEL = "CustomUser"
   NEW_AUTH_APP_LABEL = "accounts"
   INSTALLED_APPS_SETTINGS_FILE_PATH = "<absolute or relative path to your settings.py>"
   AUTH_USER_MODEL_PATH = INSTALLED_APPS_SETTINGS_FILE_PATH
   FILES_TO_SEARCH = []  # absolute or relative paths
   BASE_DIR = "<absolute or relative path to your project root>"
   GITIGNORE_PATH = ".gitignore"  # MUST BE RELATIVE to BASE_DIR 

2. **Run the start script**:

   ```bash
   bigtrill-start
   ```

   or

   ```bash
   python -m bigtrill.start
   ```

   Follow the prompts. The script will:

   - Search for references to the default user model
   - Create a new app and custom user model
   - Update settings and run migrations
   - Update imports and references

3. **Review and test**:
   - Check your code and migrations
   - Test your application thoroughly after using this.

---

### Notes

- **Backup your project and database before running!**
- Do not run on production without testing.
- After migration, update any manual references to the old user model.
- Remove temporary files and update your main settings as needed.
  Remove temporary files (such as `bigtrill_temp_settings.py` and) and move any definitions from them (e.g., `AUTH_USER_MODEL`) to your desired location in your main `settings.py` file to follow Django project conventions. You might also want to remove the `bigtrill_settings.py` file you created and remove `bigtrill` from `INSTALLED_APPS`.

- **Performance**: Migration performance may vary depending on project size and number of users. For large datasets, consider running during low-traffic periods. Feel free to implement any optimization improvements you deem fit for your specific use case.

---

### TODO

- **Improve logging**: Add detailed logging for each step of the migration process with proper stdout output to help users track progress and debug issues

---

### License

MIT

---

### Author

Alexander Invictus (<alexander.any7@gmail.com>)
