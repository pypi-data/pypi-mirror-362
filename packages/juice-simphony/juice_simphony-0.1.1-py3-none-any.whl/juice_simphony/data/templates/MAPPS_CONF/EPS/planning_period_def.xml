<planningPeriodDef xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xsi:noNameSpaceSchemaLocation="planning_periods_def_schema.xsd">

	<!--
	======================================
	(1)Generic Planning Period Definitions
	======================================
	-->
	<!-- Orbit -->
	<planningPeriod name="Orbit">
		<event id="PERIJOVE"/>
	</planningPeriod>

	<!-- STP: Use STP instead of CP -->
	<planningPeriod name="STP">
		<!-- For CVP, we use a specific event, not the OCM one -->
		<!-- event id="CVP_STP_START" --> 
		<!-- For regular MTPs, we use the OCM start event -->
        <!-- <event id="MOCM_START"/> -->
        <!-- For clarity, replaced by a specific STP_START event -->
		<event id="PERIJOVE"/>
	</planningPeriod>

	<!-- MTP -->
	<planningPeriod name="MTP">
		<!-- Use STP instead of CP -->
		<child name="STP">
			<mapping file="planning_mtp_mapping.def"/>
		</child>
	</planningPeriod>

    <!-- FD-STP periods for insertion of stpNumber elements in the PTR -->
    <planningPeriod name="FDSTP">
        <event id="PERIJOVE"/>
    </planningPeriod>

	<!--
	=============================================================
	(2)Template Attribute Definitions for Output Generation Panel
	=============================================================
	-->
	<templateAttribute name="Period Number"             type="Int"   />
	<templateAttribute name="LTP Number"                type="Int"   />
	<templateAttribute name="MTP Number"                type="Int"   />
	<!-- Use STP instead of CP -->
	<templateAttribute name="STP Number"                type="Int"   />
	<templateAttribute name="Version Number"            type="Int"   />
	<templateAttribute name="Version Letter"            type="String"/>
	<templateAttribute name="Free Text"                 type="String"/>
	<templateAttribute name="Sequence Number"           type="Int"   increment="true"/>

	<!--
	==================================================
	(3)FileSet Definitions for Output Generation Panel
	==================================================
	-->

  <!--
  ====================
  (3.1) ITL generation 
  ====================
  -->

	<!--
	(3.1.1)File set: MTP ITL per MTP (MTP cycle)
	ITL File Naming convention re-defined for CVP and Nominal Science & Relay Phase:
	"MITL_M[zzz].ITL"         # MTP Top Level ITL file including Experiment ITLs
	"MITL_M[zzz]_[FullInstrumentName].ITL"    # MTP Experiment ITL
	/-->
	<fileSet name="MTP ITL per MTP"   generateProfiles="PIOR">
		<timespan>MTP</timespan>
		<template format="ITL">
			<fileName template="MITL_M[zzz].ITL">
				<parameter position="zzz" usePlanningPeriod="MTP" nrOfDigits="3"/>
			</fileName>
		</template>
		<segmentation planningPeriod="MTP">
			<template format="ITL">
				<fileName template="MITL_M[zzz]_[XXXXXXX].ITL">
					<parameter position="zzz" usePlanningPeriod="MTP"   nrOfDigits="3"/>
					<parameter position="XXXXXXX"  useExpLongName=""     nrOfDigits="7"/>
				</fileName>
			</template>
		</segmentation>
	</fileSet>

	<!--
	(3.1.2)File set: STP ITL per STP (STP cycle) 
	ITL File Naming convention re-defined for CVP and Nominal Science & Relay Phase:
	"SITL_S[zzz].ITL"                       # STP Top Level ITL file including Experiment ITLs
	"SITL_S[zzz]_[FullInstrumentName].ITL"  # STP Experiment ITL
	/-->

	<!-- Generation of STP ITL for a single STP -->
	<!-- Use STP instead of CP -->
	<fileSet name="STP ITL per STP"   generateProfiles="PIOR">
		<timespan>STP</timespan>
		<template format="ITL">
			<fileName template="SITL_S[zzz].ITL">
				<parameter position="zzz" usePlanningPeriod="STP" nrOfDigits="3"/>
			</fileName>
		</template>
		<segmentation planningPeriod="STP" folderNrOfDigits="3" hasLeadingSlash="false">
			<template format="ITL">
				<fileName template="SITL_S[zzz]_[XXXXXXX].ITL">
					<parameter position="zzz"    usePlanningPeriod="STP" nrOfDigits="3"/>
					<parameter position="XXXXXXX" useExpLongName=""       nrOfDigits="7"/>
				</fileName>
			</template>
		</segmentation>
	</fileSet>

	<!--
	(3.1.3)File set: 4xSTP ITL per STP (STP cycle): Generation of STP ITLs for a full MTP 
	-->
	<fileSet name="4xSTP ITL per MTP"   generateProfiles="PIOR">
		<timespan>MTP</timespan>
		<template format="ITL">
			<fileName template="SITL_M[zzz].ITL">
				<parameter position="zzz" usePlanningPeriod="MTP" nrOfDigits="3"/>
			</fileName>
		</template>
		<segmentation fileset="STP ITL per STP" inSubdirectory="true"/>
	</fileSet>

  <!--
  ====================
  (3.2) POR generation 
  ====================
  -->

	<!-- POR File Naming convention defined in EXM_PLID Annex B 3.2.1.2
 	POR__DESAC_xyyy__ii_vvvvv.EXM
	- x plan cycle type:
	  - S for STP
	  - M for MTP
	  - T for Test
	  - C for Cruise
	- yyy   target plan cycle number
	- ii    instrument code as defined below
	- vvvvv FTS sequence
	/-->

	<!--
	(3.2.1)File set: MTP PORXML per MTP (MTP cycle): Generation of "POR LITEs" per MTP 
	-->
	<fileSet name="MTP PORXML per MTP"  generateProfiles="PORG">
		<timespan>MTP</timespan>
		<segmentation planningPeriod="MTP">
			<template format="PORXML">
				<fileName template="POR__DESAC_M[yyy]__[ii]_[vvvvv].EXM">
					<!-- Use planning period, not a selectable MTP number -->
					<!-- parameter position="yyy"     useAttribute="MTP Number"          nrOfDigits="3"/ -->
					<parameter position="yyy"     usePlanningPeriod="MTP"            nrOfDigits="3"/>
					<parameter position="ii"      useExpName=""                      nrOfDigits="2"/>
					<parameter position="vvvvv"   useAttribute="Sequence Number"     nrOfDigits="5"/>
				</fileName>
			</template>
		</segmentation>
	</fileSet>

	<!--
	(3.2.2)File set: STP PORXML per STP (STP cycle): Generation of PORs per STP
	-->
	<fileSet name="STP PORXML per STP"  generateProfiles="PORG">
		<timespan>STP</timespan>
		<segmentation planningPeriod="STP">
			<template format="PORXML">
				<!-- STP POR file name convention changed for CVP: Cyyy instead of Syyy -->
				<!-- fileName template="POR__DESAC_C[yyy]__[ii]_[vvvvv].EXM" -->
				<!-- STP POR file name convention for regular MTPs uses Syyy -->
				<fileName template="POR__DESAC_S[yyy]__[ii]_[vvvvv].EXM">
					<!-- Use planning period, not a selectable MTP number -->
					<!-- parameter position="yyy"     useAttribute="STP Number"           nrOfDigits="3"/ -->
					<parameter position="yyy"     usePlanningPeriod="STP"           nrOfDigits="3"/>
					<parameter position="ii"      useExpName=""                      nrOfDigits="2"/>
					<parameter position="vvvvv"   useAttribute="Sequence Number"     nrOfDigits="5"/>
				</fileName>
			</template>
		</segmentation>
	</fileSet>

	<!-- 
	(3.2.3) File set: MTP PORXML per CP
	 Leave this option commented: It does not make much sense generate POR-lite per CP 
	-->
	<!--
	<fileSet name="MTP PORXML per CP"  generateProfiles="PORG">
	<timespan>CP</timespan>
	<segmentation planningPeriod="CP">
	<template format="PORXML">
	<fileName template="POR__DESAC_M[yyy]__[ii]_[vvvvv].EXM">
	<parameter position="yyy"     useAttribute="MTP Number"          nrOfDigits="3"/>
	<parameter position="ii"      useExpName=""                      nrOfDigits="2"/>
	<parameter position="vvvvv"   useAttribute="Sequence Number"     nrOfDigits="5"/>
	</fileName>
	</template>
	</segmentation>
	</fileSet>
	-->


  <!--
  ===================================================
  (3.3) PDOR stuff: kept for reference , but not used
  ===================================================
  -->

	<!--  PDOR File Naming convention defined in MOC-PI ICD (PLID Annex) 2.4
	PDOR_Eiii___freetext_vvvvv.EXM
	iii instrument identifier:
	NMD NOMAD
	ACS ACS
	FRD FREND
	CAS CASSIS
	EDM EDM
	freetext (currently limited to 20 characters)
	vvvvv FTS sequence
	/-->
	<!--
	<fileSet name="TEST PDOR per CP"  generateProfiles="PORG">
	<timespan>CP</timespan>
	<segmentation planningPeriod="CP">
	<template format="PORXML">
	<fileName template="PDOR_E[iii]___[text]_[vvvvv].EXM">
	<parameter position="iii"     useAttribute="Payload Identifier (xxx)"  nrOfDigits="3"/>
	<parameter position="text"    useAttribute="Free Text"                 nrOfDigits="10"/>
	<parameter position="vvvvv"   useAttribute="Sequence Number"           nrOfDigits="5"/>
	</fileName>
	</template>
	</segmentation>
	</fileSet>
	-->

</planningPeriodDef>



