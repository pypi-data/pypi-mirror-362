[tox]
envlist = py{310,311,312,313}


[coverage:run]
omit = 


[testenv]
deps = .[dev] 
setenv =
	SHOW_DEPRECATION_WARNINGS = true

commands =
	coverage run --source pytos2 -m pytest -x
	  coverage report -m
install_command=pip install {opts} {packages}


[testenv:coverage]
envlist = py311
deps = 
	-rrequirements.txt
	-rdev-requirements.txt

commands =
	coverage report -m
install_command=pip install {opts} {packages}


[testenv:typecheck]
envlist = py311
deps = 
	mypy
	types-requests
	-rrequirements.txt
	-rdev-requirements.txt

commands =
	mypy pytos2 --explicit-package-bases
install_command=pip install {opts} {packages}
