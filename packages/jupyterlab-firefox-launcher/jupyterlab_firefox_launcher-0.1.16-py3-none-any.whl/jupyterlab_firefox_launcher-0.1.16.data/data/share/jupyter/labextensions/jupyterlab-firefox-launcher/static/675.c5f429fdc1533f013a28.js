"use strict";(self.webpackChunkjupyterlab_firefox_launcher=self.webpackChunkjupyterlab_firefox_launcher||[]).push([[675],{675:(e,n,t)=>{t.r(n),t.d(n,{default:()=>s});var l=t(654),r=t(805),o=t(256);const c=()=>{document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||console.log("Exited fullscreen mode")},s={id:"jupyterlab-firefox-launcher:plugin",description:"JupyterLab extension to launch Firefox in a tab",autoStart:!0,requires:[l.ILauncher,r.ICommandPalette],activate:async(e,n,t)=>{const l="firefox:open",s="Firefox Browser";e.commands.addCommand(l,{label:s,execute:async()=>{var n,t,l;try{await async function(e="",n={}){const t=`/jupyterlab-firefox-launcher/${e}`,l=await fetch(t,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"},...n});if(!l.ok){const e=await l.text();throw new Error(`API request failed with status ${l.status}: ${e}`)}return l.json()}("launch")}catch(e){console.error("Failed to launch Firefox:",e)}const a=new o.Widget;a.node.style.height="100%",a.node.style.width="100%",a.node.style.overflow="hidden";const i="firefox-iframe";a.node.innerHTML=(e=>`\n    <div style="display:flex; justify-content:end; padding:4px; gap:8px; background:#f5f5f5;">\n      <button id="ff-refresh">üîÑ Refresh</button>\n      <button id="ff-fullscreen">‚õ∂ Fullscreen</button>\n      <button id="ff-close">‚ùå Close</button>\n    </div>\n    <iframe \n      id="${e}"\n      src="http://localhost:6080" \n      style="width:100%; height:90%; border:none;"\n      allowfullscreen\n    ></iframe>`)(i);const d=new r.MainAreaWidget({content:a});d.id="firefox-browser",d.title.label=s,d.title.closable=!0,d.node.style.height="100%",e.shell.add(d,"main"),e.shell.activateById(d.id);const u=a.node.querySelector(`#${i}`);u?(null===(n=a.node.querySelector("#ff-refresh"))||void 0===n||n.addEventListener("click",()=>{u.src=u.src}),null===(t=a.node.querySelector("#ff-close"))||void 0===t||t.addEventListener("click",()=>{d.close()}),null===(l=a.node.querySelector("#ff-fullscreen"))||void 0===l||l.addEventListener("click",()=>{var e;(e=u).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}),document.addEventListener("fullscreenchange",c),document.addEventListener("webkitfullscreenchange",c),document.addEventListener("mozfullscreenchange",c),document.addEventListener("MSFullscreenChange",c)):console.error("Firefox iframe not found")}}),n.add({command:l,category:"Other",rank:1}),t.addItem({command:l,category:"Firefox"})}}}}]);