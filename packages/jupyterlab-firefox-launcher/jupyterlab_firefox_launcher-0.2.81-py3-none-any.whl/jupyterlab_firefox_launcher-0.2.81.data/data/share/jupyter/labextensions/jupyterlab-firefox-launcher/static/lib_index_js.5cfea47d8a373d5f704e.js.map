{"version":3,"file":"lib_index_js.5cfea47d8a373d5f704e.js","mappings":"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","sources":["webpack://jupyterlab-firefox-launcher/./frontend/src/index.ts"],"sourcesContent":["// src/index.ts\nimport type { JupyterFrontEnd, JupyterFrontEndPlugin } from '@jupyterlab/application';\nimport { ILauncher } from '@jupyterlab/launcher';\nimport { ICommandPalette, MainAreaWidget } from '@jupyterlab/apputils';\nimport { Widget } from '@lumino/widgets';\n\nconst buildFirefoxHTML = (iframeId: string, url: string): string => {\n  return `\n    <div style=\"display:flex; justify-content:end; padding:4px; gap:8px; background:#f5f5f5;\">\n      <button id=\"ff-refresh\">üîÑ Refresh</button>\n      <button id=\"ff-close\">‚ùå Close</button>\n    </div>\n    <iframe \n      id=\"${iframeId}\"\n      src=\"${url}\" \n      style=\"width:100%; height:90%; border:none;\"\n      allowfullscreen\n    ></iframe>`;\n};\n\nconst extension: JupyterFrontEndPlugin<void> = {\n  id: 'jupyterlab-firefox-launcher:plugin',\n  description: 'JupyterLab extension to launch Firefox in a tab',\n  autoStart: true,\n  requires: [ILauncher, ICommandPalette],\n  activate: async (app: JupyterFrontEnd, launcher: ILauncher, palette: ICommandPalette): Promise<void> => {\n    const command = 'firefox:open';\n    const label = 'Firefox Browser';\n\n    app.commands.addCommand(command, {\n      label,\n      execute: async () => {\n        // Use jupyter-server-proxy URL - it will automatically start the service\n        const baseUrl = app.serviceManager.serverSettings.baseUrl;\n        const firefoxUrl = `${baseUrl}proxy/firefox/`;\n        \n        const content = new Widget();\n        content.node.style.height = '100%';\n        content.node.style.width = '100%';\n        content.node.style.overflow = 'hidden';\n\n        const iframeId = 'firefox-iframe';\n        content.node.innerHTML = buildFirefoxHTML(iframeId, firefoxUrl);\n\n        const widget = new MainAreaWidget({ content });\n        widget.id = 'firefox-browser';\n        widget.title.label = label;\n        widget.title.closable = true;\n        widget.node.style.height = '100%';\n\n        app.shell.add(widget, 'main');\n        app.shell.activateById(widget.id);\n\n        const iframe = content.node.querySelector(`#${iframeId}`) as HTMLIFrameElement | null;\n        if (!iframe) {\n          console.error('Firefox iframe not found');\n          return;\n        }\n\n        content.node.querySelector('#ff-refresh')?.addEventListener('click', () => {\n          iframe.src = iframe.src;\n        });\n\n        content.node.querySelector('#ff-close')?.addEventListener('click', () => {\n          widget.close();\n        });\n      }\n    });\n\n    launcher.add({\n      command,\n      category: 'Other',\n      rank: 1\n    });\n\n    palette.addItem({\n      command,\n      category: 'Other'\n    });\n  }\n};\n\nexport default extension;\n\nexport { buildFirefoxHTML };"],"names":[],"sourceRoot":""}