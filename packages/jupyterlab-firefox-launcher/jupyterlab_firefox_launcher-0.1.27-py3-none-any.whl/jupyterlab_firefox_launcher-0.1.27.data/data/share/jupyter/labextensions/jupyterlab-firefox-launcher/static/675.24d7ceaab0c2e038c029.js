"use strict";(self.webpackChunkjupyterlab_firefox_launcher=self.webpackChunkjupyterlab_firefox_launcher||[]).push([[675],{675:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});var o=t(654),r=t(805),l=t(708),s=t(955),c=t(256);const a=()=>{document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||console.log("Exited fullscreen mode")},i={id:"jupyterlab-firefox-launcher:plugin",description:"JupyterLab extension to launch Firefox in a tab",autoStart:!0,requires:[o.ILauncher,r.ICommandPalette],activate:async(e,n,t)=>{const o="firefox:open",i="Firefox Browser";e.commands.addCommand(o,{label:i,execute:async()=>{var n,t,o;console.log("[Firefox Launcher] Command executed");let u="http://localhost:6080/vnc.html?autoconnect=true";try{console.log("[Firefox Launcher] Making launch request to backend...");const e=await async function(e="",n={}){const t=s.ServerConnection.makeSettings(),o=l.URLExt.join(t.baseUrl,"jupyterlab-firefox-launcher",e);console.log(`[Firefox Launcher] Making API request to: ${o}`),console.log(`[Firefox Launcher] Base URL: ${t.baseUrl}`),console.log("[Firefox Launcher] Request init:",n);const r=await s.ServerConnection.makeRequest(o,{method:"POST",...n},t);if(console.log(`[Firefox Launcher] Response status: ${r.status}`),console.log("[Firefox Launcher] Response headers:",r.headers),!r.ok){const e=await r.text();throw console.error(`[Firefox Launcher] API request failed with status ${r.status}: ${e}`),new Error(`API request failed with status ${r.status}: ${e}`)}const c=r.json();return console.log("[Firefox Launcher] Response data:",c),c}("launch",{method:"POST"});console.log("[Firefox Launcher] Backend response:",e),e.url?(u=e.url,console.log("[Firefox Launcher] Using backend URL:",u)):console.warn("[Firefox Launcher] No URL in response, using fallback")}catch(e){console.error("[Firefox Launcher] Failed to launch Firefox:",e)}const d=new c.Widget;d.node.style.height="100%",d.node.style.width="100%",d.node.style.overflow="hidden";const f="firefox-iframe";d.node.innerHTML=((e,n)=>`\n    <div style="display:flex; flex-direction:column; height:100%;">\n      \x3c!-- URL Navigation Bar --\x3e\n      <div style="display:flex; align-items:center; padding:8px; gap:8px; background:#f8f9fa; border-bottom:1px solid #dee2e6;">\n        <button id="ff-back" title="Back">‚¨ÖÔ∏è</button>\n        <button id="ff-forward" title="Forward">‚û°Ô∏è</button>\n        <button id="ff-refresh" title="Refresh">üîÑ</button>\n        <button id="ff-home" title="Home">üè†</button>\n        <input \n          id="ff-url-bar" \n          type="text" \n          placeholder="Enter URL (e.g., https://google.com)" \n          style="flex:1; padding:6px 12px; border:1px solid #ced4da; border-radius:4px; font-size:14px;"\n          value=""\n        />\n        <button id="ff-go" title="Go" style="padding:6px 12px; background:#007bff; color:white; border:none; border-radius:4px; cursor:pointer;">Go</button>\n        <div style="border-left:1px solid #dee2e6; height:24px; margin:0 8px;"></div>\n        <button id="ff-fullscreen" title="Fullscreen">‚õ∂</button>\n        <button id="ff-close" title="Close" style="color:#dc3545;">‚ùå</button>\n      </div>\n      \n      \x3c!-- Firefox VNC Iframe --\x3e\n      <iframe \n        id="${e}"\n        src="${n}" \n        style="width:100%; flex:1; border:none;"\n        allowfullscreen\n      ></iframe>\n    </div>`)(f,u);const h=new r.MainAreaWidget({content:d});h.id="firefox-browser",h.title.label=i,h.title.closable=!0,h.node.style.height="100%",e.shell.add(h,"main"),e.shell.activateById(h.id);const x=d.node.querySelector(`#${f}`);x?(null===(n=d.node.querySelector("#ff-refresh"))||void 0===n||n.addEventListener("click",()=>{x.src=x.src}),null===(t=d.node.querySelector("#ff-close"))||void 0===t||t.addEventListener("click",()=>{h.close()}),null===(o=d.node.querySelector("#ff-fullscreen"))||void 0===o||o.addEventListener("click",()=>{var e;(e=x).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}),document.addEventListener("fullscreenchange",a),document.addEventListener("webkitfullscreenchange",a),document.addEventListener("mozfullscreenchange",a),document.addEventListener("MSFullscreenChange",a)):console.error("Firefox iframe not found")}}),n.add({command:o,category:"Other",rank:1}),t.addItem({command:o,category:"Firefox"})}}}}]);