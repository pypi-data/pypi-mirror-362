Metadata-Version: 2.1
Name: zyt-fileio-utils
Version: 0.1.0
Summary: A utility package of file io for Python projects
Home-page: https://github.com/VerySeriousMan/zyt_fileio_utils
Author: ZhangYuetao
Author-email: zhang894171707@gmail.com
License: UNKNOWN
Platform: UNKNOWN
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE

# zyt_fileio_utils

[![PyPI Version](https://img.shields.io/pypi/v/zyt_fileio_utils.svg)](https://pypi.org/project/zyt_fileio_utils/)
[![License](https://img.shields.io/pypi/l/zyt_fileio_utils.svg)](https://opensource.org/licenses/MIT)
[![Python Version](https://img.shields.io/pypi/pyversions/zyt_fileio_utils.svg)](https://www.python.org/downloads/)

**`zyt_fileio_utils`** æ˜¯ä¸€ä¸ªä¸“æ³¨äºæ–‡ä»¶è¯»å†™å’Œé…ç½®ç®¡ç†çš„ Python å·¥å…·åŒ…ï¼Œæä¾›æ–‡æœ¬ã€JSONã€TOMLã€YAML ç­‰å¤šæ ¼å¼çš„è¯»å†™ä¸é…ç½®æ–‡ä»¶å¤„ç†å‡½æ•°ï¼Œå…¼é¡¾å®ç”¨æ€§å’Œæ‰©å±•æ€§ï¼Œæ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿå®Œæˆæ–‡ä»¶I/OåŠé…ç½®åŠ è½½ç­‰ä»»åŠ¡ã€‚

> ğŸ“Œ å½“å‰ç‰ˆæœ¬ï¼š`v0.1.0` ï½œ ğŸ†• [æŸ¥çœ‹æ›´æ–°æ—¥å¿— Â»](#æ›´æ–°æ—¥å¿—)

---

## åŠŸèƒ½ç‰¹æ€§

### æ–‡æœ¬æ–‡ä»¶è¯»å†™ï¼š
- å°†åˆ—è¡¨ä¿å­˜æˆ–è¿½åŠ ä¸º TXT æ–‡ä»¶ï¼Œæ¯ä¸ªå…ƒç´ å•ç‹¬ä¸€è¡Œã€‚
- ä» TXT æ–‡ä»¶è¯»å–åˆ—è¡¨ï¼Œæ”¯æŒè‡ªåŠ¨è§£ææ•°æ®ç»“æ„ã€‚
- è¯»å–æ•´ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸ºå­—ç¬¦ä¸²
- å°†å­—ç¬¦ä¸²ä¿å­˜ä¸º TXT æ–‡ä»¶ï¼Œæ”¯æŒè¦†ç›–æˆ–è¿½åŠ å†™å…¥æ–‡æœ¬å†…å®¹ã€‚
- å…¼å®¹ str ä¸ pathlib.Path ç±»å‹è·¯å¾„å‚æ•°ã€‚

### JSON æ–‡ä»¶è¯»å†™ï¼š
- å°†å­—å…¸ä¿å­˜ä¸ºæ ¼å¼åŒ– JSON æ–‡ä»¶ï¼Œæ”¯æŒä¸­æ–‡åŠç¼©è¿›ã€‚
- è¯»å– JSON æ–‡ä»¶ï¼ŒåŠ è½½ä¸ºå­—å…¸ï¼Œæ”¯æŒé€’å½’åˆå¹¶é»˜è®¤é…ç½®ã€‚
- è¯»å–ä¸å†™å…¥ä»»ä½• JSON æ”¯æŒçš„æ–‡ä»¶ï¼Œæ”¯æŒä¸­æ–‡åŠç¼©è¿›ã€‚
- å…¼å®¹ str ä¸ pathlib.Path ç±»å‹è·¯å¾„å‚æ•°ã€‚

### TOML ä¸ YAML é…ç½®æ–‡ä»¶è¯»å†™ï¼š 
- å°†å­—å…¸ä¿å­˜ä¸º TOML æ–‡ä»¶ã€‚
- è¯»å– TOML é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒé€’å½’åˆå¹¶é»˜è®¤é…ç½®ã€‚
- å°†å­—å…¸ä¿å­˜ä¸º YAML æ–‡ä»¶ã€‚
- è¯»å– YAML é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒé€’å½’åˆå¹¶é»˜è®¤é…ç½®ã€‚
- æ”¯æŒé€’å½’åˆå¹¶åµŒå¥—å­—å…¸ï¼Œè‡ªåŠ¨è¡¥å…¨é»˜è®¤é…ç½®ç¼ºå¤±å­—æ®µã€‚
- å…¼å®¹å¤šç§æ ¼å¼é…ç½®è¯»å†™ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†é¡¹ç›®é…ç½®ã€‚
- å…¼å®¹ str ä¸ pathlib.Path ç±»å‹è·¯å¾„å‚æ•°ã€‚

---

## å®‰è£…

ä½ å¯ä»¥é€šè¿‡ `pip` å®‰è£…è¿™ä¸ªå·¥å…·é›†ï¼š

```bash
pip install zyt_fileio_utils
```

---

## API æ–‡æ¡£

> æ³¨ï¼šæ‰€æœ‰ä»¥ dict ä¸ºè¯´æ˜çš„å‚æ•°ï¼Œå‡æ¥å— Python å­—å…¸æˆ–ä»»æ„ç¬¦åˆ Mapping åè®®çš„å¯¹è±¡ï¼ˆå¦‚ dict, ChainMap ç­‰ï¼‰ã€‚

<br>

### æ–‡æœ¬æ–‡ä»¶è¯»å†™ï¼ˆ`textio`æ¨¡å—ï¼‰

#### ğŸ”¹ **`save_list_to_txt(txt_path, data_list)`**
**åŠŸèƒ½**: å°†åˆ—è¡¨æ•°æ®ä¿å­˜åˆ° TXT æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªå…ƒç´ å ä¸€è¡Œã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™è¿½åŠ ã€‚

**å‚æ•°**:
- `txt_path` (str æˆ– Path): ä¿å­˜æ–‡ä»¶è·¯å¾„ã€‚
- `data_list` (list): å¾…ä¿å­˜çš„æ•°æ®åˆ—è¡¨ã€‚

**è¿”å›**:
- æ— ã€‚

#### ğŸ”¹ **`read_list_from_txt(txt_path, parse=False)`**
**åŠŸèƒ½**: ä» TXT æ–‡ä»¶ä¸­è¯»å–åˆ—è¡¨ï¼Œæ”¯æŒå°†æ¯è¡Œæ–‡æœ¬è§£æä¸º Python æ•°æ®ç»“æ„ã€‚

**å‚æ•°**:
- `txt_path` (str æˆ– Path): è¯»å–æ–‡ä»¶è·¯å¾„ã€‚
- `parse` (bool, å¯é€‰): æ˜¯å¦å¯¹æ¯è¡Œæ–‡æœ¬åš ast.literal_eval è§£æï¼Œé»˜è®¤ Falseã€‚

**è¿”å›**:
- list: è¯»å–çš„åˆ—è¡¨æ•°æ®ã€‚

#### ğŸ”¹ **`save_text(txt_path, text, mode="w")`**
**åŠŸèƒ½**: ä¿å­˜å­—ç¬¦ä¸²æ–‡æœ¬åˆ°æ–‡ä»¶ï¼Œæ”¯æŒè¦†ç›–å†™å…¥æˆ–è¿½åŠ å†™å…¥ã€‚

**å‚æ•°**:
- `txt_path` (str æˆ– Path): æ–‡ä»¶è·¯å¾„ã€‚
- `text` (str): è¦å†™å…¥çš„æ–‡æœ¬å†…å®¹ã€‚
- `mode` (str, å¯é€‰): å†™å…¥æ¨¡å¼ï¼Œ"w" è¦†ç›–ï¼Œ"a" è¿½åŠ ï¼Œé»˜è®¤ "w"ã€‚

**è¿”å›**:
- æ— ã€‚

#### ğŸ”¹ **`read_text(txt_path)`**
**åŠŸèƒ½**: è¯»å–æ•´ä¸ªæ–‡æœ¬æ–‡ä»¶å†…å®¹ä¸ºå­—ç¬¦ä¸²ã€‚

**å‚æ•°**:
- `txt_path` (str æˆ– Path): æ–‡ä»¶è·¯å¾„ã€‚

**è¿”å›**:
- str: æ–‡ä»¶å†…å®¹å­—ç¬¦ä¸²ã€‚

<br>

### JSON æ–‡ä»¶è¯»å†™ï¼ˆ`jsonio`æ¨¡å—ï¼‰

#### ğŸ”¹ **`save_dict_to_json(json_path, data_dict)`**
**åŠŸèƒ½**: å°†å­—å…¸æ•°æ®ä¿å­˜ä¸ºæ ¼å¼åŒ– JSON æ–‡ä»¶ï¼Œæ”¯æŒä¸­æ–‡å­—ç¬¦ã€‚

**å‚æ•°**:
- `json_path` (str æˆ– Path): ä¿å­˜è·¯å¾„ã€‚
- `data_dict` (dict): å¾…ä¿å­˜çš„å­—å…¸ã€‚

**è¿”å›**:
- æ— ã€‚

**å¼‚å¸¸**:
- `TypeError`: `data_dict` ä¸æ˜¯ Mapping ç±»å‹ã€‚

#### ğŸ”¹ **`read_dict_from_json(json_path, default={})`**
**åŠŸèƒ½**: è¯»å– JSON æ–‡ä»¶ä¸ºå­—å…¸ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨æˆ–è§£æå¤±è´¥ï¼Œè¿”å›é»˜è®¤å­—å…¸ã€‚æ”¯æŒé€’å½’åˆå¹¶é»˜è®¤é…ç½®ã€‚

**å‚æ•°**:
- `json_path` (str æˆ– Path): è¯»å–è·¯å¾„ã€‚
- `default` (dict, å¯é€‰): é»˜è®¤é…ç½®å­—å…¸ã€‚

**è¿”å›**:
- dict: åˆå¹¶åçš„é…ç½®å­—å…¸ã€‚

#### ğŸ”¹ **`save_json(json_path, data)`**
**åŠŸèƒ½**: å°†ä»»æ„åˆæ³• JSON æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶ã€‚

**å‚æ•°**:
- `json_path` (str æˆ– Path): ä¿å­˜è·¯å¾„ã€‚
- `data` (ä»»æ„ JSON ç±»å‹): JSON å¯åºåˆ—åŒ–çš„æ•°æ®ã€‚

**è¿”å›**:
- æ— ã€‚

#### ğŸ”¹ **`read_json(json_path)`**
**åŠŸèƒ½**: è¯»å–ä»»æ„åˆæ³• JSON ç±»å‹ã€‚

**å‚æ•°**:
- `json_path` (str æˆ– Path): è¯»å–è·¯å¾„ã€‚

**è¿”å›**:
- è¯»å–çš„ JSON ç±»å‹æ•°æ®ã€‚

<br>

### TOML ä¸ YAML æ–‡ä»¶è¯»å†™ï¼ˆ`configio`æ¨¡å—ï¼‰

#### ğŸ”¹ **`save_dict_to_toml(toml_path, data_dict)`**
**åŠŸèƒ½**: å°†å­—å…¸ä¿å­˜ä¸º TOML æ ¼å¼æ–‡ä»¶ã€‚

**å‚æ•°**:
- `toml_path` (str æˆ– Path): ä¿å­˜è·¯å¾„ã€‚
- `data_dict` (dict): å¾…ä¿å­˜å­—å…¸ã€‚

**è¿”å›**:
- æ— ã€‚

**å¼‚å¸¸**:
- `ImportError`: æœªå®‰è£…`toml`pythonåŒ…ã€‚
- `TypeError`: `data_dict` ä¸æ˜¯ Mapping ç±»å‹ã€‚

#### ğŸ”¹ **`read_dict_from_toml(toml_path, default={})`**
**åŠŸèƒ½**: è¯»å– TOML æ–‡ä»¶ä¸ºå­—å…¸ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æˆ–è§£æå¤±è´¥æ—¶è¿”å›é»˜è®¤é…ç½®ï¼Œæ”¯æŒé€’å½’åˆå¹¶ã€‚

**å‚æ•°**:
- `toml_path` (str æˆ– Path): è¯»å–è·¯å¾„ã€‚
- `default` (dict, å¯é€‰): é»˜è®¤é…ç½®å­—å…¸ã€‚

**è¿”å›**:
- dict: åˆå¹¶åçš„é…ç½®å­—å…¸ã€‚

**å¼‚å¸¸**:
- `ImportError`: æœªå®‰è£…`toml`pythonåŒ…ã€‚
- `TypeError`: `default` ä¸æ˜¯ Mapping ç±»å‹ã€‚

#### ğŸ”¹ **`save_dict_to_yaml(yaml_path, data_dict)`**
**åŠŸèƒ½**: å°†å­—å…¸ä¿å­˜ä¸º YAML æ ¼å¼æ–‡ä»¶ã€‚

**å‚æ•°**:
- `yaml_path` (str æˆ– Path): ä¿å­˜è·¯å¾„ã€‚
- `data_dict` (dict): å¾…ä¿å­˜å­—å…¸ã€‚

**è¿”å›**:
- æ— ã€‚

**å¼‚å¸¸**:
- `ImportError`: æœªå®‰è£…`pyyaml`pythonåŒ…ã€‚
- `TypeError`: `data_dict` ä¸æ˜¯ Mapping ç±»å‹ã€‚

#### ğŸ”¹ **`read_dict_from_yaml(yaml_path, default={})`**
**åŠŸèƒ½**: è¯»å– YAML æ–‡ä»¶ä¸ºå­—å…¸ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æˆ–è§£æå¤±è´¥æ—¶è¿”å›é»˜è®¤é…ç½®ï¼Œæ”¯æŒé€’å½’åˆå¹¶ã€‚

**å‚æ•°**:
- `yaml_path` (str æˆ– Path): è¯»å–è·¯å¾„ã€‚
- `default` (dict, å¯é€‰): é»˜è®¤é…ç½®å­—å…¸ã€‚

**è¿”å›**:
- dict: åˆå¹¶åçš„é…ç½®å­—å…¸ã€‚

**å¼‚å¸¸**:
- `ImportError`: æœªå®‰è£…`pyyaml`pythonåŒ…ã€‚
- `TypeError`: `default` ä¸æ˜¯ Mapping ç±»å‹ã€‚

<br>

### ä½¿ç”¨ç¤ºä¾‹

```python
from zyt_fileio_utils import save_text, read_text

# ä¿å­˜å­—ç¬¦ä¸²å†…å®¹
save_text("data/output.txt", "Hello", mode='w')
save_text("data/output.txt", " World", mode='a')

# è¯»å–å†…å®¹
data = read_text("data/output.txt")

print(data)  # "Hello World"
```

```python
from zyt_fileio_utils import save_dict_to_toml, read_dict_from_toml

# ä¿å­˜éƒ¨åˆ†é…ç½®
save_dict_to_toml("data/output.toml", {"age": 15})

# è¯»å–é…ç½®ï¼Œä½¿ç”¨é»˜è®¤å€¼è¡¥å…¨ç¼ºå¤±å­—æ®µ
data = read_dict_from_toml("data/output.toml", default={"name": "Bob", "age": 20})

print(data)  # {"name": "Bob", "age": 15}
```

---

## æ›´æ–°æ—¥å¿—

### V0.1.0

### 2025-07-16

### åˆæ¬¡ç‰ˆæœ¬å‘å¸ƒ

### ğŸ“œ å®Œæ•´æ›´æ–°æ—¥å¿—

 **ç‚¹æ­¤æŸ¥çœ‹æ‰€æœ‰å†å²ç‰ˆæœ¬å’Œè¯¦ç»†æ”¹åŠ¨è¯´æ˜ï¼š**  
ğŸ”—[æŸ¥çœ‹å®Œæ•´æ›´æ–°æ—¥å¿— Â»](CHANGELOG.md)

---

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT è®¸å¯è¯](LICENSE) å¼€æºã€‚

## ä½œè€…

- **ZhangYuetao** - é¡¹ç›®å¼€å‘è€…
- é‚®ç®±: zhang894171707@gmail.com

