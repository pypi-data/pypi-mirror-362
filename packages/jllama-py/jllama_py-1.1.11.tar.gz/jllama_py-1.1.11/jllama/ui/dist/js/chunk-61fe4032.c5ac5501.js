(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61fe4032"],{"2ca0":function(e,t,i){"use strict";var n=i("23e7"),a=i("4625"),o=i("06cf").f,r=i("50c4"),s=i("577e"),c=i("5a34"),d=i("1d80"),p=i("ab13"),w=i("c430"),u=a("".slice),l=Math.min,f=p("startsWith"),_=!w&&!f&&!!function(){var e=o(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!_&&!f},{startsWith:function(e){var t=s(d(this));c(e);var i=r(l(arguments.length>1?arguments[1]:void 0,t.length)),n=s(e);return u(t,i,i+n.length)===n}})},"44e7":function(e,t,i){"use strict";var n=i("861d"),a=i("c6b6"),o=i("b622"),r=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[r])?!!t:"RegExp"===a(e))}},4989:function(e,t,i){"use strict";var n=i("c7eb"),a=i("1da1"),o=(i("0fb7"),i("450d"),i("f529")),r=i.n(o);i("d3b7"),i("ff51");t["a"]={showTips:function(){window.pywebview.api.show_tips().then((function(e){r.a.info(e)}))},getNav:function(){return window.pywebview.api.get_nav()},getSysInfo:function(){return window.pywebview.api.get_sys_info()},initEnv:function(){return window.pywebview.api.init_env()},modelList:function(e,t,i){return window.pywebview.api.model_list({page:e,limit:t,search:i})},createModel:function(e){return window.pywebview.api.create_model(e)},searchModelFile:function(e){return window.pywebview.api.search_model_file(e)},openFileSelector:function(){return window.pywebview.api.open_file_select()},createDownload:function(e){return window.pywebview.api.create_download(e)},createBatchDownload:function(e){return window.pywebview.api.create_batch_download(e)},getDownloadFiles:function(e){return window.pywebview.api.get_download_files(e)},delFile:function(e){return window.pywebview.api.delete_file_download(e)},delModel:function(e){return window.pywebview.api.delete_model(e)},importFile:function(e){return window.pywebview.api.import_file(e)},fileList:function(e){return window.pywebview.api.file_list(e)},getModel:function(e){return window.pywebview.api.get_model(e)},runModel:function(e){return window.pywebview.api.run_model(e)},listRunningModel:function(e){return window.pywebview.api.list_running_model(e)},stopRunningModel:function(e){return window.pywebview.api.stop_running_model(e)},listRunningModeHistory:function(e){return window.pywebview.api.list_running_model_history(e)},delRunningModel:function(e){return window.pywebview.api.del_running_model(e)},showTk:function(){return window.pywebview.api.show_tk()},splitMergeGguf:function(e){return window.pywebview.api.split_merge_gguf(e)},listSplitMerge:function(e){return window.pywebview.api.list_split_merge(e)},listQuantize:function(e){return window.pywebview.api.list_quantize(e)},listQuantizeParams:function(){return window.pywebview.api.list_quantize_params()},quantize:function(e){return window.pywebview.api.quantize(e)},convertHfToGguf:function(e){return window.pywebview.api.convert_hf_to_gguf(e)},listConvertModel:function(e){return window.pywebview.api.list_covert_model(e)},getSetting:function(){return window.pywebview.api.get_setting()},saveSetting:function(e){return window.pywebview.api.save_setting(e)},getLlamaCppConfig:function(){return window.pywebview.api.get_llama_cpp_config()},saveLlamaCppConfig:function(e){return window.pywebview.api.save_llama_cpp_config(e)},getLLamaServerInfo:function(){return window.pywebview.api.get_llama_server_info()},startLLamaServer:function(){return window.pywebview.api.start_llama_server()},stopLLamaServer:function(){return window.pywebview.api.stop_llama_server()},openFileInSysEdit:function(e){return window.pywebview.api.open_file_in_sys_edit(e)},train:function(e){return Object(a["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){window.pywebview.api.train(e).then((function(e){t(e)})).catch((function(e){i(e)}))})));case 1:case"end":return t.stop()}}),t)})))()},getTrainList:function(e,t){return window.pywebview.api.get_train_list(e,t)},deleteTrainRecord:function(e){return window.pywebview.api.delete_train_record(e)},generateTrainCode:function(e){return window.pywebview.api.generate_train_code(e)},checkSshConnection:function(e,t,i,n){return window.pywebview.api.check_ssh_connection(e,t,i,n)},remoteTrain:function(e){return Object(a["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){window.pywebview.api.remote_train(e).then((function(e){t(e)})).catch((function(e){i(e)}))})));case 1:case"end":return t.stop()}}),t)})))()},getLlamaFactoryInfo:function(){return window.pywebview.api.get_llamafactory_info()},installLlamaFactory:function(){return window.pywebview.api.install_llamafactory()},installLlamafactoryManual:function(){return window.pywebview.api.install_llamafactory_manual()},reloadInstallState:function(){return window.pywebview.api.reload_install_state()},isTraining:function(){return window.pywebview.api.is_training()},stopTrain:function(){return window.pywebview.api.stop_train()},getAiChatUrl:function(){return window.pywebview.api.get_ai_chat_url()},startLlamafactory:function(){return window.pywebview.api.start_lf_webui()},stopLlamafactory:function(){return window.pywebview.api.stop_lf_webui()},isLlamafactoryRunning:function(){return window.pywebview.api.is_lf_running()},getRecentServerInfo:function(){return window.pywebview.api.get_recent_server_info()},getSdInfo:function(){return window.pywebview.api.get_sd_info()},initSd:function(){return window.pywebview.api.init_sd()},sdGeneratePic:function(e){return window.pywebview.api.sd_generate_pic(e)},saveImages:function(e){return window.pywebview.api.save_image(e)},sdPicToPic:function(e){return window.pywebview.api.sd_pic_to_pic(e)},initIpAdapter:function(){return window.pywebview.api.init_ip_adapter()},initIpAdapterFaceid:function(){return window.pywebview.api.init_ip_adapter_faceid()},getIpAdapterModels:function(){return window.pywebview.api.get_ip_adapter_models()},sdIpAdapterFaceid:function(e){return window.pywebview.api.sd_ip_adapter_faceid(e)}}},"55af":function(e,t,i){"use strict";i("5da0")},"5a34":function(e,t,i){"use strict";var n=i("44e7"),a=TypeError;e.exports=function(e){if(n(e))throw new a("The method doesn't accept regular expressions");return e}},"5da0":function(e,t,i){},7685:function(e,t,i){"use strict";i("8fc6")},"8fc6":function(e,t,i){},"99af":function(e,t,i){"use strict";var n=i("23e7"),a=i("d039"),o=i("e8b5"),r=i("861d"),s=i("7b0b"),c=i("07fa"),d=i("3511"),p=i("8418"),w=i("65f0"),u=i("1dde"),l=i("b622"),f=i("1212"),_=l("isConcatSpreadable"),v=f>=51||!a((function(){var e=[];return e[_]=!1,e.concat()[0]!==e})),g=function(e){if(!r(e))return!1;var t=e[_];return void 0!==t?!!t:o(e)},m=!v||!u("concat");n({target:"Array",proto:!0,arity:1,forced:m},{concat:function(e){var t,i,n,a,o,r=s(this),u=w(r,0),l=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?r:arguments[t],g(o))for(a=c(o),d(l+a),i=0;i<a;i++,l++)i in o&&p(u,l,o[i]);else d(l+1),p(u,l++,o);return u.length=l,u}})},ab13:function(e,t,i){"use strict";var n=i("b622"),a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[a]=!1,"/./"[e](t)}catch(n){}}return!1}},b64b:function(e,t,i){"use strict";var n=i("23e7"),a=i("7b0b"),o=i("df75"),r=i("d039"),s=r((function(){o(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(e){return o(a(e))}})},dd0c:function(e,t,i){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sd-info"},[t("div",[e._v("SD环境状态： "),"已初始化"==e.sd_info.state?t("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.sd_info.state))]):t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.sd_info.state))]),e._v("      "),t("el-tooltip",{attrs:{content:"初始化SD基础运行环境"}},["待初始化"===e.sd_info.state?t("el-button",{attrs:{loading:e.sd_info_loading,type:"primary",size:"mini",round:""},on:{click:e.initSd}},[e._v("init ")]):e._e()],1)],1),t("div",[e._v(" IP-Adapter环境状态: "),"已初始化"==e.sd_info.ip_adapter_state?t("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.sd_info.ip_adapter_state))]):t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.sd_info.ip_adapter_state))]),e._v("      "),t("el-tooltip",{attrs:{content:"初始化IP-Adapter运行环境"}},["待初始化"===e.sd_info.ip_adapter_state?t("el-button",{attrs:{loading:e.ip_adapter_loading,round:"",type:"primary",size:"mini"},on:{click:e.initIpAdapter}},[e._v("init ")]):e._e()],1)],1),t("div",[e._v(" IP-Adapter-FaceID环境状态: "),"已初始化"==e.sd_info.ip_adapter_faceid_state?t("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.sd_info.ip_adapter_faceid_state)+" ")]):t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.sd_info.ip_adapter_faceid_state))]),e._v("      "),t("el-tooltip",{attrs:{content:"初始化IP-Adapter-FaceID运行环境"}},["待初始化"===e.sd_info.ip_adapter_faceid_state?t("el-button",{attrs:{loading:e.ip_adapter_faceid_loading,round:"",type:"primary",size:"mini"},on:{click:e.initIpAdapterFaceid}},[e._v("init ")]):e._e()],1)],1),t("div",[e._v("SD基础模型保存目录："),t("u",[e._v(e._s(e.sd_info.main_model_path))])]),t("div",[e._v("SD版本："),t("u",[e._v(e._s(e.sd_info.sd_version))])]),t("div",[e._v("常用AIGC社区：   "),t("el-link",{attrs:{type:"primary",href:"https://www.liblib.art/",target:"_blank"}},[e._v("liblib art")]),e._v("     "),t("el-link",{attrs:{type:"primary",href:"https://www.aigccn.cc/",target:"_blank"}},[e._v("AIGC社区")]),e._v("     "),t("el-link",{attrs:{type:"primary",href:"https://modelscope.cn/aigc/models",target:"_blank"}},[e._v("ModelScope AIGC")])],1)])},a=[],o=i("4989"),r={name:"SdInfo",props:{sd_info:{type:Object,required:!0,default:{}}},data:function(){return{sd_info_loading:!1,ip_adapter_loading:!1,ip_adapter_faceid_loading:!1}},watch:{},created:function(){},methods:{initSd:function(){var e=this;this.$message.info("开始下载SD基础模型"),this.sd_info_loading=!0,o["a"].initSd().then((function(t){e.sd_info_loading=!1,e.$message.success("SD环境初始化完成"),e.$emit("getSdInfo")})).catch((function(t){e.sd_info_loading=!1,e.$message.error(t)}))},initIpAdapter:function(){var e=this;this.$message.info("开始下载IP-Adapter模型"),this.ip_adapter_loading=!0,o["a"].initIpAdapter().then((function(t){e.ip_adapter_loading=!1,e.$message.success("IP-Adapter环境初始化完成"),e.$emit("getSdInfo"),e.$emit("getIpAdapterModels")})).catch((function(t){e.ip_adapter_loading=!1,e.$message.error(t)}))},initIpAdapterFaceid:function(){var e=this;this.$message.info("开始下载IP-Adapter-FaceID相关模型，文件较多，等待时间较长"),this.ip_adapter_faceid_loading=!0,o["a"].initIpAdapterFaceid().then((function(t){e.ip_adapter_faceid_loading=!1,e.$message.success("IP-Adapter-FaceId环境初始化完成"),e.$emit("getSdInfo")})).catch((function(t){e.ip_adapter_faceid_loading=!1,e.$message.error(t)}))}}},s=r,c=(i("55af"),i("2877")),d=Object(c["a"])(s,n,a,!1,null,"7028a81c",null);t["a"]=d.exports},e700:function(e,t,i){"use strict";i("99af");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"image-viewer-container"},[t("el-dialog",{attrs:{visible:e.dialogVisible,title:"图片查看器",width:"80%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleClose},scopedSlots:e._u([{key:"footer",fn:function(){return[t("span",{staticClass:"dialog-footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)]},proxy:!0}])},[[e.imageUrl?t("div",{staticClass:"image-viewer-content"},[t("div",{staticClass:"image-viewer-toolbar"},[t("el-button",{attrs:{icon:"el-icon-zoom-in"},on:{click:e.zoomIn}},[e._v("放大")]),t("el-button",{attrs:{icon:"el-icon-zoom-out"},on:{click:e.zoomOut}},[e._v("缩小")]),t("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:e.rotateRight}},[e._v("右转")]),t("el-button",{attrs:{icon:"el-icon-refresh-left"},on:{click:e.rotateLeft}},[e._v("左转")]),t("el-button",{attrs:{icon:"el-icon-download"},on:{click:e.saveImg}},[e._v("保存")])],1),t("div",{ref:"imageWrapper",staticClass:"image-wrapper"},[t("img",{ref:"image",staticClass:"viewable-image",style:{transform:"scale(".concat(e.scale,") rotate(").concat(e.rotate,"deg)"),transition:"transform 0.3s"},attrs:{src:e.imageUrl},on:{load:e.onImageLoad}})])]):t("div",{staticClass:"loading-state"},[t("el-loading-spinner"),t("p",[e._v("等待图片数据...")])],1)]],2)],1)},a=[],o=(i("2ca0"),i("4989")),r={name:"ImageViewer",props:{visible:{type:Boolean,default:!1}},data:function(){return{dialogVisible:this.visible,imageUrl:"",scale:1,rotate:0,maxScale:3,minScale:.5,scaleStep:.1}},watch:{visible:function(e){this.dialogVisible=e,e||this.resetViewer()}},methods:{loadImage:function(e){e.startsWith("data:")?this.imageUrl=e:this.imageUrl="data:image/png;base64,".concat(e)},onImageLoad:function(){var e=this;this.scale=1,this.rotate=0,this.$nextTick((function(){e.adjustImageToContainer()}))},adjustImageToContainer:function(){var e=this.$refs.image,t=this.$refs.imageWrapper;if(e&&t)e.naturalWidth,e.naturalHeight,t.clientWidth,t.clientHeight},zoomIn:function(){this.scale<this.maxScale&&(this.scale+=this.scaleStep)},zoomOut:function(){this.scale>this.minScale&&(this.scale-=this.scaleStep)},rotateRight:function(){this.rotate+=90},rotateLeft:function(){this.rotate-=90},downloadImage:function(){if(this.imageUrl){var e=document.createElement("a");e.href=this.imageUrl,e.download="image_".concat((new Date).getTime(),".png"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}},resetViewer:function(){this.imageUrl="",this.scale=1,this.rotate=0},handleClose:function(){this.resetViewer(),this.$emit("update:visible",!1)},saveImg:function(){var e=this;o["a"].saveImages(this.imageUrl).then((function(t){"success"===t&&e.$message.success("保存成功")})).catch((function(t){e.$message.error(t)}))}}},s=r,c=(i("7685"),i("2877")),d=Object(c["a"])(s,n,a,!1,null,"d2c7754a",null);t["a"]=d.exports}}]);
//# sourceMappingURL=chunk-61fe4032.c5ac5501.js.map