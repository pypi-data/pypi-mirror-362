{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./src/components/bussiness/watch.vue?ac0c","webpack:///./src/common/apis.js","webpack:///./src/components/bussiness/watch.vue","webpack:///src/components/bussiness/watch.vue","webpack:///./src/components/bussiness/watch.vue?540d","webpack:///./src/components/bussiness/watch.vue?0881","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./node_modules/core-js/modules/es.object.keys.js"],"names":["module","exports","Object","is","x","y","showTips","window","pywebview","api","show_tips","then","res","_Message","info","getNav","get_nav","getSysInfo","get_sys_info","initEnv","init_env","modelList","page","limit","search","model_list","createModel","modelInfo","create_model","searchModelFile","search_model_file","openFileSelector","open_file_select","createDownload","params","create_download","createBatchDownload","create_batch_download","getDownloadFiles","id","get_download_files","delFile","fileId","delete_file_download","delModel","delete_model","importFile","import_file","fileList","file_list","getModel","modelId","get_model","runModel","run_model","listRunningModel","list_running_model","stopRunningModel","execLogId","stop_running_model","listRunningModeHistory","list_running_model_history","delRunningModel","del_running_model","showTk","show_tk","splitMergeGguf","split_merge_gguf","listSplitMerge","list_split_merge","listQuantize","list_quantize","listQuantizeParams","list_quantize_params","quantize","convertHfToGguf","convert_hf_to_gguf","listConvertModel","list_covert_model","getSetting","get_setting","saveSetting","save_setting","getLlamaCppConfig","get_llama_cpp_config","saveLlamaCppConfig","content","save_llama_cpp_config","getLLamaServerInfo","get_llama_server_info","startLLamaServer","start_llama_server","stopLLamaServer","stop_llama_server","openFileInSysEdit","filePath","open_file_in_sys_edit","train","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","Promise","resolve","reject","catch","err","stop","getTrainList","get_train_list","deleteTrainRecord","delete_train_record","generateTrainCode","generate_train_code","checkSshConnection","hostname","port","username","password","check_ssh_connection","remoteTrain","_callee2","_context2","remote_train","getLlamaFactoryInfo","get_llamafactory_info","installLlamaFactory","install_llamafactory","installLlamafactoryManual","install_llamafactory_manual","reloadInstallState","reload_install_state","isTraining","is_training","stopTrain","stop_train","getAiChatUrl","get_ai_chat_url","startLlamafactory","start_lf_webui","stopLlamafactory","stop_lf_webui","isLlamafactoryRunning","is_lf_running","getRecentServerInfo","get_recent_server_info","getSdInfo","get_sd_info","initSd","init_sd","sdGeneratePic","sd_generate_pic","saveImages","base64","save_image","sdPicToPic","sd_pic_to_pic","initIpAdapter","init_ip_adapter","initIpAdapterFaceid","init_ip_adapter_faceid","getIpAdapterModels","get_ip_adapter_models","sdIpAdapterFaceid","sd_ip_adapter_faceid","render","_vm","this","_c","_self","attrs","_v","staticClass","formInline","model","value","callback","$$v","$set","expression","on","getTableData","addNew","staticStyle","tableData","scopedSlots","_u","key","fn","scope","row","model_type","_s","$event","chat","$index","currentPage","pageSizes","pageSize","total","handleSizeChange","handleCurrentChange","showDialog","resetDialog","ref","modelForm","rules","modelChange","_l","item","name","selectedModel","type","file_name","_e","ngl","threads","ctxSize","args","temperature","top_k","top_p","memory","torch_dtype","stream","slot","exec","staticRenderFns","data","required","message","trigger","pattern","created","getModelList","methods","current","index","$router","push","path","query","model_id","modelName","model_name","modelType","reasoningArgs","reasoning_args","_this","apis","$message","success","e","error","_this2","getFileList","form","_this3","$refs","validate","valid","length","loading","startLoading","endLoading","_this4","JSON","parse","record","_this5","_this6","_this7","ggufOnly","component","call","fixRegExpWellKnownSymbolLogic","anObject","isNullOrUndefined","requireObjectCoercible","sameValue","toString","getMethod","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","undefined","RegExp","string","rx","S","done","previousLastIndex","lastIndex","result","$","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","target","stat","forced","keys","it"],"mappings":"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","file":"js/chunk-6e75313f.fd65c60c.js","sourcesContent":["'use strict';\n// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x !== x && y !== y;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./watch.vue?vue&type=style&index=0&id=1b5df55c&prod&lang=css\"","import {Loading, Message} from 'element-ui'\r\nimport {startLoading} from \"./common\";\r\n\r\n\r\nexport default {\r\n  showTips() {\r\n    window.pywebview.api.show_tips().then(res => {\r\n      Message.info(res)\r\n    })\r\n  },\r\n  getNav() {\r\n    return window.pywebview.api.get_nav()\r\n  },\r\n  getSysInfo() {\r\n    return window.pywebview.api.get_sys_info()\r\n  },\r\n  initEnv() {\r\n    return window.pywebview.api.init_env()\r\n  },\r\n  modelList(page, limit, search) {\r\n    return window.pywebview.api.model_list({page: page, limit: limit, search: search})\r\n  },\r\n  createModel(modelInfo) {\r\n    return window.pywebview.api.create_model(modelInfo)\r\n  },\r\n  searchModelFile(modelInfo) {\r\n    return window.pywebview.api.search_model_file(modelInfo)\r\n  },\r\n  openFileSelector() {\r\n    return window.pywebview.api.open_file_select()\r\n  },\r\n  createDownload(params) {\r\n    return window.pywebview.api.create_download(params)\r\n  },\r\n  createBatchDownload(params) {\r\n    return window.pywebview.api.create_batch_download(params)\r\n  },\r\n  getDownloadFiles(id) {\r\n    return window.pywebview.api.get_download_files(id)\r\n  },\r\n  delFile(fileId) {\r\n    return window.pywebview.api.delete_file_download(fileId)\r\n  },\r\n  delModel(params) {\r\n    return window.pywebview.api.delete_model(params)\r\n  },\r\n  importFile(params) {\r\n    return window.pywebview.api.import_file(params)\r\n  },\r\n  fileList(params) {\r\n    return window.pywebview.api.file_list(params)\r\n  },\r\n  getModel(modelId) {\r\n    return window.pywebview.api.get_model(modelId)\r\n  },\r\n  runModel(params) {\r\n    return window.pywebview.api.run_model(params)\r\n  },\r\n  listRunningModel(params) {\r\n    return window.pywebview.api.list_running_model(params)\r\n  },\r\n  stopRunningModel(execLogId) {\r\n    return window.pywebview.api.stop_running_model(execLogId)\r\n  },\r\n  listRunningModeHistory(params) {\r\n    return window.pywebview.api.list_running_model_history(params)\r\n  },\r\n  delRunningModel(id) {\r\n    return window.pywebview.api.del_running_model(id)\r\n  },\r\n  showTk() {\r\n    return window.pywebview.api.show_tk()\r\n  },\r\n  splitMergeGguf(params) {\r\n    return window.pywebview.api.split_merge_gguf(params)\r\n  },\r\n  listSplitMerge(params) {\r\n    return window.pywebview.api.list_split_merge(params)\r\n  },\r\n  listQuantize(params) {\r\n    return window.pywebview.api.list_quantize(params)\r\n  },\r\n  listQuantizeParams() {\r\n    return window.pywebview.api.list_quantize_params()\r\n  },\r\n  quantize(params) {\r\n    return window.pywebview.api.quantize(params)\r\n  },\r\n  convertHfToGguf(params) {\r\n    return window.pywebview.api.convert_hf_to_gguf(params)\r\n  },\r\n  listConvertModel(params) {\r\n    return window.pywebview.api.list_covert_model(params)\r\n  },\r\n  getSetting() {\r\n    return window.pywebview.api.get_setting()\r\n  },\r\n  saveSetting(params) {\r\n    return window.pywebview.api.save_setting(params)\r\n  },\r\n  getLlamaCppConfig() {\r\n    return window.pywebview.api.get_llama_cpp_config()\r\n  },\r\n  saveLlamaCppConfig(content) {\r\n    return window.pywebview.api.save_llama_cpp_config(content)\r\n  },\r\n  getLLamaServerInfo() {\r\n    return window.pywebview.api.get_llama_server_info()\r\n  },\r\n  startLLamaServer() {\r\n    return window.pywebview.api.start_llama_server()\r\n  },\r\n  stopLLamaServer() {\r\n    return window.pywebview.api.stop_llama_server()\r\n  },\r\n  openFileInSysEdit(filePath) {\r\n    return window.pywebview.api.open_file_in_sys_edit(filePath)\r\n  },\r\n  async train(params) {\r\n    // window.pywebview.api.train(params)\r\n    return new Promise((resolve, reject) => {\r\n      window.pywebview.api.train(params).then(res => {\r\n        resolve(res)\r\n      }).catch(err => {\r\n        reject(err)\r\n      })\r\n    })\r\n  },\r\n  getTrainList(page, limit) {\r\n    return window.pywebview.api.get_train_list(page, limit)\r\n  },\r\n  deleteTrainRecord(id) {\r\n    return window.pywebview.api.delete_train_record(id)\r\n  },\r\n  generateTrainCode(params) {\r\n    return window.pywebview.api.generate_train_code(params)\r\n  },\r\n  checkSshConnection(hostname, port, username, password) {\r\n    return window.pywebview.api.check_ssh_connection(hostname, port, username, password)\r\n  },\r\n  async remoteTrain(params) {\r\n    // return window.pywebview.api.remote_train(params)\r\n    return new Promise((resolve, reject) => {\r\n      window.pywebview.api.remote_train(params).then(res => {\r\n        resolve(res)\r\n      }).catch(err => {\r\n        reject(err)\r\n      })\r\n    })\r\n  },\r\n  getLlamaFactoryInfo() {\r\n    return window.pywebview.api.get_llamafactory_info()\r\n  },\r\n  installLlamaFactory() {\r\n    return window.pywebview.api.install_llamafactory()\r\n  },\r\n  installLlamafactoryManual() {\r\n    return window.pywebview.api.install_llamafactory_manual()\r\n  },\r\n  reloadInstallState() {\r\n    return window.pywebview.api.reload_install_state()\r\n  },\r\n  isTraining() {\r\n    return window.pywebview.api.is_training()\r\n  },\r\n  stopTrain() {\r\n    return window.pywebview.api.stop_train()\r\n  },\r\n  getAiChatUrl() {\r\n    return window.pywebview.api.get_ai_chat_url()\r\n  },\r\n  startLlamafactory() {\r\n    return window.pywebview.api.start_lf_webui()\r\n  },\r\n  stopLlamafactory() {\r\n    return window.pywebview.api.stop_lf_webui()\r\n  },\r\n  isLlamafactoryRunning() {\r\n    return window.pywebview.api.is_lf_running()\r\n  },\r\n  getRecentServerInfo() {\r\n    return window.pywebview.api.get_recent_server_info()\r\n  },\r\n  getSdInfo() {\r\n    return window.pywebview.api.get_sd_info()\r\n  },\r\n  initSd() {\r\n    return window.pywebview.api.init_sd()\r\n  },\r\n  sdGeneratePic(params) {\r\n    return window.pywebview.api.sd_generate_pic(params)\r\n  },\r\n  saveImages(base64) {\r\n    return window.pywebview.api.save_image(base64)\r\n  },\r\n  sdPicToPic(params) {\r\n    return window.pywebview.api.sd_pic_to_pic(params)\r\n  },\r\n  initIpAdapter() {\r\n    return window.pywebview.api.init_ip_adapter()\r\n  },\r\n  initIpAdapterFaceid() {\r\n    return window.pywebview.api.init_ip_adapter_faceid()\r\n  },\r\n  getIpAdapterModels() {\r\n    return window.pywebview.api.get_ip_adapter_models()\r\n  },\r\n  sdIpAdapterFaceid(params) {\r\n    return window.pywebview.api.sd_ip_adapter_faceid(params)\r\n  },\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_vm._v(\"AI推理\")]),_c('el-breadcrumb-item',[_vm._v(\"模型推理\")])],1),_c('el-card',[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"搜索\"}},[_c('el-input',{attrs:{\"placeholder\":\"搜索运行中的模型\"},model:{value:(_vm.formInline.search),callback:function ($$v) {_vm.$set(_vm.formInline, \"search\", $$v)},expression:\"formInline.search\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getTableData}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.addNew}},[_vm._v(\"运行\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"model_name\",\"label\":\"模型名称\"}}),_c('el-table-column',{attrs:{\"width\":\"70\",\"prop\":\"model_type\",\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.model_type === 'gguf' ? 'primary' : 'success',\"disable-transitions\":\"\"}},[_vm._v(_vm._s(scope.row.model_type)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"file_path\",\"label\":\"文件路径\"}}),_c('el-table-column',{attrs:{\"prop\":\"reasoning_args\",\"label\":\"运行参数\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.chat(scope.row, scope.$index)}}},[_vm._v(\"chat\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.stop(scope.row, scope.$index)}}},[_vm._v(\"停止\")])]}}])})],1),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"创建服务进程\",\"visible\":_vm.showDialog,\"close-on-press-escape\":false,\"close-on-click-modal\":false,\"destroy-on-close\":true,\"width\":\"800px\"},on:{\"update:visible\":function($event){_vm.showDialog=$event},\"close\":_vm.resetDialog}},[_c('el-form',{ref:\"modelForm\",attrs:{\"model\":_vm.modelForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"模型\",\"label-width\":\"120px\",\"prop\":\"modelId\"}},[_c('el-select',{attrs:{\"placeholder\":\"模型\"},on:{\"change\":_vm.modelChange},model:{value:(_vm.modelForm.modelId),callback:function ($$v) {_vm.$set(_vm.modelForm, \"modelId\", $$v)},expression:\"modelForm.modelId\"}},_vm._l((_vm.modelList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),(_vm.selectedModel.type ==='gguf')?_c('el-form-item',{attrs:{\"label\":\"文件名\",\"label-width\":\"120px\",\"prop\":\"fileId\"}},[_c('el-select',{attrs:{\"placeholder\":\"文件名\"},model:{value:(_vm.modelForm.fileId),callback:function ($$v) {_vm.$set(_vm.modelForm, \"fileId\", $$v)},expression:\"modelForm.fileId\"}},_vm._l((_vm.fileList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.file_name,\"value\":item.id}})}),1)],1):_vm._e(),(_vm.selectedModel.type ==='gguf')?_c('el-form-item',{attrs:{\"label\":\"-ngl\",\"label-width\":\"120px\",\"prop\":\"ngl\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"存储在 VRAM 中的层数,通常数值越大性能越好,但是过大也会导致显存不足\",\"show-word-limit\":\"\"},model:{value:(_vm.modelForm.ngl),callback:function ($$v) {_vm.$set(_vm.modelForm, \"ngl\", $$v)},expression:\"modelForm.ngl\"}})],1):_vm._e(),(_vm.selectedModel.type ==='gguf')?_c('el-form-item',{attrs:{\"label\":\"threads\",\"label-width\":\"120px\",\"prop\":\"threads\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"生成期间使用的线程数（默认值：-1）\",\"show-word-limit\":\"\"},model:{value:(_vm.modelForm.threads),callback:function ($$v) {_vm.$set(_vm.modelForm, \"threads\", $$v)},expression:\"modelForm.threads\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"ctxSize\",\"label-width\":\"120px\",\"prop\":\"ctxSize\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"提示上下文的大小\",\"show-word-limit\":\"\"},model:{value:(_vm.modelForm.ctxSize),callback:function ($$v) {_vm.$set(_vm.modelForm, \"ctxSize\", $$v)},expression:\"modelForm.ctxSize\"}})],1),(_vm.selectedModel.type ==='gguf')?_c('el-form-item',{attrs:{\"label\":\"其他参数\",\"label-width\":\"120px\",\"prop\":\"args\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"其他llama.cpp参数\"},model:{value:(_vm.modelForm.args),callback:function ($$v) {_vm.$set(_vm.modelForm, \"args\", $$v)},expression:\"modelForm.args\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"temperature\",\"label-width\":\"120px\",\"prop\":\"temperature\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入0.0-1.0之间的小数\",\"clearable\":\"\"},model:{value:(_vm.modelForm.temperature),callback:function ($$v) {_vm.$set(_vm.modelForm, \"temperature\", $$v)},expression:\"modelForm.temperature\"}})],1),_c('el-form-item',{attrs:{\"label\":\"top_k\",\"label-width\":\"120px\",\"prop\":\"top_k\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入0.0-1.0之间的小数\",\"clearable\":\"\"},model:{value:(_vm.modelForm.top_k),callback:function ($$v) {_vm.$set(_vm.modelForm, \"top_k\", $$v)},expression:\"modelForm.top_k\"}})],1),_c('el-form-item',{attrs:{\"label\":\"top_p\",\"label-width\":\"120px\",\"prop\":\"top_p\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入0.0-1.0之间的小数\",\"clearable\":\"\"},model:{value:(_vm.modelForm.top_p),callback:function ($$v) {_vm.$set(_vm.modelForm, \"top_p\", $$v)},expression:\"modelForm.top_p\"}})],1),_c('el-form-item',{attrs:{\"label\":\"记忆轮次\",\"label-width\":\"120px\",\"prop\":\"memory\"}},[_c('el-input-number',{attrs:{\"placeholder\":\"保存上下文记忆的轮次\"},model:{value:(_vm.modelForm.memory),callback:function ($$v) {_vm.$set(_vm.modelForm, \"memory\", $$v)},expression:\"modelForm.memory\"}})],1),(_vm.selectedModel.type ==='hf')?_c('el-form-item',{attrs:{\"label\":\"torch_dtype\",\"label-width\":\"120px\",\"prop\":\"torch_dtype\"}},[_c('el-select',{attrs:{\"placeholder\":\"模型数据类型\"},model:{value:(_vm.modelForm.torch_dtype),callback:function ($$v) {_vm.$set(_vm.modelForm, \"torch_dtype\", $$v)},expression:\"modelForm.torch_dtype\"}},[_c('el-option',{attrs:{\"value\":\"auto\"}},[_vm._v(\"auto\")]),_c('el-option',{attrs:{\"value\":\"bfloat16\"}},[_vm._v(\"bfloat16\")]),_c('el-option',{attrs:{\"value\":\"float32\"}},[_vm._v(\"float32\")]),_c('el-option',{attrs:{\"value\":\"float16\"}},[_vm._v(\"float16\")]),_c('el-option',{attrs:{\"value\":\"int16\"}},[_vm._v(\"int16\")]),_c('el-option',{attrs:{\"value\":\"int8\"}},[_vm._v(\"int8\")])],1)],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"流式输出\",\"label-width\":\"120px\",\"prop\":\"stream\"}},[_c('el-switch',{model:{value:(_vm.modelForm.stream),callback:function ($$v) {_vm.$set(_vm.modelForm, \"stream\", $$v)},expression:\"modelForm.stream\"}}),_c('i',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\" 大模型流式输出即文本逐字实时生成显示，如果不开启则需要等待模型完成推理后才能响应\")])],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.exec('modelForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item>AI推理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>模型推理</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <el-card>\r\n      <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n        <el-form-item label=\"搜索\">\r\n          <el-input v-model=\"formInline.search\" placeholder=\"搜索运行中的模型\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"getTableData\">查询</el-button>\r\n          <el-button type=\"success\" @click=\"addNew\">运行</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-table\r\n        :data=\"tableData\"\r\n        border\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column\r\n          prop=\"model_name\"\r\n          label=\"模型名称\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          width=\"70\"\r\n          prop=\"model_type\"\r\n          label=\"类型\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag\r\n              :type=\"scope.row.model_type === 'gguf' ? 'primary' : 'success'\"\r\n              disable-transitions>{{ scope.row.model_type }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"file_path\"\r\n          label=\"文件路径\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"reasoning_args\"\r\n          label=\"运行参数\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          fixed=\"right\"\r\n          label=\"操作\"\r\n          width=\"160\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"chat(scope.row, scope.$index)\" type=\"primary\" size=\"small\">chat</el-button>\r\n            <el-button @click=\"stop(scope.row, scope.$index)\" type=\"danger\" size=\"small\">停止</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"block\">\r\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage\"\r\n                       :page-sizes=\"pageSizes\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n                       :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-dialog title=\"创建服务进程\"\r\n               :visible.sync=\"showDialog\"\r\n               :close-on-press-escape=false\r\n               :close-on-click-modal=false\r\n               :destroy-on-close=true\r\n               width=\"800px\"\r\n               @close=\"resetDialog\"\r\n    >\r\n      <el-form :model=\"modelForm\" :rules=\"rules\" ref=\"modelForm\">\r\n        <el-form-item label=\"模型\" label-width=\"120px\" prop=\"modelId\">\r\n          <el-select v-model=\"modelForm.modelId\" placeholder=\"模型\" @change=\"modelChange\">\r\n            <el-option v-for=\"item in modelList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"文件名\" label-width=\"120px\" prop=\"fileId\" v-if=\"selectedModel.type ==='gguf'\">\r\n          <el-select v-model=\"modelForm.fileId\" placeholder=\"文件名\">\r\n            <el-option v-for=\"item in fileList\" :key=\"item.id\" :label=\"item.file_name\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"-ngl\" label-width=\"120px\" prop=\"ngl\" v-if=\"selectedModel.type ==='gguf'\">\r\n          <el-input\r\n            type=\"number\"\r\n            placeholder=\"存储在 VRAM 中的层数,通常数值越大性能越好,但是过大也会导致显存不足\"\r\n            v-model=\"modelForm.ngl\"\r\n            show-word-limit\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"threads\" label-width=\"120px\" prop=\"threads\" v-if=\"selectedModel.type ==='gguf'\">\r\n          <el-input\r\n            type=\"number\"\r\n            placeholder=\"生成期间使用的线程数（默认值：-1）\"\r\n            v-model=\"modelForm.threads\"\r\n            show-word-limit\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"ctxSize\" label-width=\"120px\" prop=\"ctxSize\">\r\n          <el-input\r\n            type=\"number\"\r\n            placeholder=\"提示上下文的大小\"\r\n            v-model=\"modelForm.ctxSize\"\r\n            show-word-limit\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"其他参数\" label-width=\"120px\" prop=\"args\" v-if=\"selectedModel.type ==='gguf'\">\r\n          <el-input type=\"textarea\" v-model=\"modelForm.args\" placeholder=\"其他llama.cpp参数\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"temperature\" label-width=\"120px\" prop=\"temperature\">\r\n          <el-input\r\n            v-model=\"modelForm.temperature\"\r\n            placeholder=\"请输入0.0-1.0之间的小数\"\r\n            clearable\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"top_k\" label-width=\"120px\" prop=\"top_k\">\r\n          <el-input\r\n            v-model=\"modelForm.top_k\"\r\n            placeholder=\"请输入0.0-1.0之间的小数\"\r\n            clearable\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"top_p\" label-width=\"120px\" prop=\"top_p\">\r\n          <el-input\r\n            v-model=\"modelForm.top_p\"\r\n            placeholder=\"请输入0.0-1.0之间的小数\"\r\n            clearable\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"记忆轮次\" label-width=\"120px\" prop=\"memory\">\r\n          <el-input-number\r\n            v-model=\"modelForm.memory\"\r\n            placeholder=\"保存上下文记忆的轮次\"\r\n          >\r\n          </el-input-number>\r\n        </el-form-item>\r\n        <el-form-item label=\"torch_dtype\" label-width=\"120px\" prop=\"torch_dtype\" v-if=\"selectedModel.type ==='hf'\">\r\n          <el-select\r\n            v-model=\"modelForm.torch_dtype\"\r\n            placeholder=\"模型数据类型\"\r\n          >\r\n            <el-option value=\"auto\">auto</el-option>\r\n            <el-option value=\"bfloat16\">bfloat16</el-option>\r\n            <el-option value=\"float32\">float32</el-option>\r\n            <el-option value=\"float16\">float16</el-option>\r\n            <el-option value=\"int16\">int16</el-option>\r\n            <el-option value=\"int8\">int8</el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"流式输出\" label-width=\"120px\" prop=\"stream\">\r\n          <el-switch v-model=\"modelForm.stream\"></el-switch>\r\n          <i style=\"color: #909399;\">\r\n            大模型流式输出即文本逐字实时生成显示，如果不开启则需要等待模型完成推理后才能响应</i>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"exec('modelForm')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {copy, getRequestBodyJson} from '@/common/common'\r\nimport apis from \"../../common/apis\";\r\nimport {endLoading, startLoading} from \"../../common/common\";\r\n\r\nexport default {\r\n  name: 'watch',\r\n  data() {\r\n    return {\r\n      showDialog: false,\r\n      modelForm: {\r\n        modelId: '',\r\n        fileId: '',\r\n        ngl: 99,\r\n        threads: -1,\r\n        ctxSize: 4096,\r\n        temperature: 0.8,\r\n        top_p: 0.90,\r\n        top_k: 40,\r\n        memory: 5,\r\n        stream: true,\r\n        torch_dtype: \"auto\"\r\n      },\r\n      selectedModel: {},\r\n      modelList: [],\r\n      fileList: [],\r\n      rules: {\r\n        modelId: [\r\n          {required: true, message: '请输入模型名称', trigger: 'blur'}\r\n        ],\r\n        stream: [\r\n          {required: true, message: '请确认是否开启流式输出', trigger: 'blur'}\r\n        ],\r\n        temperature: [\r\n          {pattern: /^(0(\\.\\d+)?|1(\\.0+)?)$/, message: '请输入0.1-1.0之间的小数', trigger: 'blur'}\r\n        ],\r\n        top_k: [\r\n          {pattern: /[1-9]\\d*/, message: '请输入数字', trigger: 'blur'}\r\n        ],\r\n        top_p: [\r\n          {pattern: /^(0(\\.\\d+)?|1(\\.0+)?)$/, message: '请输入0.1-1.0之间的小数', trigger: 'blur'}\r\n        ],\r\n      },\r\n      formInline: {\r\n        search: ''\r\n      },\r\n      tableData: [],\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      pageSizes: [10, 20, 50],\r\n    }\r\n  },\r\n  created() {\r\n    this.getModelList()\r\n    this.getTableData()\r\n  },\r\n  methods: {\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize\r\n      this.getTableData()\r\n    },\r\n    handleCurrentChange(current) {\r\n      this.currentPage = current\r\n      this.getTableData()\r\n    },\r\n    chat(row, index) {\r\n      this.$router.push({\r\n        path: '/ai/chat',\r\n        query: {\r\n          modelId: row.model_id,\r\n          modelName: row.model_name,\r\n          modelType: row.model_type,\r\n          reasoningArgs: row.reasoning_args,\r\n         }\r\n      })\r\n    },\r\n    stop(row, index) {\r\n      apis.stopRunningModel(row.id).then(res => {\r\n        if (res === \"success\") {\r\n          this.$message.success(row.model_name + '已停止')\r\n        }\r\n        this.getTableData()\r\n      }).catch(e => {\r\n        this.$message.error(e)\r\n      })\r\n    },\r\n    async modelChange(modelId) {\r\n      await this.getModel(modelId)\r\n      if (this.selectedModel.type === 'gguf') {\r\n        this.getFileList(modelId);\r\n      }\r\n    },\r\n    resetDialog() {\r\n      this.showDialog = false\r\n      this.modelForm = {\r\n        modelId: '',\r\n        fileId: '',\r\n        ngl: 99,\r\n        threads: -1,\r\n        ctxSize: 4096,\r\n        temperature: '0.8',\r\n        top_p: 0.90,\r\n        top_k: 40,\r\n        memory: 5,\r\n        stream: true\r\n      }\r\n      this.selectedModel = {}\r\n      this.getTableData()\r\n    },\r\n    addNew() {\r\n      this.showDialog = true\r\n    },\r\n    exec(form) {\r\n      this.$refs[form].validate((valid) => {\r\n        if (valid) {\r\n          if (this.selectedModel.type === 'gguf') {\r\n            if (!this.modelForm.fileId || this.modelForm.fileId.length == 0) {\r\n              this.$message.error('gguf模型需要选择模型文件')\r\n              return false;\r\n            }\r\n          }\r\n          const loading = startLoading()\r\n          apis.runModel(this.modelForm).then(res => {\r\n            endLoading(loading)\r\n            if (res) {\r\n              this.$message.success('运行成功')\r\n              this.showDialog = false\r\n            }\r\n          }).catch(e => {\r\n            endLoading(loading)\r\n            this.$message.error(e)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    getTableData() {\r\n      const loading = startLoading()\r\n      apis.listRunningModel({\r\n        page: this.currentPage,\r\n        limit: this.pageSize,\r\n        search: this.formInline.search\r\n      }).then(res => {\r\n        endLoading(loading)\r\n        const data = JSON.parse(res)\r\n        this.tableData = data.record\r\n        this.total = data.total\r\n      }).catch(e => {\r\n        endLoading(loading)\r\n        this.$message.error(e)\r\n      });\r\n    },\r\n    async getModel(modelId) {\r\n      await apis.getModel(modelId).then(res => {\r\n        this.selectedModel = JSON.parse(res)\r\n      }).catch(e => {\r\n        this.$message.error(e);\r\n      })\r\n    },\r\n    getModelList() {\r\n      apis.modelList(1, 9999).then(res => {\r\n        const data = JSON.parse(res)\r\n        this.modelList = data.record\r\n      }).catch(e => {\r\n        this.$message.error(e);\r\n      })\r\n    },\r\n    getFileList(modelId) {\r\n      apis.fileList({modelId: modelId, ggufOnly: true}).then(res => {\r\n        this.fileList = JSON.parse(res)\r\n      }).catch(e => {\r\n        this.$message.error(e)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.logDialog {\r\n  white-space: pre-line;\r\n  overflow-y: auto;\r\n  height: 60vh\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./watch.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./watch.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./watch.vue?vue&type=template&id=1b5df55c\"\nimport script from \"./watch.vue?vue&type=script&lang=js\"\nexport * from \"./watch.vue?vue&type=script&lang=js\"\nimport style0 from \"./watch.vue?vue&type=style&index=0&id=1b5df55c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar call = require('../internals/function-call');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, SEARCH);\n      return searcher ? call(searcher, regexp, O) : new RegExp(regexp)[SEARCH](toString(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeSearch, rx, S);\n\n      if (res.done) return res.value;\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n"],"sourceRoot":""}