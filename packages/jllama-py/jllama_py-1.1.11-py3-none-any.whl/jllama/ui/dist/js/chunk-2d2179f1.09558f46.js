(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2179f1"],{c806:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[e._v("AI推理")]),t("el-breadcrumb-item",[e._v("本地部署")])],1),t("el-card",[t("el-collapse",{attrs:{accordion:""},on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[t("el-collapse-item",{attrs:{title:"部署配置",name:"1"}},[t("el-link",{attrs:{type:"primary",href:"https://llama-cpp-python.readthedocs.io/en/latest/server",target:"_blank"}},[e._v("配置参考")]),e.loading?t("div",[e._v("加载中...")]):t("CodeHighlight",{ref:"codeHighlight",attrs:{"show-edit-sys":!0,code:e.config.code,"file-path":e.config.filePath,language:e.config.language,showHeader:!0,maxHeight:e.isFullscreen?"none":"500px"},on:{save:e.onSave,change:e.onChange}})],1),t("el-collapse-item",{attrs:{title:"执行部署",name:"2"}},[t("div",[e._v("服务端口: "),t("el-tag",[e._v(e._s(e.llamaServer.server_port))]),e._v(" 服务状态: "),t("el-tag",{attrs:{type:"running"===e.llamaServer.server_status?"success":"danger"}},[e._v(e._s(e.llamaServer.server_status)+" ")])],1),t("div",{staticStyle:{margin:"10px 0"}},[t("el-button",{attrs:{type:"primary",size:"mini"},domProps:{textContent:e._s("running"===e.llamaServer.server_status?"停止服务":"启动服务")},on:{click:e.startOrStopServer}}),t("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-refresh"},on:{click:e.getLLamaServerInfo}},[e._v("刷新 ")])],1)])],1)],1)],1)},r=[],o=a("6226"),i=a("4989"),s=a("ff51"),c={name:"deploy",components:{CodeHighlight:o["a"]},data:function(){return{activeNames:["1"],deployType:"llama.cpp",deployTypeList:["llama.cpp"],isFullscreen:!1,loading:!0,llamaServer:{},config:{code:"",language:"json",filePath:""}}},mounted:function(){this.getLlamaCppConfig(),this.getLLamaServerInfo()},methods:{startOrStopServer:function(){var e=this;if("running"!==this.llamaServer.server_status){var t=Object(s["e"])("启动中...");i["a"].startLLamaServer().then((function(a){Object(s["b"])(t),e.getLLamaServerInfo()})).catch((function(t){e.$message.error(t)}))}else{var a=Object(s["e"])("停止中...");i["a"].stopLLamaServer().then((function(t){Object(s["b"])(a),e.getLLamaServerInfo()})).catch((function(t){e.$message.error(t)}))}},getLLamaServerInfo:function(){var e=this;i["a"].getLLamaServerInfo().then((function(t){e.llamaServer=t})).catch((function(t){e.$message.error(t)}))},handleChange:function(e){console.log(e)},onSave:function(e){var t=this;i["a"].saveLlamaCppConfig(e).then((function(e){"success"===e&&t.$message.success("修改成功")})).catch((function(e){t.$message.error(e)}))},onChange:function(e){},getLlamaCppConfig:function(){var e=this;i["a"].getLlamaCppConfig().then((function(t){e.config.filePath=t.file_path,e.config.code=t.conf,e.config.language="json",e.loading=!1})).catch((function(t){e.$message.error(t)}))},getOriginCode:function(){var e=this.$refs.codeHighlight;return e.editedCode},getHtmlCode:function(){var e=this.$refs.codeHighlight;return e.formattedCode}}},l=c,g=a("2877"),f=Object(g["a"])(l,n,r,!1,null,"b40a0bc8",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d2179f1.09558f46.js.map