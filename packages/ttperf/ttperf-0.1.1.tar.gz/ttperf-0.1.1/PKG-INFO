Metadata-Version: 2.4
Name: ttperf
Version: 0.1.1
Summary: A streamlined CLI tool for profiling Tenstorrent's TT-Metal tests and extracting device kernel performance metrics
Author-email: Aswin Z <aswintechie@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/Aswintechie/ttperf
Project-URL: Repository, https://github.com/Aswintechie/ttperf
Project-URL: Issues, https://github.com/Aswintechie/ttperf/issues
Project-URL: Documentation, https://github.com/Aswintechie/ttperf/blob/master/README.md
Keywords: tenstorrent,tt-metal,profiling,performance,cli
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Software Development :: Testing
Classifier: Topic :: System :: Benchmark
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pandas>=1.3.0
Dynamic: license-file

# ğŸš€ ttperf - TT-Metal Performance Profiler

<div align="center">

![Python](https://img.shields.io/badge/python-3.8+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Version](https://img.shields.io/badge/version-0.1.1-orange.svg)
[![GitHub issues](https://img.shields.io/github/issues/Aswintechie/ttperf)](https://github.com/Aswintechie/ttperf/issues)
[![GitHub stars](https://img.shields.io/github/stars/Aswintechie/ttperf)](https://github.com/Aswintechie/ttperf/stargazers)

**A streamlined CLI tool for profiling Tenstorrent's TT-Metal tests and extracting device kernel performance metrics**

</div>

## âœ¨ Features

- ğŸ” **Automated Profiling**: Seamlessly runs Tenstorrent's TT-Metal profiler with pytest
- ğŸ“Š **CSV Analysis**: Automatically extracts and parses performance CSV files
- âš¡ **Real-time Output**: Shows profiling progress in real-time
- ğŸ“ˆ **Performance Metrics**: Calculates total DEVICE KERNEL DURATION
- ğŸ¯ **Simple CLI**: Easy-to-use command-line interface
- ğŸ› ï¸ **Flexible**: Supports named profiles and various test paths

## ğŸš€ Quick Start

### Installation

```bash
# Install from PyPI (recommended)
pip install ttperf
```

**Or install from source:**

```bash
# Clone the repository
git clone https://github.com/Aswintechie/ttperf.git
cd ttperf

# Install the package
pip install -e .
```

### Basic Usage

```bash
# Run profiling on a specific test
ttperf test_performance.py

# Run with a custom profile name
ttperf my_profile pytest test_performance.py

# Run on a specific test method
ttperf tests/test_ops.py::test_matmul
```

## ğŸ“‹ Usage Examples

### Simple Test Profiling
```bash
ttperf test_conv.py
```

### Named Profile
```bash
ttperf conv_benchmark pytest test_conv.py
```

### Specific Test Method
```bash
ttperf tests/ops/test_matmul.py::test_basic_matmul
```

### Output Example
```
â–¶ï¸ Running: ./tt_metal/tools/profiler/profile_this.py -n conv_benchmark -c "pytest test_conv.py"

... (profiling output) ...

ğŸ“ Found CSV path: /path/to/profile_results.csv
â±ï¸ DEVICE KERNEL DURATION [ns] total: 1234567.89 ns
```

## ğŸ› ï¸ How It Works

1. **Command Parsing**: Analyzes input arguments to determine profile name and test path
2. **Profile Execution**: Runs the Tenstorrent's TT-Metal profiler with the specified test
3. **Output Monitoring**: Streams profiling output in real-time
4. **CSV Extraction**: Parses the output to find the generated CSV file path
5. **Performance Analysis**: Reads the CSV and calculates total device kernel duration

## ğŸ“Š Performance Metrics

The tool extracts the following key metrics:

- **DEVICE KERNEL DURATION [ns]**: Total time spent in device kernels
- **CSV Path**: Location of the detailed profiling results
- **Real-time Progress**: Live output during profiling

## ğŸ”§ Requirements

- Python 3.8+
- pandas
- Tenstorrent's TT-Metal development environment
- pytest

## ğŸ“ Project Structure

```
ttperf/
â”œâ”€â”€ ttperf.py          # Main CLI implementation
â”œâ”€â”€ pyproject.toml     # Project configuration
â”œâ”€â”€ README.md          # This file
â””â”€â”€ .gitignore         # Git ignore rules
```

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## âš ï¸ Disclaimer

This tool is an independent utility that interfaces with Tenstorrent's TT-Metal profiling tools. It is not affiliated with or endorsed by Tenstorrent Inc. The tool serves as a convenience wrapper around existing TT-Metal profiling infrastructure.

## ğŸ› Issues

If you encounter any issues, please [create an issue](https://github.com/Aswintechie/ttperf/issues) on GitHub.

## ğŸ‘¨â€ğŸ’» Author

**Aswin Z**
- GitHub: [@Aswintechie](https://github.com/Aswintechie)
- Portfolio: [aswinlocal.in](https://aswinlocal.in)

## ğŸŒŸ Acknowledgments

- Tenstorrent's TT-Metal development team for the profiling tools
- Python community for excellent libraries like pandas

---

<div align="center">
Made with â¤ï¸ for the Tenstorrent TT-Metal community
</div> 
