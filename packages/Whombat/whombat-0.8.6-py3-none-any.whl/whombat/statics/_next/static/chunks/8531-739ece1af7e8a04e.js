"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8531],{44953:function(e,n,t){t.d(n,{Z:function(){return Z}});var l=t(57437),s=t(2265),a=t(29328),r=t(65134),i=t(36760),o=t.n(i),c=t(57588),d=t(63937),u=t(70935),m=t(682),x=t(13632),f=t(73426),h=t(43558),p=t(70772),j=t(31476),v=t(75004),g=t(55047),b=t(85754);function k(e){let{}=e;return(0,l.jsx)("div",{className:"p-2",children:"No results"})}function N(e){let{label:n,value:t,options:a,fields:r,isLoading:i=!1,getOptionKey:o,displayValue:u,showMax:m=10,delay:x=300,emptyMessage:f=k,onSelect:h,onChangeSearch:N,children:w}=e,{search:Z,items:S,setSearch:F}=(0,b.Z)({options:a,fields:r,limit:m}),O=(0,s.useCallback)(e=>{let n=a.find(n=>o(n)===e);n&&(null==h||h(n),F(u(n)))},[a,o,h,F,u]),R=(0,s.useMemo)(()=>({label:n,shouldCloseOnBlur:!0,allowsEmptyCollection:!0,items:S,inputValue:Z,selectedKey:t?o(t):null,onInputChange:e=>F(e),onSelectionChange:O,children:w}),[n,S,Z,F,t,o,O,w]),T=(0,p.P)(R),P=(0,s.useRef)(null),D=(0,s.useRef)(null),E=(0,s.useRef)(null),{inputProps:M,listBoxProps:V,labelProps:I}=(0,c.E)({...R,inputRef:P,listBoxRef:D,popoverRef:E},T);return(0,s.useEffect)(()=>{let e=setTimeout(()=>null==N?void 0:N(Z),x);return()=>clearTimeout(e)},[Z,x,N]),(0,l.jsxs)("div",{className:"flex items-center w-full",children:[(0,l.jsx)(d.T,{children:(0,l.jsx)("label",{...I,children:n})}),(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 w-8 pointer-events-none",children:i?(0,l.jsx)(g.Z,{}):(0,l.jsx)(j.W1,{})}),(0,l.jsx)(v.II,{...M,className:"pl-10 text-sm 5",ref:P})]}),T.isOpen&&(0,l.jsx)(C,{state:T,triggerRef:P,popoverRef:E,isNonModal:!0,placement:"bottom start",offset:8,children:(0,l.jsx)(y,{...V,listBoxRef:D,state:T,emptyMessage:f})})]})}function y(e){let{state:n,listBoxRef:t,emptyMessage:s=k,...a}=e,{listBoxProps:r}=(0,u.c)(a,n,t);return(0,l.jsx)("div",{className:"w-full bg-stone-300 dark:bg-stone-700 rounded-md p-1",children:(0,l.jsx)("ul",{...r,ref:t,className:"flex flex-col gap-1",children:0===n.collection.size?s({state:n}):Array.from(n.collection).map(e=>(0,l.jsx)(w,{item:e,state:n},e.key))})})}function w(e){let{item:n,state:t}=e,a=(0,s.useRef)(null),{optionProps:r,isSelected:i,isFocused:c,isDisabled:d}=(0,m.F)({key:n.key},t,a);return(0,l.jsx)("li",{...r,className:o()("rounded-md p-2 cursor-pointer text-sm",{"bg-stone-400 dark:bg-stone-600":i,"bg-stone-200 dark:bg-stone-800":c,"text-gray-500":d}),ref:a,children:n.rendered})}function C(e){var n;let{children:t,state:s,...a}=e,{popoverProps:r}=(0,x.S)(a,s),{triggerRef:i}=a;return(0,l.jsx)(f.aV,{children:(0,l.jsxs)("div",{...r,style:{width:null===(n=i.current)||void 0===n?void 0:n.clientWidth,...r.style},ref:a.popoverRef,children:[t,(0,l.jsx)(h.U,{onDismiss:s.close})]})})}function Z(e){let{selected:n,onSelect:t,showMax:i=10}=e,o=(0,s.useMemo)(()=>({search:""}),[]),{isLoading:c,items:d,filter:{set:u}}=(0,r.Z)({pageSize:4*i,filter:o}),m=(0,s.useCallback)(e=>u("search",e),[u]);return(0,l.jsx)(N,{label:"search-datasets",value:n,options:d,fields:["name","description"],displayValue:e=>e.name,getOptionKey:e=>e.uuid,onChangeSearch:m,onSelect:t,showMax:i,isLoading:c,children:e=>(0,l.jsx)(a.c,{children:e.name},e.uuid)})}},65134:function(e,n,t){t.d(n,{Z:function(){return d}});var l=t(21770),s=t(69064),a=t(23857),r=t(45906),i=t(26596);let o={},c=[];function d(){let{filter:e=o,fixed:n=c,pageSize:t=10,enabled:d=!0,onCreateDataset:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=(0,r.Z)({defaults:e,fixed:n}),{query:x,pagination:f,items:h,total:p}=(0,i.Z)({name:"datasets",queryFn:a.Z.datasets.getMany,pageSize:t,filter:m.filter,enabled:d}),j=(0,l.D)({mutationFn:a.Z.datasets.create,onSuccess:e=>{s.ZP.success("Dataset ".concat(e.name," created")),null==u||u(e),x.refetch()}});return{...x,filter:m,pagination:f,items:h,total:p,create:j}}},29237:function(e,n,t){t.d(n,{V:function(){return r},Z:function(){return a}});var l=t(57437),s=t(31476);function a(e){let{field:n,operation:t,value:a,onRemove:r}=e;return(0,l.jsxs)("span",{className:"inline-flex items-center whitespace-nowrap rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-600 ring-1 ring-inset ring-blue-500/10 gap-1",children:[(0,l.jsx)("span",{className:"align-middle h-full font-bold",children:n}),(0,l.jsx)("span",{children:t}),(0,l.jsx)("span",{children:a}),(0,l.jsx)("button",{className:"ml-1 hover:bg-blue-200 rounded p-1",onClick:()=>{null==r||r()},children:(0,l.jsx)(s.Tw,{className:"h-3 w-3"})})]})}function r(e){let{field:n,value:t,onRemove:s}=e,{lt:r,gt:i}=t,o="",c="";return r?(o="<",c=r.toString()):i&&(o=">",c=i.toString()),(0,l.jsx)(a,{field:n,operation:o,value:c,onRemove:s})}},78155:function(e,n,t){t.d(n,{Z:function(){return i}});var l=t(57437),s=t(2265),a=t(31476);let r={};function i(e){let{filter:n=r,fixedFilterFields:t,filterDef:i,total:o,showIfEmpty:c=!1,withLabel:d=!0,onClearFilterField:u}=e,m=Object.keys(n).filter(e=>!(e in(t||[]))).length,x=(0,s.useMemo)(()=>{let e={};for(let n of i)e[n.field]=n;return e},[i]);return 0!==m||c?(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[null!=o&&(0,l.jsxs)("span",{className:"mr-3 text-stone-500",children:[o," results"]}),(0,l.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[d&&(0,l.jsxs)("span",{className:"mr-2 text-blue-200",children:[(0,l.jsx)(a.k1,{className:"inline-block mr-1 w-5 h-5"}),"filters:"]}),Object.entries(n).filter(e=>{let[n,l]=e;return!(n in(t||[]))}).filter(e=>{let[n,t]=e;return n in x}).map(e=>{let[n,t]=e,s=x[n];return(0,l.jsx)("div",{children:s.render({value:t,clear:()=>null==u?void 0:u(n)})},n)})]})]}):null}},47973:function(e,n,t){t.d(n,{Z:function(){return m}});var l=t(57437),s=t(97051),a=t(62756),r=t(2265),i=t(31476),o=t(41896),c=t(80207);function d(e){let{filterDefs:n,onChange:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-2 underline text-stone-700 underline-offset-2 decoration-amber-500 decoration-2 dark:text-stone-300",children:"Apply Filter"}),(0,l.jsx)(o.Z,{options:n,static:!1,renderOption:e=>{var n;return(0,l.jsxs)(l.Fragment,{children:[null!==(n=e.icon)&&void 0!==n?n:e.icon,e.name]})},limit:5,fields:["name","prefix"],getOptionKey:e=>e.name,onSelect:t,empty:(0,l.jsx)("div",{className:"w-full text-center text-stone-500",children:"No filters found"}),autoFocus:!0})]})}function u(e){let{filterDefs:n,onSetFilterField:t}=e,[s,a]=(0,r.useState)(null);return null==s?(0,l.jsx)(d,{filterDefs:n,onChange:e=>a(e)}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-row justify-between items-center mb-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"mr-2 text-stone-500",children:"Filter by"}),(0,l.jsx)("span",{className:"underline text-stone-700 underline-offset-2 decoration-amber-500 decoration-2 dark:text-stone-300",children:s.name})]}),(0,l.jsx)(c.Z,{mode:"text",variant:"warning",onClick:()=>a(null),children:(0,l.jsx)(i.xC,{className:"w-5 h-5 group-hover:stroke-3"})})]}),null!=s.description?(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("span",{className:"text-sm text-stone-600 dark:text-stone-400",children:s.description})}):null,(0,l.jsx)("div",{className:"flex flex-row space-x-2",children:s.selector({setFilter:(e,n)=>{null==t||t(e,n),a(null)}})})]})}function m(e){let{filterDef:n,button:t,mode:r="filled",variant:o="primary",className:d,onSetFilterField:m}=e;return null==d&&(d=(0,c.y)({mode:r,variant:o})),(0,l.jsx)(a.J,{as:"div",className:"inline-block relative text-left",children:(0,l.jsxs)(s.bv,{autoPlacement:!0,portal:!0,offset:4,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:[(0,l.jsx)(a.J.Button,{className:d,children:null!=t?t:(0,l.jsx)(i.k1,{className:"w-4 h-4 stroke-2"})}),(0,l.jsx)(a.J.Panel,{unmount:!0,className:"z-50 w-96 rounded-md border divide-y ring-1 ring-opacity-5 shadow-md focus:outline-none divide-stone-100 bg-stone-50 border-stone-200 ring-stone-900 dark:bg-stone-700 dark:border-stone-500 dark:shadow-stone-800",children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)(u,{onSetFilterField:m,filterDefs:n})})})]})})}},39056:function(e,n,t){t.d(n,{D3:function(){return h},P9:function(){return m},Z:function(){return p},f3:function(){return x},vN:function(){return f}});var l=t(57437),s=t(2265),a=t(44953),r=t(31476),i=t(56651),o=t(4987),c=t(80207);function d(e){let{operation:n,onChangeOperation:t,value:s,name:a,onChangeValue:r,onSubmit:i}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:a,className:"block mb-2 text-sm font-medium leading-6 text-gray-700 dark:text-stone-300",children:a}),(0,l.jsxs)("div",{className:"relative rounded-md",children:[(0,l.jsxs)("div",{className:"flex absolute inset-y-0 left-0 items-center",children:[(0,l.jsx)("label",{htmlFor:"".concat(a,"-operation"),className:"sr-only",children:"Operation"}),(0,l.jsxs)("select",{className:"pr-3 pl-2 h-full bg-transparent rounded-l-md border-0 focus:ring-2 focus:ring-inset focus:ring-emerald-600 text-stone-500",id:"".concat(a,"-operation"),name:"".concat(a,"-operation"),value:n,onChange:e=>t(e.target.value),children:[(0,l.jsx)("option",{value:"gt",children:">"}),(0,l.jsx)("option",{value:"lt",children:"<"})]})]}),(0,l.jsx)("input",{type:"number",id:a,name:a,className:"block py-1 pr-14 pl-14 w-full rounded-md border-0 ring-1 ring-inset outline-none sm:text-sm sm:leading-6 focus:ring-2 focus:ring-inset focus:ring-emerald-600 bg-stone-50 text-stone-900 ring-stone-300 placeholder:text-stone-400 dark:bg-stone-900 dark:text-stone-300 dark:ring-stone-800",value:s,onKeyDown:e=>{"Enter"===e.key&&i()},onChange:e=>r(parseFloat(e.target.value))}),(0,l.jsx)("button",{onClick:i,className:"inline-block absolute inset-y-0 right-0 px-2 text-emerald-700 bg-emerald-300 rounded-r-md dark:text-emerald-300 dark:bg-emerald-700 dark:hover:bg-emerald-800 dark:hover:text-emerald-400",children:"set"})]})]})}function u(e){let{name:n,value:t,onChange:s,onSubmit:a}=e;return(0,l.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,l.jsx)("label",{htmlFor:"".concat(n,"-isnull"),className:"text-sm font-medium text-stone-700 dark:text-stone-300",children:"Is null?"}),(0,l.jsx)(i.Z,{id:"".concat(n,"-isnull"),className:"text-emerald-500 rounded shadow-sm dark:text-emerald-500 focus:ring focus:ring-emerald-300 focus:ring-opacity-50 focus:ring-offset-0 form-checkbox",checked:!0===t,indeterminate:!1===t,onChange:()=>{null===t?s(!1):!1===t?s(!0):s(null)}}),(0,l.jsx)("span",{className:"text-stone-500",children:null===t?"not set":t?"is null":"is not null"}),(0,l.jsx)("button",{onClick:a,disabled:null===t,className:"absolute right-0 py-1 px-2 text-emerald-700 bg-emerald-300 rounded-md dark:text-emerald-300 dark:bg-emerald-700 disabled:text-emerald-600 disabled:bg-emerald-300 dark:hover:bg-emerald-800 dark:hover:text-emerald-400 dark:disabled:bg-emerald-900 dark:disabled:text-emerald-600",children:"set"})]})}function m(e){let{name:n="field",onChange:t}=e,[a,r]=(0,s.useState)(0),[i,o]=(0,s.useState)("gt"),c=(0,s.useCallback)(()=>{t({[i]:a})},[t,i,a]);return(0,l.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,l.jsx)(d,{name:n,value:a,onChangeValue:r,operation:i,onChangeOperation:o,onSubmit:c})})}function x(e){let{name:n,onChange:t}=e,[a,r]=(0,s.useState)(0),[i,o]=(0,s.useState)("gt"),[c,m]=(0,s.useState)(null),x=(0,s.useCallback)(()=>{t({is_null:c||void 0,[i]:a})},[t,c,i,a]);return(0,l.jsxs)("div",{className:"flex relative flex-col gap-4 w-full",children:[(0,l.jsx)(d,{name:n,value:a,onChangeValue:r,operation:i,onChangeOperation:o,onSubmit:x}),(0,l.jsx)(u,{name:"is_null",value:c,onChange:m,onSubmit:x})]})}function f(e){let{onChange:n}=e;return(0,l.jsxs)("div",{className:"flex flex-row gap-2 justify-center w-full",children:[(0,l.jsxs)(c.Z,{mode:"text",variant:"primary",onClick:()=>n(!0),children:[(0,l.jsx)(r.nQ,{className:"mr-1 w-5 h-5 group-hover:stroke-3"}),"Yes"]}),(0,l.jsxs)(c.Z,{mode:"text",variant:"danger",onClick:()=>n(!1),children:[(0,l.jsx)(r.Tw,{className:"mr-1 w-5 h-5 group-hover:stroke-3"}),"No"]})]})}function h(e){let{onChange:n}=e;return(0,l.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,l.jsx)(o.Z,{onSelectTag:e=>n(e)})})}function p(e){let{onChange:n}=e;return(0,l.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,l.jsx)(a.Z,{onSelect:e=>n(e)})})}},26399:function(e,n,t){var l=t(57437),s=t(29237),a=t(39056),r=t(31476);let i=[{name:"Duration",field:"duration",selector:e=>{let{setFilter:n}=e;return(0,l.jsx)(a.P9,{name:"duration",onChange:e=>n("duration",e)})},render:e=>{let{value:n,clear:t}=e;return(0,l.jsx)(s.V,{field:"Duration",value:n,onRemove:t})},description:"Select recordings by duration. Duration is in seconds.",icon:(0,l.jsx)(r.wZ,{className:"inline-block mr-1 w-5 h-5 align-middle text-stone-500"})},{name:"Sample Rate",field:"samplerate",render:e=>{let{value:n,clear:t}=e;return(0,l.jsx)(s.V,{field:"Sample Rate",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,l.jsx)(a.P9,{onChange:e=>n("samplerate",e)})},icon:(0,l.jsx)(r.Dd,{className:"inline-block mr-1 w-5 h-5 align-middle text-stone-500"})},{name:"Channels",field:"channels",render:e=>{let{value:n,clear:t}=e;return(0,l.jsx)(s.V,{field:"Channels",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,l.jsx)(a.P9,{onChange:e=>n("channels",e)})},icon:(0,l.jsx)(r.QE,{className:"inline-block mr-1 w-5 h-5 align-middle text-stone-500"})},{field:"time_expansion",name:"Time Expansion",render:e=>{let{value:n,clear:t}=e;return(0,l.jsx)(s.V,{field:"Time Expansion",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,l.jsx)(a.P9,{onChange:e=>n("time_expansion",e)})},icon:(0,l.jsx)(r.i5,{className:"inline-block mr-1 w-5 h-5 align-middle text-stone-500"})},{field:"latitude",name:"Latitude",render:e=>{let{value:n,clear:t}=e;return(0,l.jsx)(s.V,{field:"Latitude",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,l.jsx)(a.f3,{name:"latitude",onChange:e=>n("latitude",e)})},icon:(0,l.jsx)(r.cX,{className:"inline-block mr-1 w-5 h-5 align-middle text-stone-500"})},{field:"longitude",name:"Longitude",render:e=>{let{value:n,clear:t}=e;return(0,l.jsx)(s.V,{field:"Longitude",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,l.jsx)(a.f3,{name:"longitude",onChange:e=>n("longitude",e)})},icon:(0,l.jsx)(r.nU,{className:"inline-block mr-1 w-5 h-5 align-middle text-stone-500"})},{field:"tag",name:"Has Tag",render:e=>{let{value:n,clear:t}=e;return(0,l.jsx)(s.Z,{field:"Tag",value:"".concat(n.key,": ").concat(n.value),onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,l.jsx)(a.D3,{onChange:e=>n("tag",e)})},icon:(0,l.jsx)(r.lO,{className:"inline-block mr-1 w-5 h-5 align-middle text-stone-500"})},{field:"has_issues",name:"Has Issues",render:e=>{let{value:n,clear:t}=e;return(0,l.jsx)(s.Z,{field:"Has Issues",value:n?"Yes":"No",onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,l.jsx)(a.vN,{onChange:e=>n("has_issues",e)})},icon:(0,l.jsx)(r.uN,{className:"inline-block mr-1 w-5 h-5 align-middle text-stone-500"})}];n.Z=i},21255:function(e,n,t){t.d(n,{Z:function(){return m}});var l=t(57437),s=t(2265),a=t(45652),r=t(63937),i=t(63685),o=t(31476),c=t(80207),d=t(55047),u=t(14957);function m(e){let{label:n="Search",placeholder:t="Search...",isLoading:m=!1,icon:x,...f}=e,h=(0,i.c)({label:n,...f}),p=(0,s.useRef)(null),{labelProps:j,inputProps:v,clearButtonProps:g}=(0,a.t)({label:n,...f},h,p);return(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(r.T,{children:(0,l.jsx)("label",{...j,children:n})}),(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 w-8 pointer-events-none",children:m?(0,l.jsx)(d.Z,{}):x||(0,l.jsx)(o.W1,{})}),(0,l.jsx)(u.Z,{className:"pl-10 text-sm 5",ref:p,...v}),""!==h.value&&(0,l.jsxs)(c.Z,{variant:"primary",mode:"text",className:"flex absolute inset-y-0 right-0 items-center ml-2",onClick:g.onPress,children:[(0,l.jsx)(o.Tw,{className:"w-4 h-4"}),(0,l.jsx)("span",{className:"sr-only",children:n})]})]})]})}},41896:function(e,n,t){t.d(n,{Z:function(){return d}});var l=t(57437),s=t(97051),a=t(75097),r=t(53916),i=t(2265),o=t(21255),c=t(80207);function d(e){let{value:n,options:t,onSelect:c,renderOption:d,fields:u,getOptionKey:x=(e,n)=>n,limit:f=5,autoFocus:h=!1,static:p=!0,displayValue:j,onChange:v,initialQuery:g="",as:b=o.Z,empty:k}=e,[N,y]=(0,i.useState)(f),[w,C]=(0,i.useState)(g);(0,i.useEffect)(()=>null==v?void 0:v(w),[w,v]);let Z=(0,i.useMemo)(()=>new r.Z(t,{keys:u,threshold:.3}),[t,u]),S=(0,i.useMemo)(()=>w?Z.search(w,{limit:N}).map(e=>e.item):t.slice(0,N),[w,Z,t,N]),F="w-full rounded-md border bg-stone-50 dark:bg-stone-700 border-stone-200 dark:border-stone-600 py-2 px-1 overflow-auto shadow-lg focus:outline-none";return p?(0,l.jsx)(a.h,{value:n,onChange:c,children:e=>{let{value:n,open:s}=e;return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a.h.Input,{as:b,autoFocus:h,value:s||null==n?void 0:null==j?void 0:j(n),onChange:e=>C(e)}),(0,l.jsx)(a.h.Options,{static:p,className:"absolute mt-1 ".concat(F),children:(0,l.jsx)(m,{options:S,total:t.length,limit:N,initialLimit:f,renderOption:d,getOptionKey:x,setLimit:y,empty:k})})]})}}):(0,l.jsx)("div",{className:"flex flex-row w-full",children:(0,l.jsx)(a.h,{value:n,onChange:c,children:(0,l.jsxs)(s.bv,{offset:8,as:"div",className:"relative w-full",enter:"transition duration-200 ease-out",enterFrom:"scale-95 opacity-0",enterTo:"scale-100 opacity-100",leave:"transition duration-150 ease-in",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-95 opacity-0",placement:"bottom",autoPlacement:!0,floatingAs:i.Fragment,children:[(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(a.h.Input,{as:b,autoFocus:h,value:null!=n?null==j?void 0:j(n):void 0,onChange:e=>C(e)})}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(a.h.Options,{className:"".concat(F),children:(0,l.jsx)(m,{options:S,total:t.length,limit:N,initialLimit:f,renderOption:d,getOptionKey:x,setLimit:y,empty:k})})})]})})})}function u(e){let{option:n,renderOption:t}=e;return(0,l.jsx)(a.h.Option,{className:e=>{let{active:n}=e;return"relative cursor-default select-none p-2 rounded-md ".concat(n?"bg-stone-200 dark:bg-stone-800 text-emerald-600 dark:text-emerald-500":"")},value:n,children:t(n)})}function m(e){let{options:n,total:t,limit:s,initialLimit:a,empty:r="No options found",renderOption:i,getOptionKey:o,setLimit:d}=e;return(0,l.jsxs)(l.Fragment,{children:[n.map((e,n)=>(0,l.jsx)(u,{option:e,renderOption:i},o(e,n))),n.length==s&&t>n.length?(0,l.jsx)(c.Z,{mode:"text",className:"w-full cursor-default",onClick:()=>d(t),children:(0,l.jsxs)("div",{className:"flex flex-row w-full justify-between items-center text-stone-500",children:[(0,l.jsx)("span",{className:"flex-grow text-left",children:"Show all"}),(0,l.jsxs)("span",{children:[t-n.length," more"]})]})}):n.length>a?(0,l.jsx)(c.Z,{mode:"text",className:"w-full cursor-default",onClick:()=>d(a),children:(0,l.jsx)("div",{className:"flex flex-row w-full justify-between items-center text-stone-500",children:(0,l.jsx)("span",{className:"flex-grow text-left",children:"Show less"})})}):null,0==t&&(r||null)]})}},4987:function(e,n,t){var l=t(57437),s=t(97051),a=t(75097),r=t(39124),i=t(2265),o=t(75004),c=t(33857),d=t(80207),u=t(29379),m=t(65781);function x(e){let{children:n}=e;return(0,l.jsx)("div",{className:"py-1 text-stone-700 dark:text-stone-300",role:"none",children:n})}function f(e){let{tag:n,onCreateTag:t}=e;return null==n.key||null==n.value?(0,l.jsx)(x,{children:(0,l.jsxs)("div",{className:"relative py-2 px-4 cursor-default select-none",children:["To create a new tag, type the tag in the format"," ",(0,l.jsx)("code",{className:"text-emerald-500",children:"key:value"})," and press"," ",(0,l.jsx)(u.Z,{keys:["Shift","Enter"]})]})}):(0,l.jsx)(x,{children:(0,l.jsx)("div",{className:"relative py-2 px-4 cursor-default select-none",children:(0,l.jsxs)("span",{children:["Create the tag"," ",(0,l.jsx)(c.ZP,{disabled:!0,tag:{key:n.key,value:n.value},color:"emerald",level:3})," ","by pressing ",(0,l.jsx)(u.Z,{keys:["Shift","Enter"]})," or"," ",(0,l.jsx)(d.Z,{onClick:t,mode:"text",className:"inline-flex",padding:"p-1",children:"click here"})]})})})}function h(){return(0,l.jsx)(x,{children:(0,l.jsxs)("div",{className:"relative py-2 px-4 cursor-default select-none",children:["No tags found."," "]})})}let p=[],j=(0,i.forwardRef)(function(e,n){let{tags:t=p,tagColorFn:d=m.vm,canCreate:u=!0,onSelectTag:j,onChangeQuery:v,onKeyDown:g,onCreateTag:b,placement:k="bottom-start",...N}=e,[y,w]=(0,i.useState)({q:"",key:null,value:null}),C=(0,i.useCallback)(e=>{let n=e.target.value,[t,l]=n.split(":",2),s=null==l?{q:n,key:null,value:null}:{q:n,key:t,value:l};w(s),null==v||v(s)},[v]),Z=(0,i.useCallback)(e=>{"Enter"===e.key&&e.shiftKey&&u&&(e.preventDefault(),y.key&&y.value&&(null==b||b({key:y.key,value:y.value}))),null==g||g(e)},[g,u,b,y.key,y.value]);return(0,l.jsx)(a.h,{onChange:e=>null==j?void 0:j(e),children:(0,l.jsxs)(s.bv,{offset:8,enter:"transition duration-200 ease-out",enterFrom:"scale-95 opacity-0",enterTo:"scale-100 opacity-100",leave:"transition duration-150 ease-in",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-95 opacity-0",placement:k,autoPlacement:N.autoPlacement,portal:!0,children:[(0,l.jsxs)("div",{className:"relative w-full text-left cursor-default",children:[(0,l.jsx)(a.h.Input,{as:o.II,ref:n,autoFocus:N.autoFocus,onChange:C,onKeyDown:Z,...N}),(0,l.jsx)(a.h.Button,{className:"flex absolute inset-y-0 right-0 items-center pr-2",children:(0,l.jsx)(r.Z,{className:"w-5 h-5","aria-hidden":"true"})})]}),(0,l.jsxs)(a.h.Options,{className:"overflow-y-auto py-1 max-w-sm text-base rounded-md divide-y ring-1 ring-opacity-5 shadow-lg sm:text-sm focus:outline-none divide-stone-200 bg-stone-50 ring-stone-300 dark:divide-stone-600 dark:bg-stone-700 dark:ring-stone-600",children:[0===t.length?(0,l.jsx)(h,{}):(0,l.jsx)(x,{children:t.map(e=>(0,l.jsx)(a.h.Option,{className:e=>{let{active:n}=e;return"cursor-default py-2 pl-4 pr-2 ".concat(n?"bg-stone-200 dark:bg-stone-600":"")},value:e,children:(0,l.jsx)(c.ZP,{disabled:!0,className:"pointer-events-none",tag:e,...d(e)})},"".concat(e.key,":").concat(e.value)))}),u&&(0,l.jsx)(f,{tag:{key:y.key,value:y.value},onCreateTag:()=>{y.key&&y.value&&(null==b||b({key:y.key,value:y.value}))}})]})]})})});n.Z=j},85754:function(e,n,t){t.d(n,{Z:function(){return a}});var l=t(53916),s=t(2265);function a(e){let{options:n,fields:t,limit:a=20,...r}=e,[i,o]=(0,s.useState)(a),[c,d]=(0,s.useState)(""),u=(0,s.useMemo)(()=>new l.Z(n,{keys:t,threshold:.3,includeMatches:!1,includeScore:!1,...r}),[n,t,r]);return{items:(0,s.useMemo)(()=>""===c?n.slice(0,i):u.search(c,{limit:i}).map(e=>e.item),[c,u,n,i]),limit:i,search:c,setSearch:d,setLimit:o,hasMore:i<n.length}}}}]);