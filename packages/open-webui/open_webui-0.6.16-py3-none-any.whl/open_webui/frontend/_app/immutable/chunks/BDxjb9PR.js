import{s as ke,y as pe,A as _e,p as ye,j as Ie,X as Fe,e as v,t as J,k as X,c as h,a as p,b as K,d as m,o as q,f as c,i as me,g as a,u as ie,z as xe,h as Q,G as Ee,n as Ce,B as He}from"./BId-c6mR.js";import{S as Ve,i as De,f as ge,b as $,d as ee,m as te,t as z,a as A,e as se,g as be,c as we}from"./BuwtTo7z.js";import{t as fe}from"./C9Ej3FHW.js";import{M as Se}from"./CoVddHTh.js";import{b as Le,d as Xe,e as qe}from"./CVvSPLo9.js";import{b as Ae,d as Pe,e as We}from"./hyWypRgf.js";import{S as Te}from"./BxepmQZ9.js";import"./CS5v2Vts.js";import"./8Hnar5y7.js";import{V as Ye}from"./B7-9xiCJ.js";import{X as Ue}from"./PhEylauG.js";import{e as Ge}from"./BegY-nht.js";function Je(r){let e,t;return e=new Te({props:{className:"size-5"}}),{c(){$(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,n){te(e,l,n),t=!0},p:Ce,i(l){t||(z(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Ke(r){let e,t,l;function n(s){r[11](s)}let f={valvesSpec:r[3]};return r[4]!==void 0&&(f.valves=r[4]),e=new Ye({props:f}),pe.push(()=>ge(e,"valves",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,o){const i={};o&8&&(i.valvesSpec=s[3]),!t&&o&16&&(t=!0,i.valves=s[4],_e(()=>t=!1)),e.$set(i)},i(s){l||(z(e.$$.fragment,s),l=!0)},o(s){A(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function Re(r){let e,t,l;return t=new Te({}),{c(){e=v("div"),$(t.$$.fragment),this.h()},l(n){e=h(n,"DIV",{class:!0});var f=p(e);ee(t.$$.fragment,f),f.forEach(m),this.h()},h(){c(e,"class","ml-2 self-center")},m(n,f){me(n,e,f),te(t,e,null),l=!0},i(n){l||(z(t.$$.fragment,n),l=!0)},o(n){A(t.$$.fragment,n),l=!1},d(n){n&&m(e),se(t)}}}function Qe(r){let e,t,l,n=r[5].t("Valves")+"",f,s,o,i,B,_,g,u,y,I,D,R,b,w,d=r[5].t("Save")+"",E,N,P,O,U,W;i=new Ue({props:{className:"size-5"}});const G=[Ke,Je],L=[];function F(V,j){return V[2]?1:0}I=F(r),D=L[I]=G[I](r);let k=r[1]&&Re();return{c(){e=v("div"),t=v("div"),l=v("div"),f=J(n),s=X(),o=v("button"),$(i.$$.fragment),B=X(),_=v("div"),g=v("div"),u=v("form"),y=v("div"),D.c(),R=X(),b=v("div"),w=v("button"),E=J(d),N=X(),k&&k.c(),this.h()},l(V){e=h(V,"DIV",{});var j=p(e);t=h(j,"DIV",{class:!0});var x=p(t);l=h(x,"DIV",{class:!0});var S=p(l);f=K(S,n),S.forEach(m),s=q(x),o=h(x,"BUTTON",{class:!0});var M=p(o);ee(i.$$.fragment,M),M.forEach(m),x.forEach(m),B=q(j),_=h(j,"DIV",{class:!0});var Y=p(_);g=h(Y,"DIV",{class:!0});var Z=p(g);u=h(Z,"FORM",{class:!0});var H=p(u);y=h(H,"DIV",{class:!0});var le=p(y);D.l(le),le.forEach(m),R=q(H),b=h(H,"DIV",{class:!0});var ae=p(b);w=h(ae,"BUTTON",{class:!0,type:!0});var T=p(w);E=K(T,d),N=q(T),k&&k.l(T),T.forEach(m),ae.forEach(m),H.forEach(m),Z.forEach(m),Y.forEach(m),j.forEach(m),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(o,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(y,"class","px-1"),c(w,"class",P="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(r[1]?" cursor-not-allowed":"")),c(w,"type","submit"),w.disabled=r[1],c(b,"class","flex justify-end pt-3 text-sm font-medium"),c(u,"class","flex flex-col w-full"),c(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(_,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(V,j){me(V,e,j),a(e,t),a(t,l),a(l,f),a(t,s),a(t,o),te(i,o,null),a(e,B),a(e,_),a(_,g),a(g,u),a(u,y),L[I].m(y,null),a(u,R),a(u,b),a(b,w),a(w,E),a(w,N),k&&k.m(w,null),O=!0,U||(W=[ie(o,"click",r[10]),ie(u,"submit",xe(r[12]))],U=!0)},p(V,j){(!O||j&32)&&n!==(n=V[5].t("Valves")+"")&&Q(f,n);let x=I;I=F(V),I===x?L[I].p(V,j):(be(),A(L[x],1,1,()=>{L[x]=null}),we(),D=L[I],D?D.p(V,j):(D=L[I]=G[I](V),D.c()),z(D,1),D.m(y,null)),(!O||j&32)&&d!==(d=V[5].t("Save")+"")&&Q(E,d),V[1]?k?j&2&&z(k,1):(k=Re(),k.c(),z(k,1),k.m(w,null)):k&&(be(),A(k,1,1,()=>{k=null}),we()),(!O||j&2&&P!==(P="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(V[1]?" cursor-not-allowed":"")))&&c(w,"class",P),(!O||j&2)&&(w.disabled=V[1])},i(V){O||(z(i.$$.fragment,V),z(D),z(k),O=!0)},o(V){A(i.$$.fragment,V),A(D),A(k),O=!1},d(V){V&&m(e),se(i),L[I].d(),k&&k.d(),U=!1,Ee(W)}}}function Ze(r){let e,t,l;function n(s){r[13](s)}let f={size:"sm",$$slots:{default:[Qe]},$$scope:{ctx:r}};return r[0]!==void 0&&(f.show=r[0]),e=new Se({props:f}),pe.push(()=>ge(e,"show",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,[o]){const i={};o&65599&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.show=s[0],_e(()=>t=!1)),e.$set(i)},i(s){l||(z(e.$$.fragment,s),l=!0)},o(s){A(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function $e(r,e,t){let l;const n=ye("i18n");Ie(r,n,d=>t(5,l=d));const f=Fe();let{show:s=!1}=e,{type:o="tool"}=e,{id:i=null}=e,B=!1,_=!1,g=null,u={};const y=async()=>{var d;if(t(1,B=!0),g){for(const N in g.properties)((d=g.properties[N])==null?void 0:d.type)==="array"&&t(4,u[N]=(u[N]??"").split(",").map(P=>P.trim()),u);let E=null;o==="tool"?E=await We(localStorage.token,i,u).catch(N=>{fe.error(`${N}`)}):o==="function"&&(E=await qe(localStorage.token,i,u).catch(N=>{fe.error(`${N}`)})),E&&(fe.success("Valves updated successfully"),f("save"))}t(1,B=!1)},I=async()=>{var d;if(t(2,_=!0),t(4,u={}),t(3,g=null),o==="tool"?(t(4,u=await Ae(localStorage.token,i)),t(3,g=await Pe(localStorage.token,i))):o==="function"&&(t(4,u=await Le(localStorage.token,i)),t(3,g=await Xe(localStorage.token,i))),u||t(4,u={}),g)for(const E in g.properties)((d=g.properties[E])==null?void 0:d.type)==="array"&&t(4,u[E]=(u[E]??[]).join(","),u);t(2,_=!1)},D=()=>{t(0,s=!1)};function R(d){u=d,t(4,u)}const b=()=>{y()};function w(d){s=d,t(0,s)}return r.$$set=d=>{"show"in d&&t(0,s=d.show),"type"in d&&t(8,o=d.type),"id"in d&&t(9,i=d.id)},r.$$.update=()=>{r.$$.dirty&1&&s&&I()},[s,B,_,g,u,l,n,y,o,i,D,R,b,w]}class gt extends Ve{constructor(e){super(),De(this,e,$e,Ze,ke,{show:0,type:8,id:9})}}function et(r){let e,t,l,n=r[2].t("Show your support!")+"",f,s,o,i,B,_,g,u,y,I,D=r[2].t("The developers behind this plugin are passionate volunteers from the community. If you find this plugin helpful, please consider contributing to its development.")+"",R,b,w,d=r[2].t("Your entire contribution will go directly to the plugin developer; Open WebUI does not take any percentage. However, the chosen funding platform might have its own fees.")+"",E,N,P,O,U,W=r[2].t("Support this plugin:")+"",G,L,F,k=r[1].funding_url+"",V,j,x,S,M,Y=r[2].t("Done")+"",Z,H,le,ae;return i=new Ue({props:{className:"size-5"}}),{c(){e=v("div"),t=v("div"),l=v("div"),f=J(n),s=X(),o=v("button"),$(i.$$.fragment),B=X(),_=v("div"),g=v("div"),u=v("form"),y=v("div"),I=v("div"),R=J(D),b=X(),w=v("div"),E=J(d),N=X(),P=v("hr"),O=X(),U=v("div"),G=J(W),L=X(),F=v("a"),V=J(k),x=X(),S=v("div"),M=v("button"),Z=J(Y),this.h()},l(T){e=h(T,"DIV",{});var C=p(e);t=h(C,"DIV",{class:!0});var re=p(t);l=h(re,"DIV",{class:!0});var ue=p(l);f=K(ue,n),ue.forEach(m),s=q(re),o=h(re,"BUTTON",{class:!0});var ce=p(o);ee(i.$$.fragment,ce),ce.forEach(m),re.forEach(m),B=q(C),_=h(C,"DIV",{class:!0});var de=p(_);g=h(de,"DIV",{class:!0});var ne=p(g);u=h(ne,"FORM",{class:!0});var ve=p(u);y=h(ve,"DIV",{class:!0});var oe=p(y);I=h(oe,"DIV",{class:!0});var Me=p(I);R=K(Me,D),Me.forEach(m),b=q(oe),w=h(oe,"DIV",{class:!0});var Be=p(w);E=K(Be,d),Be.forEach(m),N=q(oe),P=h(oe,"HR",{class:!0}),O=q(oe),U=h(oe,"DIV",{class:!0});var he=p(U);G=K(he,W),L=q(he),F=h(he,"A",{href:!0,target:!0,class:!0});var je=p(F);V=K(je,k),je.forEach(m),he.forEach(m),oe.forEach(m),x=q(ve),S=h(ve,"DIV",{class:!0});var Ne=p(S);M=h(Ne,"BUTTON",{class:!0,type:!0});var Oe=p(M);Z=K(Oe,Y),Oe.forEach(m),Ne.forEach(m),ve.forEach(m),ne.forEach(m),de.forEach(m),C.forEach(m),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(o,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(I,"class","my-2"),c(w,"class","my-2"),c(P,"class","dark:border-gray-800 my-3"),c(F,"href",j=r[1].funding_url),c(F,"target","_blank"),c(F,"class","underline text-blue-400 hover:text-blue-300"),c(U,"class","my-2"),c(y,"class","px-1 text-sm"),c(M,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center"),c(M,"type","submit"),c(S,"class","flex justify-end pt-3 text-sm font-medium"),c(u,"class","flex flex-col w-full"),c(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(_,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(T,C){me(T,e,C),a(e,t),a(t,l),a(l,f),a(t,s),a(t,o),te(i,o,null),a(e,B),a(e,_),a(_,g),a(g,u),a(u,y),a(y,I),a(I,R),a(y,b),a(y,w),a(w,E),a(y,N),a(y,P),a(y,O),a(y,U),a(U,G),a(U,L),a(U,F),a(F,V),a(u,x),a(u,S),a(S,M),a(M,Z),H=!0,le||(ae=[ie(o,"click",r[4]),ie(u,"submit",xe(r[5]))],le=!0)},p(T,C){(!H||C&4)&&n!==(n=T[2].t("Show your support!")+"")&&Q(f,n),(!H||C&4)&&D!==(D=T[2].t("The developers behind this plugin are passionate volunteers from the community. If you find this plugin helpful, please consider contributing to its development.")+"")&&Q(R,D),(!H||C&4)&&d!==(d=T[2].t("Your entire contribution will go directly to the plugin developer; Open WebUI does not take any percentage. However, the chosen funding platform might have its own fees.")+"")&&Q(E,d),(!H||C&4)&&W!==(W=T[2].t("Support this plugin:")+"")&&Q(G,W),(!H||C&2)&&k!==(k=T[1].funding_url+"")&&Q(V,k),(!H||C&2&&j!==(j=T[1].funding_url))&&c(F,"href",j),(!H||C&4)&&Y!==(Y=T[2].t("Done")+"")&&Q(Z,Y)},i(T){H||(z(i.$$.fragment,T),H=!0)},o(T){A(i.$$.fragment,T),H=!1},d(T){T&&m(e),se(i),le=!1,Ee(ae)}}}function tt(r){let e,t,l;function n(s){r[6](s)}let f={size:"sm",$$slots:{default:[et]},$$scope:{ctx:r}};return r[0]!==void 0&&(f.show=r[0]),e=new Se({props:f}),pe.push(()=>ge(e,"show",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,[o]){const i={};o&263&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.show=s[0],_e(()=>t=!1)),e.$set(i)},i(s){l||(z(e.$$.fragment,s),l=!0)},o(s){A(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function st(r,e,t){let l;const n=ye("i18n");Ie(r,n,_=>t(2,l=_)),Fe();let{show:f=!1}=e,{manifest:s={}}=e;const o=()=>{t(0,f=!1)},i=()=>{t(0,f=!1)};function B(_){f=_,t(0,f)}return r.$$set=_=>{"show"in _&&t(0,f=_.show),"manifest"in _&&t(1,s=_.manifest)},[f,s,l,n,o,i,B]}class bt extends Ve{constructor(e){super(),De(this,e,st,tt,ke,{show:0,manifest:1})}}function ze(r){let e,t,l;return t=new Te({}),{c(){e=v("div"),$(t.$$.fragment),this.h()},l(n){e=h(n,"DIV",{class:!0});var f=p(e);ee(t.$$.fragment,f),f.forEach(m),this.h()},h(){c(e,"class","ml-2 self-center")},m(n,f){me(n,e,f),te(t,e,null),l=!0},i(n){l||(z(t.$$.fragment,n),l=!0)},o(n){A(t.$$.fragment,n),l=!1},d(n){n&&m(e),se(t)}}}function lt(r){let e,t,l,n=r[3].t("Import")+"",f,s,o,i,B,_,g,u,y,I,D,R=r[3].t("URL")+"",b,w,d,E,N,P,O,U,W=r[3].t("Import")+"",G,L,F,k,V,j;i=new Ue({props:{className:"size-5"}});let x=r[1]&&ze();return{c(){e=v("div"),t=v("div"),l=v("div"),f=J(n),s=X(),o=v("button"),$(i.$$.fragment),B=X(),_=v("div"),g=v("div"),u=v("form"),y=v("div"),I=v("div"),D=v("div"),b=J(R),w=X(),d=v("div"),E=v("input"),P=X(),O=v("div"),U=v("button"),G=J(W),L=X(),x&&x.c(),this.h()},l(S){e=h(S,"DIV",{});var M=p(e);t=h(M,"DIV",{class:!0});var Y=p(t);l=h(Y,"DIV",{class:!0});var Z=p(l);f=K(Z,n),Z.forEach(m),s=q(Y),o=h(Y,"BUTTON",{class:!0});var H=p(o);ee(i.$$.fragment,H),H.forEach(m),Y.forEach(m),B=q(M),_=h(M,"DIV",{class:!0});var le=p(_);g=h(le,"DIV",{class:!0});var ae=p(g);u=h(ae,"FORM",{class:!0});var T=p(u);y=h(T,"DIV",{class:!0});var C=p(y);I=h(C,"DIV",{class:!0});var re=p(I);D=h(re,"DIV",{class:!0});var ue=p(D);b=K(ue,R),ue.forEach(m),w=q(re),d=h(re,"DIV",{class:!0});var ce=p(d);E=h(ce,"INPUT",{class:!0,type:!0,placeholder:!0}),ce.forEach(m),re.forEach(m),C.forEach(m),P=q(T),O=h(T,"DIV",{class:!0});var de=p(O);U=h(de,"BUTTON",{class:!0,type:!0});var ne=p(U);G=K(ne,W),L=q(ne),x&&x.l(ne),ne.forEach(m),de.forEach(m),T.forEach(m),ae.forEach(m),le.forEach(m),M.forEach(m),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(o,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(D,"class","mb-1 text-xs text-gray-500"),c(E,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden"),c(E,"type","url"),c(E,"placeholder",N=r[3].t("Enter the URL to import")),E.required=!0,c(d,"class","flex-1"),c(I,"class","flex flex-col w-full"),c(y,"class","px-1"),c(U,"class",F="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(r[1]?" cursor-not-allowed":"")),c(U,"type","submit"),U.disabled=r[1],c(O,"class","flex justify-end pt-3 text-sm font-medium"),c(u,"class","flex flex-col w-full"),c(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(_,"class","flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200")},m(S,M){me(S,e,M),a(e,t),a(t,l),a(l,f),a(t,s),a(t,o),te(i,o,null),a(e,B),a(e,_),a(_,g),a(g,u),a(u,y),a(y,I),a(I,D),a(D,b),a(I,w),a(I,d),a(d,E),He(E,r[2]),a(u,P),a(u,O),a(O,U),a(U,G),a(U,L),x&&x.m(U,null),k=!0,V||(j=[ie(o,"click",r[10]),ie(E,"input",r[11]),ie(u,"submit",xe(r[12]))],V=!0)},p(S,M){(!k||M&8)&&n!==(n=S[3].t("Import")+"")&&Q(f,n),(!k||M&8)&&R!==(R=S[3].t("URL")+"")&&Q(b,R),(!k||M&8&&N!==(N=S[3].t("Enter the URL to import")))&&c(E,"placeholder",N),M&4&&E.value!==S[2]&&He(E,S[2]),(!k||M&8)&&W!==(W=S[3].t("Import")+"")&&Q(G,W),S[1]?x?M&2&&z(x,1):(x=ze(),x.c(),z(x,1),x.m(U,null)):x&&(be(),A(x,1,1,()=>{x=null}),we()),(!k||M&2&&F!==(F="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(S[1]?" cursor-not-allowed":"")))&&c(U,"class",F),(!k||M&2)&&(U.disabled=S[1])},i(S){k||(z(i.$$.fragment,S),z(x),k=!0)},o(S){A(i.$$.fragment,S),A(x),k=!1},d(S){S&&m(e),se(i),x&&x.d(),V=!1,Ee(j)}}}function rt(r){let e,t,l;function n(s){r[13](s)}let f={size:"sm",$$slots:{default:[lt]},$$scope:{ctx:r}};return r[0]!==void 0&&(f.show=r[0]),e=new Se({props:f}),pe.push(()=>ge(e,"show",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,[o]){const i={};o&16399&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.show=s[0],_e(()=>t=!1)),e.$set(i)},i(s){l||(z(e.$$.fragment,s),l=!0)},o(s){A(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function at(r,e,t){let l;const n=ye("i18n");Ie(r,n,b=>t(3,l=b));let{show:f=!1}=e,{onImport:s=b=>{}}=e,{onClose:o=()=>{}}=e,{loadUrlHandler:i=()=>{}}=e,{successMessage:B=""}=e,_=!1,g="";const u=async()=>{if(t(1,_=!0),!g){fe.error(l.t("Please enter a valid URL")),t(1,_=!1);return}const b=await i(g).catch(w=>(fe.error(`${w}`),t(1,_=!1),null));if(b){B||t(6,B=l.t("Function imported successfully")),fe.success(B);let w=b;w.id=w.id||w.name.replace(/\s+/g,"_").toLowerCase();const d=Ge(b.content);d!=null&&d.title&&(w.name=d.title),w.meta={...w.meta??{},description:(d==null?void 0:d.description)??w.name},s(w),t(0,f=!1)}},y=()=>{t(0,f=!1)};function I(){g=this.value,t(2,g)}const D=()=>{u()};function R(b){f=b,t(0,f)}return r.$$set=b=>{"show"in b&&t(0,f=b.show),"onImport"in b&&t(7,s=b.onImport),"onClose"in b&&t(8,o=b.onClose),"loadUrlHandler"in b&&t(9,i=b.loadUrlHandler),"successMessage"in b&&t(6,B=b.successMessage)},[f,_,g,l,n,u,B,s,o,i,y,I,D,R]}class wt extends Ve{constructor(e){super(),De(this,e,at,rt,ke,{show:0,onImport:7,onClose:8,loadUrlHandler:9,successMessage:6})}}export{wt as I,bt as M,gt as V};
//# sourceMappingURL=BDxjb9PR.js.map
