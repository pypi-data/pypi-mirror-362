import{s as ht,y as Ge,k as P,e as c,t as V,o as T,c as d,a as v,d as i,b as M,f as r,i as Me,g as e,u as he,z as pt,A as He,h as Z,j as ut,p as vt,q as _t,C as gt,F as bt,B as Ve,G as wt}from"./BId-c6mR.js";import{S as kt,i as yt,f as Ze,b as pe,d as ve,m as _e,t as Q,g as Ct,a as Y,c as Et,e as ge}from"./BuwtTo7z.js";import{T as Dt}from"./DdxnJGvs.js";import{t as It}from"./C9Ej3FHW.js";import{T as At}from"./D3-rHoKr.js";import{L as Vt}from"./BBcSA9QL.js";import{A as Mt}from"./C2Yy2PN8.js";import{u as St}from"./8Hnar5y7.js";import{s as Nt}from"./BegY-nht.js";import{S as Pt}from"./BxepmQZ9.js";function Tt(t){let l,s,h,g,w,_,n,y,F,C,b=t[7].t("Access")+"",E,N,D,S,A="/",q,u,L,O,p,J;return y=new Vt({props:{strokeWidth:"2.5",className:"size-3.5"}}),{c(){l=c("div"),s=c("div"),h=c("input"),w=P(),_=c("div"),n=c("button"),pe(y.$$.fragment),F=P(),C=c("div"),E=V(b),N=P(),D=c("div"),S=c("div"),S.textContent=A,q=P(),u=c("input"),this.h()},l(f){l=d(f,"DIV",{class:!0});var k=v(l);s=d(k,"DIV",{class:!0});var R=v(s);h=d(R,"INPUT",{class:!0,placeholder:!0}),w=T(R),_=d(R,"DIV",{class:!0});var j=v(_);n=d(j,"BUTTON",{class:!0,type:!0});var o=v(n);ve(y.$$.fragment,o),F=T(o),C=d(o,"DIV",{class:!0});var X=v(C);E=M(X,b),X.forEach(i),o.forEach(i),j.forEach(i),R.forEach(i),N=T(k),D=d(k,"DIV",{class:!0});var W=v(D);S=d(W,"DIV",{class:!0,"data-svelte-h":!0}),bt(S)!=="svelte-1x25scu"&&(S.textContent=A),q=T(W),u=d(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(i),k.forEach(i),this.h()},h(){r(h,"class","text-2xl font-semibold w-full bg-transparent outline-hidden"),r(h,"placeholder",g=t[7].t("Title")),h.required=!0,r(C,"class","text-sm font-medium shrink-0"),r(n,"class","bg-gray-50 hover:bg-gray-100 text-black dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white transition px-2 py-1 rounded-full flex gap-1 items-center"),r(n,"type","button"),r(_,"class","self-center shrink-0"),r(s,"class","flex items-center"),r(S,"class",""),r(u,"class","w-full bg-transparent outline-hidden"),r(u,"placeholder",L=t[7].t("Command")),u.required=!0,u.disabled=t[0],r(D,"class","flex gap-0.5 items-center text-xs text-gray-500"),r(l,"class","flex flex-col w-full")},m(f,k){Me(f,l,k),e(l,s),e(s,h),Ve(h,t[1]),e(s,w),e(s,_),e(_,n),_e(y,n,null),e(n,F),e(n,C),e(C,E),e(l,N),e(l,D),e(D,S),e(D,q),e(D,u),Ve(u,t[3]),O=!0,p||(J=[he(h,"input",t[18]),he(n,"click",t[19]),he(u,"input",t[20]),he(u,"input",t[10])],p=!0)},p(f,k){(!O||k&128&&g!==(g=f[7].t("Title")))&&r(h,"placeholder",g),k&2&&h.value!==f[1]&&Ve(h,f[1]),(!O||k&128)&&b!==(b=f[7].t("Access")+"")&&Z(E,b),(!O||k&128&&L!==(L=f[7].t("Command")))&&r(u,"placeholder",L),(!O||k&1)&&(u.disabled=f[0]),k&8&&u.value!==f[3]&&Ve(u,f[3])},i(f){O||(Q(y.$$.fragment,f),O=!0)},o(f){Y(y.$$.fragment,f),O=!1},d(f){f&&i(l),ge(y),p=!1,wt(J)}}}function ct(t){let l,s,h;return s=new Pt({}),{c(){l=c("div"),pe(s.$$.fragment),this.h()},l(g){l=d(g,"DIV",{class:!0});var w=v(l);ve(s.$$.fragment,w),w.forEach(i),this.h()},h(){r(l,"class","ml-1.5 self-center")},m(g,w){Me(g,l,w),_e(s,l,null),h=!0},i(g){h||(Q(s.$$.fragment,g),h=!0)},o(g){Y(s.$$.fragment,g),h=!1},d(g){g&&i(l),ge(s)}}}function Ot(t){var et,tt,at,st;let l,s,h,g,w,_,n,y,F,C,b,E,N=t[7].t("Prompt Content")+"",D,S,A,q,u,L,O,p,J,f=t[7].t("Format your variables using brackets like this:")+"",k,R,j,o="{{",X,W=t[7].t("variable")+"",be,Je="}}",Se,Ne,re=t[7].t("Make sure to enclose them with")+"",we,Pe,$,Ke="{{",Te,Oe,ne=t[7].t("and")+"",ke,ze,ee,Qe="}}",xe,je,Ue,G,oe=t[7].t("Utilize")+"",ye,te,Xe=" {{CLIPBOARD}}",qe,Be,ie=t[7].t("variable to have them replaced with clipboard content.")+"",Ce,Fe,ae,U,se,ue=t[7].t("Save & Create")+"",Ee,Le,De,z,Re,Ye;function dt(a){t[16](a)}function ft(a){t[17](a)}let We={accessRoles:["read","write"],allowPublic:((at=(tt=(et=t[8])==null?void 0:et.permissions)==null?void 0:tt.sharing)==null?void 0:at.public_prompts)||((st=t[8])==null?void 0:st.role)==="admin"};t[6]!==void 0&&(We.show=t[6]),t[5]!==void 0&&(We.accessControl=t[5]),l=new Mt({props:We}),Ge.push(()=>Ze(l,"show",dt)),Ge.push(()=>Ze(l,"accessControl",ft)),y=new At({props:{content:`${t[7].t("Only alphanumeric characters and hyphens are allowed")} - ${t[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:t[3]})}`,placement:"bottom-start",$$slots:{default:[Tt]},$$scope:{ctx:t}}});function mt(a){t[21](a)}let $e={className:"text-sm w-full bg-transparent outline-hidden overflow-y-hidden resize-none",placeholder:t[7].t("Write a summary in 50 words that summarizes [topic or keyword]."),rows:6,required:!0};t[4]!==void 0&&($e.value=t[4]),u=new Dt({props:$e}),Ge.push(()=>Ze(u,"value",mt));let I=t[2]&&ct();return{c(){pe(l.$$.fragment),g=P(),w=c("div"),_=c("form"),n=c("div"),pe(y.$$.fragment),F=P(),C=c("div"),b=c("div"),E=c("div"),D=V(N),S=P(),A=c("div"),q=c("div"),pe(u.$$.fragment),O=P(),p=c("div"),J=V("ⓘ "),k=V(f),R=V(" "),j=c("span"),X=V(o),be=V(W),Se=V(Je),Ne=V(`.
					`),we=V(re),Pe=P(),$=c("span"),Te=V(Ke),Oe=P(),ke=V(ne),ze=P(),ee=c("span"),xe=V(Qe),je=V("."),Ue=P(),G=c("div"),ye=V(oe),te=c("span"),qe=V(Xe),Be=P(),Ce=V(ie),Fe=P(),ae=c("div"),U=c("button"),se=c("div"),Ee=V(ue),Le=P(),I&&I.c(),this.h()},l(a){ve(l.$$.fragment,a),g=T(a),w=d(a,"DIV",{class:!0});var m=v(w);_=d(m,"FORM",{class:!0});var B=v(_);n=d(B,"DIV",{class:!0});var le=v(n);ve(y.$$.fragment,le),le.forEach(i),F=T(B),C=d(B,"DIV",{class:!0});var K=v(C);b=d(K,"DIV",{class:!0});var ce=v(b);E=d(ce,"DIV",{class:!0});var de=v(E);D=M(de,N),de.forEach(i),ce.forEach(i),S=T(K),A=d(K,"DIV",{class:!0});var H=v(A);q=d(H,"DIV",{});var fe=v(q);ve(u.$$.fragment,fe),fe.forEach(i),O=T(H),p=d(H,"DIV",{class:!0});var x=v(p);J=M(x,"ⓘ "),k=M(x,f),R=M(x," "),j=d(x,"SPAN",{class:!0});var Ie=v(j);X=M(Ie,o),be=M(Ie,W),Se=M(Ie,Je),Ie.forEach(i),Ne=M(x,`.
					`),we=M(x,re),Pe=T(x),$=d(x,"SPAN",{class:!0});var lt=v($);Te=M(lt,Ke),lt.forEach(i),Oe=T(x),ke=M(x,ne),ze=T(x),ee=d(x,"SPAN",{class:!0});var rt=v(ee);xe=M(rt,Qe),rt.forEach(i),je=M(x,"."),x.forEach(i),Ue=T(H),G=d(H,"DIV",{class:!0});var me=v(G);ye=M(me,oe),te=d(me,"SPAN",{class:!0});var nt=v(te);qe=M(nt,Xe),nt.forEach(i),Be=T(me),Ce=M(me,ie),me.forEach(i),H.forEach(i),K.forEach(i),Fe=T(B),ae=d(B,"DIV",{class:!0});var ot=v(ae);U=d(ot,"BUTTON",{class:!0,type:!0});var Ae=v(U);se=d(Ae,"DIV",{class:!0});var it=v(se);Ee=M(it,ue),it.forEach(i),Le=T(Ae),I&&I.l(Ae),Ae.forEach(i),ot.forEach(i),B.forEach(i),m.forEach(i),this.h()},h(){r(n,"class","my-2"),r(E,"class","self-center text-sm font-semibold"),r(b,"class","flex w-full justify-between"),r(j,"class","text-gray-600 dark:text-gray-300 font-medium"),r($,"class","text-gray-600 dark:text-gray-300 font-medium"),r(ee,"class","text-gray-600 dark:text-gray-300 font-medium"),r(p,"class","text-xs text-gray-400 dark:text-gray-500"),r(te,"class","text-gray-600 dark:text-gray-300 font-medium"),r(G,"class","text-xs text-gray-400 dark:text-gray-500"),r(A,"class","mt-2"),r(C,"class","my-2"),r(se,"class","self-center font-medium"),r(U,"class",De="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(t[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"),r(U,"type","submit"),U.disabled=t[2],r(ae,"class","my-4 flex justify-end pb-20"),r(_,"class","flex flex-col w-full mb-10"),r(w,"class","w-full max-h-full flex justify-center")},m(a,m){_e(l,a,m),Me(a,g,m),Me(a,w,m),e(w,_),e(_,n),_e(y,n,null),e(_,F),e(_,C),e(C,b),e(b,E),e(E,D),e(C,S),e(C,A),e(A,q),_e(u,q,null),e(A,O),e(A,p),e(p,J),e(p,k),e(p,R),e(p,j),e(j,X),e(j,be),e(j,Se),e(p,Ne),e(p,we),e(p,Pe),e(p,$),e($,Te),e(p,Oe),e(p,ke),e(p,ze),e(p,ee),e(ee,xe),e(p,je),e(A,Ue),e(A,G),e(G,ye),e(G,te),e(te,qe),e(G,Be),e(G,Ce),e(_,Fe),e(_,ae),e(ae,U),e(U,se),e(se,Ee),e(U,Le),I&&I.m(U,null),z=!0,Re||(Ye=he(_,"submit",pt(t[22])),Re=!0)},p(a,[m]){var ce,de,H,fe;const B={};m&256&&(B.allowPublic=((H=(de=(ce=a[8])==null?void 0:ce.permissions)==null?void 0:de.sharing)==null?void 0:H.public_prompts)||((fe=a[8])==null?void 0:fe.role)==="admin"),!s&&m&64&&(s=!0,B.show=a[6],He(()=>s=!1)),!h&&m&32&&(h=!0,B.accessControl=a[5],He(()=>h=!1)),l.$set(B);const le={};m&136&&(le.content=`${a[7].t("Only alphanumeric characters and hyphens are allowed")} - ${a[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:a[3]})}`),m&16777419&&(le.$$scope={dirty:m,ctx:a}),y.$set(le),(!z||m&128)&&N!==(N=a[7].t("Prompt Content")+"")&&Z(D,N);const K={};m&128&&(K.placeholder=a[7].t("Write a summary in 50 words that summarizes [topic or keyword].")),!L&&m&16&&(L=!0,K.value=a[4],He(()=>L=!1)),u.$set(K),(!z||m&128)&&f!==(f=a[7].t("Format your variables using brackets like this:")+"")&&Z(k,f),(!z||m&128)&&W!==(W=a[7].t("variable")+"")&&Z(be,W),(!z||m&128)&&re!==(re=a[7].t("Make sure to enclose them with")+"")&&Z(we,re),(!z||m&128)&&ne!==(ne=a[7].t("and")+"")&&Z(ke,ne),(!z||m&128)&&oe!==(oe=a[7].t("Utilize")+"")&&Z(ye,oe),(!z||m&128)&&ie!==(ie=a[7].t("variable to have them replaced with clipboard content.")+"")&&Z(Ce,ie),(!z||m&128)&&ue!==(ue=a[7].t("Save & Create")+"")&&Z(Ee,ue),a[2]?I?m&4&&Q(I,1):(I=ct(),I.c(),Q(I,1),I.m(U,null)):I&&(Ct(),Y(I,1,1,()=>{I=null}),Et()),(!z||m&4&&De!==(De="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(a[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"))&&r(U,"class",De),(!z||m&4)&&(U.disabled=a[2])},i(a){z||(Q(l.$$.fragment,a),Q(y.$$.fragment,a),Q(u.$$.fragment,a),Q(I),z=!0)},o(a){Y(l.$$.fragment,a),Y(y.$$.fragment,a),Y(u.$$.fragment,a),Y(I),z=!1},d(a){a&&(i(g),i(w)),ge(l,a),ge(y),ge(u),I&&I.d(),Re=!1,Ye()}}}function zt(t,l,s){let h,g;ut(t,St,o=>s(8,g=o));let{onSubmit:w}=l,{edit:_=!1}=l,{prompt:n=null}=l,{clone:y=!1}=l;const F=vt("i18n");ut(t,F,o=>s(7,h=o));let C=!1,b="",E="",N="",D={},S=!1,A=!1;function q(o){s(15,A=!0)}const u=async()=>{s(2,C=!0),L(E)?await w({title:b,command:E,content:N,access_control:D}):It.error(h.t("Only alphanumeric characters and hyphens are allowed in the command string.")),s(2,C=!1)},L=o=>/^[a-zA-Z0-9-]+$/.test(o);_t(async()=>{n&&(s(1,b=n.title),await gt(),s(3,E=n.command.at(0)==="/"?n.command.slice(1):n.command),s(4,N=n.content),s(5,D=(n==null?void 0:n.access_control)===void 0?{}:n==null?void 0:n.access_control))});function O(o){S=o,s(6,S)}function p(o){D=o,s(5,D)}function J(){b=this.value,s(1,b)}const f=()=>{s(6,S=!0)};function k(){E=this.value,s(3,E),s(0,_),s(15,A),s(1,b)}function R(o){N=o,s(4,N)}const j=()=>{u()};return t.$$set=o=>{"onSubmit"in o&&s(12,w=o.onSubmit),"edit"in o&&s(0,_=o.edit),"prompt"in o&&s(13,n=o.prompt),"clone"in o&&s(14,y=o.clone)},t.$$.update=()=>{t.$$.dirty&32771&&!_&&!A&&s(3,E=b!==""?Nt(b):"")},[_,b,C,E,N,D,S,h,g,F,q,u,w,n,y,A,O,p,J,f,k,R,j]}class Ht extends kt{constructor(l){super(),yt(this,l,zt,Ot,ht,{onSubmit:12,edit:0,prompt:13,clone:14})}}export{Ht as P};
//# sourceMappingURL=aaFyOxav.js.map
