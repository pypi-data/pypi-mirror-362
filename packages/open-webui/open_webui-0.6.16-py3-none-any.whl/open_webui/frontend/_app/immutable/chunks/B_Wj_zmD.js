import{s as Pe,D as Xe,E as Qe,a as L,d as h,f as p,i as B,g as E,n as ve,y as Ue,A as Ze,j as ge,p as Ge,k as q,o as R,e as V,t as oe,c as N,b as re,u as fe,h as ae,G as Ut,r as jt,v as At,w as Wt,x as Ft,S as Be,_ as xe,l as et,F as Ee,X as Jt,q as Xt,C as tt,B as lt}from"./BId-c6mR.js";import{S as je,i as Ae,f as Ke,b as K,d as Y,m as J,t as b,a as I,e as X,g as ce,c as de}from"./BuwtTo7z.js";import{e as be}from"./TjOgUCiB.js";import"./CS5v2Vts.js";import{M as qt,a as Rt,b as Zt}from"./CKEIsxtJ.js";import{m as nt,w as ot,d as Qt,r as xt}from"./BegY-nht.js";import{F as el}from"./CU2r43ac.js";import{d as Re,r as tl}from"./I1CDPYOB.js";import"./BXP-4RTu.js";import{S as ll}from"./BxepmQZ9.js";import{f as Gt}from"./CBc5jlPY.js";import{g as nl}from"./CO0GEo6q.js";import{g as ol,p as rl,d as al,u as sl}from"./CNJ3rA3Q.js";import{a as Kt,u as Yt,e as rt,c as il,M as ye,j as fl,l as at,m as Fe}from"./8Hnar5y7.js";import{t as _e}from"./C9Ej3FHW.js";import{g as qe}from"./BG4E4qTN.js";import{C as ul}from"./BIatOilX.js";import{S as cl}from"./nViY0P2_.js";import{T as pe}from"./D3-rHoKr.js";import{S as dl}from"./DejYCRvm.js";import{C as ml}from"./D1YqqjEs.js";import{C as hl}from"./B7Ksg-zD.js";import{L as _l}from"./WB5AN6Fa.js";import{E as pl}from"./Dlj2UZjP.js";import{E as gl}from"./Di9teU2I.js";import{E as vl}from"./BxtJXqSk.js";function bl(o){let e,t;return{c(){e=Xe("svg"),t=Xe("path"),this.h()},l(l){e=Qe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=L(e);t=Qe(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),L(t).forEach(h),n.forEach(h),this.h()},h(){p(t,"stroke-linecap","round"),p(t,"stroke-linejoin","round"),p(t,"d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"stroke-width",o[1]),p(e,"stroke","currentColor"),p(e,"class",o[0])},m(l,n){B(l,e,n),E(e,t)},p(l,[n]){n&2&&p(e,"stroke-width",l[1]),n&1&&p(e,"class",l[0])},i:ve,o:ve,d(l){l&&h(e)}}}function wl(o,e,t){let{className:l="size-4"}=e,{strokeWidth:n="1.5"}=e;return o.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class kl extends je{constructor(e){super(),Ae(this,e,wl,bl,Pe,{className:0,strokeWidth:1})}}function $l(o){let e;const t=o[8].default,l=jt(t,o,o[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8192)&&At(l,t,n,n[13],e?Ft(t,n[13],r,null):Wt(n[13]),null)},i(n){e||(b(l,n),e=!0)},o(n){I(l,n),e=!1},d(n){l&&l.d(n)}}}function yl(o){let e,t;return e=new pe({props:{content:o[5].t("More"),className:" group-hover/item:opacity-100  opacity-0",$$slots:{default:[$l]},$$scope:{ctx:o}}}),{c(){K(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&32&&(r.content=l[5].t("More")),n&8192&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Ml(o){let e,t;return e=new pl({}),{c(){K(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function El(o){let e,t;return e=new gl({}),{c(){K(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Dl(o){let e=o[5].t("Keep in Sidebar")+"",t;return{c(){t=oe(e)},l(l){t=re(l,e)},m(l,n){B(l,t,n)},p(l,n){n&32&&e!==(e=l[5].t("Keep in Sidebar")+"")&&ae(t,e)},d(l){l&&h(t)}}}function Cl(o){let e=o[5].t("Hide from Sidebar")+"",t;return{c(){t=oe(e)},l(l){t=re(l,e)},m(l,n){B(l,t,n)},p(l,n){n&32&&e!==(e=l[5].t("Hide from Sidebar")+"")&&ae(t,e)},d(l){l&&h(t)}}}function Il(o){let e,t,l,n,r,a,s,i,m,u,c,M,w=o[5].t("Copy Link")+"",v,D,z,g;const H=[El,Ml],$=[];function _(y,k){var Z,ee;return k&66&&(t=null),t==null&&(t=!!(((Z=y[6])==null?void 0:Z.pinnedModels)??[]).includes((ee=y[1])==null?void 0:ee.id)),t?0:1}l=_(o,-1),n=$[l]=H[l](o);function U(y,k){var Z,ee;return k&66&&(s=null),s==null&&(s=!!(((Z=y[6])==null?void 0:Z.pinnedModels)??[]).includes((ee=y[1])==null?void 0:ee.id)),s?Cl:Dl}let j=U(o,-1),O=j(o);return u=new _l({}),{c(){e=V("button"),n.c(),r=q(),a=V("div"),O.c(),i=q(),m=V("button"),K(u.$$.fragment),c=q(),M=V("div"),v=oe(w),this.h()},l(y){e=N(y,"BUTTON",{type:!0,class:!0});var k=L(e);n.l(k),r=R(k),a=N(k,"DIV",{class:!0});var Z=L(a);O.l(Z),Z.forEach(h),k.forEach(h),i=R(y),m=N(y,"BUTTON",{type:!0,class:!0});var ee=L(m);Y(u.$$.fragment,ee),c=R(ee),M=N(ee,"DIV",{class:!0});var te=L(M);v=re(te,w),te.forEach(h),ee.forEach(h),this.h()},h(){p(a,"class","flex items-center"),p(e,"type","button"),p(e,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2"),p(M,"class","flex items-center"),p(m,"type","button"),p(m,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2")},m(y,k){B(y,e,k),$[l].m(e,null),E(e,r),E(e,a),O.m(a,null),B(y,i,k),B(y,m,k),J(u,m,null),E(m,c),E(m,M),E(M,v),D=!0,z||(g=[fe(e,"click",o[9]),fe(m,"click",o[10])],z=!0)},p(y,k){let Z=l;l=_(y,k),l!==Z&&(ce(),I($[Z],1,1,()=>{$[Z]=null}),de(),n=$[l],n||(n=$[l]=H[l](y),n.c()),b(n,1),n.m(e,r)),j===(j=U(y,k))&&O?O.p(y,k):(O.d(1),O=j(y),O&&(O.c(),O.m(a,null))),(!D||k&32)&&w!==(w=y[5].t("Copy Link")+"")&&ae(v,w)},i(y){D||(b(n),b(u.$$.fragment,y),D=!0)},o(y){I(n),I(u.$$.fragment,y),D=!1},d(y){y&&(h(e),h(i),h(m)),$[l].d(),O.d(),X(u),z=!1,Ut(g)}}}function Tl(o){let e,t,l,n;return e=new Rt({props:{$$slots:{default:[yl]},$$scope:{ctx:o}}}),l=new Zt({props:{strategy:"fixed",class:"w-full max-w-[180px] text-sm rounded-xl px-1 py-1.5 z-[9999999] bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"end",transition:Gt,$$slots:{default:[Il]},$$scope:{ctx:o}}}),{c(){K(e.$$.fragment),t=q(),K(l.$$.fragment)},l(r){Y(e.$$.fragment,r),t=R(r),Y(l.$$.fragment,r)},m(r,a){J(e,r,a),B(r,t,a),J(l,r,a),n=!0},p(r,a){const s={};a&8224&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const i={};a&8303&&(i.$$scope={dirty:a,ctx:r}),l.$set(i)},i(r){n||(b(e.$$.fragment,r),b(l.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),I(l.$$.fragment,r),n=!1},d(r){r&&h(t),X(e,r),X(l,r)}}}function Vl(o){let e,t,l;function n(a){o[12](a)}let r={closeFocus:!1,onOpenChange:o[11],typeahead:!1,$$slots:{default:[Tl]},$$scope:{ctx:o}};return o[0]!==void 0&&(r.open=o[0]),e=new qt({props:r}),Ue.push(()=>Ke(e,"open",n)),{c(){K(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,s){J(e,a,s),l=!0},p(a,[s]){const i={};s&16&&(i.onOpenChange=a[11]),s&8303&&(i.$$scope={dirty:s,ctx:a}),!t&&s&1&&(t=!0,i.open=a[0],Ze(()=>t=!1)),e.$set(i)},i(a){l||(b(e.$$.fragment,a),l=!0)},o(a){I(e.$$.fragment,a),l=!1},d(a){X(e,a)}}}function Nl(o,e,t){let l,n;ge(o,Kt,g=>t(6,n=g));let{$$slots:r={},$$scope:a}=e;const s=Ge("i18n");ge(o,s,g=>t(5,l=g));let{show:i=!1}=e,{model:m}=e,{pinModelHandler:u=()=>{}}=e,{copyLinkHandler:c=()=>{}}=e,{onClose:M=()=>{}}=e;const w=g=>{g.stopPropagation(),g.preventDefault(),u(m==null?void 0:m.id),t(0,i=!1)},v=g=>{g.stopPropagation(),g.preventDefault(),c(),t(0,i=!1)},D=g=>{g===!1&&M()};function z(g){i=g,t(0,i)}return o.$$set=g=>{"show"in g&&t(0,i=g.show),"model"in g&&t(1,m=g.model),"pinModelHandler"in g&&t(2,u=g.pinModelHandler),"copyLinkHandler"in g&&t(3,c=g.copyLinkHandler),"onClose"in g&&t(4,M=g.onClose),"$$scope"in g&&t(13,a=g.$$scope)},[i,m,u,c,M,l,n,s,r,w,v,D,z,a]}class Ol extends je{constructor(e){super(),Ae(this,e,Nl,Vl,Pe,{show:0,model:1,pinModelHandler:2,copyLinkHandler:3,onClose:4})}}function st(o,e,t){const l=o.slice();return l[17]=e[t],l}function it(o){var a;let e,t,l=be((a=o[1].model)==null?void 0:a.tags.sort(pt)),n=[];for(let s=0;s<l.length;s+=1)n[s]=ft(st(o,l,s));const r=s=>I(n[s],1,1,()=>{n[s]=null});return{c(){e=V("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=N(s,"DIV",{class:!0});var i=L(e);for(let m=0;m<n.length;m+=1)n[m].l(i);i.forEach(h),this.h()},h(){p(e,"class","flex gap-0.5 self-center items-start h-full w-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(s,i){B(s,e,i);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(e,null);t=!0},p(s,i){var m;if(i&2){l=be((m=s[1].model)==null?void 0:m.tags.sort(pt));let u;for(u=0;u<l.length;u+=1){const c=st(s,l,u);n[u]?(n[u].p(c,i),b(n[u],1)):(n[u]=ft(c),n[u].c(),b(n[u],1),n[u].m(e,null))}for(ce(),u=l.length;u<n.length;u+=1)r(u);de()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)b(n[i]);t=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)I(n[i]);t=!1},d(s){s&&h(e),Be(n,s)}}}function Hl(o){let e,t=o[17].name+"",l,n;return{c(){e=V("div"),l=oe(t),n=q(),this.h()},l(r){e=N(r,"DIV",{class:!0});var a=L(e);l=re(a,t),a.forEach(h),n=R(r),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(r,a){B(r,e,a),E(e,l),B(r,n,a)},p(r,a){a&2&&t!==(t=r[17].name+"")&&ae(l,t)},d(r){r&&(h(e),h(n))}}}function ft(o){let e,t;return e=new pe({props:{content:o[17].name,className:"flex-shrink-0",$$slots:{default:[Hl]},$$scope:{ctx:o}}}),{c(){K(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&2&&(r.content=l[17].name),n&1048578&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function zl(o){let e,t;return{c(){e=V("img"),this.h()},l(l){e=N(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){var l,n,r;xe(e.src,t=((r=(n=(l=o[1].model)==null?void 0:l.info)==null?void 0:n.meta)==null?void 0:r.profile_image_url)??`${rt}/static/favicon.png`)||p(e,"src",t),p(e,"alt","Model"),p(e,"class","rounded-full size-5 flex items-center")},m(l,n){B(l,e,n)},p(l,n){var r,a,s;n&2&&!xe(e.src,t=((s=(a=(r=l[1].model)==null?void 0:r.info)==null?void 0:a.meta)==null?void 0:s.profile_image_url)??`${rt}/static/favicon.png`)&&p(e,"src",t)},d(l){l&&h(e)}}}function Sl(o){let e,t=o[1].label+"",l;return{c(){e=V("div"),l=oe(t),this.h()},l(n){e=N(n,"DIV",{class:!0});var r=L(e);l=re(r,t),r.forEach(h),this.h()},h(){p(e,"class","line-clamp-1")},m(n,r){B(n,e,r),E(e,l)},p(n,r){r&2&&t!==(t=n[1].label+"")&&ae(l,t)},d(n){n&&h(e)}}}function ut(o){var s,i,m,u;let e,t=((s=o[1].model.ollama)==null?void 0:s.expires_at)&&new Date(((i=o[1].model.ollama)==null?void 0:i.expires_at)*1e3)>new Date,l,n,r=(((u=(m=o[1].model.ollama)==null?void 0:m.details)==null?void 0:u.parameter_size)??"")!==""&&ct(o),a=t&&dt(o);return{c(){r&&r.c(),e=q(),a&&a.c(),l=et()},l(c){r&&r.l(c),e=R(c),a&&a.l(c),l=et()},m(c,M){r&&r.m(c,M),B(c,e,M),a&&a.m(c,M),B(c,l,M),n=!0},p(c,M){var w,v,D,z;(((v=(w=c[1].model.ollama)==null?void 0:w.details)==null?void 0:v.parameter_size)??"")!==""?r?(r.p(c,M),M&2&&b(r,1)):(r=ct(c),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(ce(),I(r,1,1,()=>{r=null}),de()),M&2&&(t=((D=c[1].model.ollama)==null?void 0:D.expires_at)&&new Date(((z=c[1].model.ollama)==null?void 0:z.expires_at)*1e3)>new Date),t?a?(a.p(c,M),M&2&&b(a,1)):(a=dt(c),a.c(),b(a,1),a.m(l.parentNode,l)):a&&(ce(),I(a,1,1,()=>{a=null}),de())},i(c){n||(b(r),b(a),n=!0)},o(c){I(r),I(a),n=!1},d(c){c&&(h(e),h(l)),r&&r.d(c),a&&a.d(c)}}}function ct(o){var n,r,a,s,i,m;let e,t,l;return t=new pe({props:{content:`${(r=(n=o[1].model.ollama)==null?void 0:n.details)!=null&&r.quantization_level?((s=(a=o[1].model.ollama)==null?void 0:a.details)==null?void 0:s.quantization_level)+" ":""}${(i=o[1].model.ollama)!=null&&i.size?`(${(((m=o[1].model.ollama)==null?void 0:m.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[Ll]},$$scope:{ctx:o}}}),{c(){e=V("div"),K(t.$$.fragment),this.h()},l(u){e=N(u,"DIV",{class:!0});var c=L(e);Y(t.$$.fragment,c),c.forEach(h),this.h()},h(){p(e,"class","flex items-center translate-y-[0.5px]")},m(u,c){B(u,e,c),J(t,e,null),l=!0},p(u,c){var w,v,D,z,g,H;const M={};c&2&&(M.content=`${(v=(w=u[1].model.ollama)==null?void 0:w.details)!=null&&v.quantization_level?((z=(D=u[1].model.ollama)==null?void 0:D.details)==null?void 0:z.quantization_level)+" ":""}${(g=u[1].model.ollama)!=null&&g.size?`(${(((H=u[1].model.ollama)==null?void 0:H.size)/1024**3).toFixed(1)}GB)`:""}`),c&1048578&&(M.$$scope={dirty:c,ctx:u}),t.$set(M)},i(u){l||(b(t.$$.fragment,u),l=!0)},o(u){I(t.$$.fragment,u),l=!1},d(u){u&&h(e),X(t)}}}function Ll(o){var n,r;let e,t=(((r=(n=o[1].model.ollama)==null?void 0:n.details)==null?void 0:r.parameter_size)??"")+"",l;return{c(){e=V("span"),l=oe(t),this.h()},l(a){e=N(a,"SPAN",{class:!0});var s=L(e);l=re(s,t),s.forEach(h),this.h()},h(){p(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(a,s){B(a,e,s),E(e,l)},p(a,s){var i,m;s&2&&t!==(t=(((m=(i=a[1].model.ollama)==null?void 0:i.details)==null?void 0:m.parameter_size)??"")+"")&&ae(l,t)},d(a){a&&h(e)}}}function dt(o){var n;let e,t,l;return t=new pe({props:{content:`${o[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Re(((n=o[1].model.ollama)==null?void 0:n.expires_at)*1e3).fromNow()})}`,className:"self-end",$$slots:{default:[Bl]},$$scope:{ctx:o}}}),{c(){e=V("div"),K(t.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var a=L(e);Y(t.$$.fragment,a),a.forEach(h),this.h()},h(){p(e,"class","flex items-center translate-y-[0.5px] px-0.5")},m(r,a){B(r,e,a),J(t,e,null),l=!0},p(r,a){var i;const s={};a&258&&(s.content=`${r[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Re(((i=r[1].model.ollama)==null?void 0:i.expires_at)*1e3).fromNow()})}`),a&1048576&&(s.$$scope={dirty:a,ctx:r}),t.$set(s)},i(r){l||(b(t.$$.fragment,r),l=!0)},o(r){I(t.$$.fragment,r),l=!1},d(r){r&&h(e),X(t)}}}function Bl(o){let e,t='<span class="relative flex size-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex rounded-full size-2 bg-green-500"></span></span>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=N(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-pq0hxj"&&(e.innerHTML=t),this.h()},h(){p(e,"class","flex items-center")},m(l,n){B(l,e,n)},p:ve,d(l){l&&h(e)}}}function Pl(o){let e,t;return e=new pe({props:{content:`${o[8].t("External")}`,$$slots:{default:[jl]},$$scope:{ctx:o}}}),{c(){K(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&256&&(r.content=`${l[8].t("External")}`),n&1048576&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Ul(o){let e,t;return e=new pe({props:{content:`${o[8].t("Direct")}`,$$slots:{default:[Al]},$$scope:{ctx:o}}}),{c(){K(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&256&&(r.content=`${l[8].t("Direct")}`),n&1048576&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function jl(o){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=N(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1we9nfa"&&(e.innerHTML=t),this.h()},h(){p(e,"class","translate-y-[1px]")},m(l,n){B(l,e,n)},p:ve,d(l){l&&h(e)}}}function Al(o){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=N(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1pvx0j8"&&(e.innerHTML=t),this.h()},h(){p(e,"class","translate-y-[1px]")},m(l,n){B(l,e,n)},p:ve,d(l){l&&h(e)}}}function mt(o){var l,n,r;let e,t;return e=new pe({props:{content:`${nt.parse(ot((r=(n=(l=o[1].model)==null?void 0:l.info)==null?void 0:n.meta)==null?void 0:r.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[Wl]},$$scope:{ctx:o}}}),{c(){K(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,s){var m,u,c;const i={};s&2&&(i.content=`${nt.parse(ot((c=(u=(m=a[1].model)==null?void 0:m.info)==null?void 0:u.meta)==null?void 0:c.description).replaceAll(`
`,"<br>"))}`),s&1048576&&(i.$$scope={dirty:s,ctx:a}),e.$set(i)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){I(e.$$.fragment,a),t=!1},d(a){X(e,a)}}}function Wl(o){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=N(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-i7zoyb"&&(e.innerHTML=t),this.h()},h(){p(e,"class","translate-y-[1px]")},m(l,n){B(l,e,n)},p:ve,d(l){l&&h(e)}}}function ht(o){let e,t;return e=new pe({props:{content:`${o[8].t("Eject")}`,className:"flex-shrink-0 group-hover/item:opacity-100 opacity-0 ",$$slots:{default:[Fl]},$$scope:{ctx:o}}}),{c(){K(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&256&&(r.content=`${l[8].t("Eject")}`),n&1048594&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Fl(o){let e,t,l,n,r;return t=new kl({props:{className:"size-3"}}),{c(){e=V("button"),K(t.$$.fragment),this.h()},l(a){e=N(a,"BUTTON",{class:!0});var s=L(e);Y(t.$$.fragment,s),s.forEach(h),this.h()},h(){p(e,"class","flex")},m(a,s){B(a,e,s),J(t,e,null),l=!0,n||(r=fe(e,"click",o[12]),n=!0)},p:ve,i(a){l||(b(t.$$.fragment,a),l=!0)},o(a){I(t.$$.fragment,a),l=!1},d(a){a&&h(e),X(t),n=!1,r()}}}function ql(o){let e,t,l,n,r;return t=new vl({}),{c(){e=V("button"),K(t.$$.fragment),this.h()},l(a){e=N(a,"BUTTON",{class:!0});var s=L(e);Y(t.$$.fragment,s),s.forEach(h),this.h()},h(){p(e,"class","flex")},m(a,s){B(a,e,s),J(t,e,null),l=!0,n||(r=fe(e,"click",o[13]),n=!0)},p:ve,i(a){l||(b(t.$$.fragment,a),l=!0)},o(a){I(t.$$.fragment,a),l=!1},d(a){a&&h(e),X(t),n=!1,r()}}}function _t(o){let e,t,l;return t=new hl({props:{className:"size-3"}}),{c(){e=V("div"),K(t.$$.fragment)},l(n){e=N(n,"DIV",{});var r=L(e);Y(t.$$.fragment,r),r.forEach(h)},m(n,r){B(n,e,r),J(t,e,null),l=!0},i(n){l||(b(t.$$.fragment,n),l=!0)},o(n){I(t.$$.fragment,n),l=!1},d(n){n&&h(e),X(t)}}}function Rl(o){var Ce,Ie,Te,Ve,Ne,Oe,He,ze,Se,Le;let e,t,l,n,r,a,s,i,m,u,c,M,w,v,D,z,g,H=((Ce=o[9])==null?void 0:Ce.role)==="admin"&&o[1].model.owned_by==="ollama"&&((Ie=o[1].model.ollama)==null?void 0:Ie.expires_at)&&new Date(((Te=o[1].model.ollama)==null?void 0:Te.expires_at)*1e3)>new Date,$,_,U,j,O,y,k,Z,ee,te,le,A=(((Ne=(Ve=o[1])==null?void 0:Ve.model)==null?void 0:Ne.tags)??[]).length>0&&it(o);a=new pe({props:{content:((Oe=o[9])==null?void 0:Oe.role)==="admin"?((He=o[1])==null?void 0:He.value)??"":"",placement:"top-start",$$slots:{default:[zl]},$$scope:{ctx:o}}}),m=new pe({props:{content:`${o[1].label} (${o[1].value})`,placement:"top-start",$$slots:{default:[Sl]},$$scope:{ctx:o}}});let d=o[1].model.owned_by==="ollama"&&ut(o);const C=[Ul,Pl],G=[];function se(T,W){var me;return(me=T[1].model)!=null&&me.direct?0:T[1].model.connection_type==="external"?1:-1}~(w=se(o))&&(v=G[w]=C[w](o));let S=((Le=(Se=(ze=o[1].model)==null?void 0:ze.info)==null?void 0:Se.meta)==null?void 0:Le.description)&&mt(o),Q=H&&ht(o);function We(T){o[15](T)}let De={model:o[1].model,pinModelHandler:o[5],copyLinkHandler:o[14],$$slots:{default:[ql]},$$scope:{ctx:o}};o[7]!==void 0&&(De.show=o[7]),_=new Ol({props:De}),Ue.push(()=>Ke(_,"show",We));let ne=o[3]===o[1].value&&_t();return{c(){e=V("button"),t=V("div"),A&&A.c(),l=q(),n=V("div"),r=V("div"),K(a.$$.fragment),s=q(),i=V("div"),K(m.$$.fragment),u=q(),c=V("div"),d&&d.c(),M=q(),v&&v.c(),D=q(),S&&S.c(),z=q(),g=V("div"),Q&&Q.c(),$=q(),K(_.$$.fragment),j=q(),ne&&ne.c(),this.h()},l(T){e=N(T,"BUTTON",{"aria-roledescription":!0,"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var W=L(e);t=N(W,"DIV",{class:!0});var me=L(t);A&&A.l(me),l=R(me),n=N(me,"DIV",{class:!0});var f=L(n);r=N(f,"DIV",{class:!0});var P=L(r);Y(a.$$.fragment,P),P.forEach(h),s=R(f),i=N(f,"DIV",{class:!0});var F=L(i);Y(m.$$.fragment,F),F.forEach(h),u=R(f),c=N(f,"DIV",{class:!0});var x=L(c);d&&d.l(x),M=R(x),v&&v.l(x),D=R(x),S&&S.l(x),x.forEach(h),f.forEach(h),me.forEach(h),z=R(W),g=N(W,"DIV",{class:!0});var ie=L(g);Q&&Q.l(ie),$=R(ie),Y(_.$$.fragment,ie),j=R(ie),ne&&ne.l(ie),ie.forEach(h),W.forEach(h),this.h()},h(){p(r,"class","flex items-center min-w-fit"),p(i,"class","flex items-center"),p(c,"class","shrink-0 flex items-center gap-2"),p(n,"class","flex items-center gap-2"),p(t,"class","flex flex-col flex-1 gap-1.5"),p(g,"class","ml-auto pl-2 pr-1 flex items-center gap-1.5 shrink-0"),p(e,"aria-roledescription","model-item"),p(e,"aria-label",O=o[1].label),p(e,"class",y="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(o[2]===o[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),p(e,"data-arrow-selected",k=o[2]===o[0]),p(e,"data-value",Z=o[1].value)},m(T,W){B(T,e,W),E(e,t),A&&A.m(t,null),E(t,l),E(t,n),E(n,r),J(a,r,null),E(n,s),E(n,i),J(m,i,null),E(n,u),E(n,c),d&&d.m(c,null),E(c,M),~w&&G[w].m(c,null),E(c,D),S&&S.m(c,null),E(e,z),E(e,g),Q&&Q.m(g,null),E(g,$),J(_,g,null),E(g,j),ne&&ne.m(g,null),ee=!0,te||(le=fe(e,"click",o[16]),te=!0)},p(T,[W]){var x,ie,he,we,ke,Me,ue,$e,Ye,Je;(((ie=(x=T[1])==null?void 0:x.model)==null?void 0:ie.tags)??[]).length>0?A?(A.p(T,W),W&2&&b(A,1)):(A=it(T),A.c(),b(A,1),A.m(t,l)):A&&(ce(),I(A,1,1,()=>{A=null}),de());const me={};W&514&&(me.content=((he=T[9])==null?void 0:he.role)==="admin"?((we=T[1])==null?void 0:we.value)??"":""),W&1048578&&(me.$$scope={dirty:W,ctx:T}),a.$set(me);const f={};W&2&&(f.content=`${T[1].label} (${T[1].value})`),W&1048578&&(f.$$scope={dirty:W,ctx:T}),m.$set(f),T[1].model.owned_by==="ollama"?d?(d.p(T,W),W&2&&b(d,1)):(d=ut(T),d.c(),b(d,1),d.m(c,M)):d&&(ce(),I(d,1,1,()=>{d=null}),de());let P=w;w=se(T),w===P?~w&&G[w].p(T,W):(v&&(ce(),I(G[P],1,1,()=>{G[P]=null}),de()),~w?(v=G[w],v?v.p(T,W):(v=G[w]=C[w](T),v.c()),b(v,1),v.m(c,D)):v=null),(ue=(Me=(ke=T[1].model)==null?void 0:ke.info)==null?void 0:Me.meta)!=null&&ue.description?S?(S.p(T,W),W&2&&b(S,1)):(S=mt(T),S.c(),b(S,1),S.m(c,null)):S&&(ce(),I(S,1,1,()=>{S=null}),de()),W&514&&(H=(($e=T[9])==null?void 0:$e.role)==="admin"&&T[1].model.owned_by==="ollama"&&((Ye=T[1].model.ollama)==null?void 0:Ye.expires_at)&&new Date(((Je=T[1].model.ollama)==null?void 0:Je.expires_at)*1e3)>new Date),H?Q?(Q.p(T,W),W&514&&b(Q,1)):(Q=ht(T),Q.c(),b(Q,1),Q.m(g,$)):Q&&(ce(),I(Q,1,1,()=>{Q=null}),de());const F={};W&2&&(F.model=T[1].model),W&32&&(F.pinModelHandler=T[5]),W&2&&(F.copyLinkHandler=T[14]),W&1048704&&(F.$$scope={dirty:W,ctx:T}),!U&&W&128&&(U=!0,F.show=T[7],Ze(()=>U=!1)),_.$set(F),T[3]===T[1].value?ne?W&10&&b(ne,1):(ne=_t(),ne.c(),b(ne,1),ne.m(g,null)):ne&&(ce(),I(ne,1,1,()=>{ne=null}),de()),(!ee||W&2&&O!==(O=T[1].label))&&p(e,"aria-label",O),(!ee||W&5&&y!==(y="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(T[2]===T[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&p(e,"class",y),(!ee||W&5&&k!==(k=T[2]===T[0]))&&p(e,"data-arrow-selected",k),(!ee||W&2&&Z!==(Z=T[1].value))&&p(e,"data-value",Z)},i(T){ee||(b(A),b(a.$$.fragment,T),b(m.$$.fragment,T),b(d),b(v),b(S),b(Q),b(_.$$.fragment,T),b(ne),ee=!0)},o(T){I(A),I(a.$$.fragment,T),I(m.$$.fragment,T),I(d),I(v),I(S),I(Q),I(_.$$.fragment,T),I(ne),ee=!1},d(T){T&&h(e),A&&A.d(),X(a),X(m),d&&d.d(),~w&&G[w].d(),S&&S.d(),Q&&Q.d(),X(_),ne&&ne.d(),te=!1,le()}}}const pt=(o,e)=>o.name.localeCompare(e.name);function Zl(o,e,t){let l,n;ge(o,Yt,_=>t(9,n=_));const r=Ge("i18n");ge(o,r,_=>t(8,l=_));let{selectedModelIdx:a=-1}=e,{item:s={}}=e,{index:i=-1}=e,{value:m=""}=e,{unloadModelHandler:u=()=>{}}=e,{pinModelHandler:c=()=>{}}=e,{onClick:M=()=>{}}=e;const w=async _=>{const U=window.location.origin;await Qt(`${U}/?model=${encodeURIComponent(_.id)}`)?_e.success(l.t("Copied link to clipboard")):_e.error(l.t("Failed to copy link"))};let v=!1;const D=_=>{_.preventDefault(),_.stopPropagation(),u(s.value)},z=_=>{_.preventDefault(),_.stopPropagation(),t(7,v=!v)},g=()=>{w(s.model)};function H(_){v=_,t(7,v)}const $=()=>{M()};return o.$$set=_=>{"selectedModelIdx"in _&&t(0,a=_.selectedModelIdx),"item"in _&&t(1,s=_.item),"index"in _&&t(2,i=_.index),"value"in _&&t(3,m=_.value),"unloadModelHandler"in _&&t(4,u=_.unloadModelHandler),"pinModelHandler"in _&&t(5,c=_.pinModelHandler),"onClick"in _&&t(6,M=_.onClick)},[a,s,i,m,u,c,M,v,l,n,r,w,D,z,g,H,$]}class Gl extends je{constructor(e){super(),Ae(this,e,Zl,Rl,Pe,{selectedModelIdx:0,item:1,index:2,value:3,unloadModelHandler:4,pinModelHandler:5,onClick:6})}}function gt(o,e,t){const l=o.slice();return l[51]=e[t],l}function vt(o,e,t){const l=o.slice();return l[54]=e[t],l[56]=t,l}function bt(o,e,t){const l=o.slice();return l[57]=e[t],l}function Kl(o){let e;return{c(){e=oe(o[2])},l(t){e=re(t,o[2])},m(t,l){B(t,e,l)},p(t,l){l[0]&4&&ae(e,t[2])},d(t){t&&h(e)}}}function Yl(o){let e=o[16].label+"",t;return{c(){t=oe(e)},l(l){t=re(l,e)},m(l,n){B(l,t,n)},p(l,n){n[0]&65536&&e!==(e=l[16].label+"")&&ae(t,e)},d(l){l&&h(t)}}}function Jl(o){let e,t,l,n,r,a,s;function i(c,M){return c[16]?Yl:Kl}let m=i(o),u=m(o);return l=new ul({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=V("div"),u.c(),t=q(),K(l.$$.fragment),this.h()},l(c){e=N(c,"DIV",{class:!0});var M=L(e);u.l(M),t=R(M),Y(l.$$.fragment,M),M.forEach(h),this.h()},h(){var c;p(e,"class",n="flex w-full text-left px-0.5 bg-transparent truncate "+o[8]+" justify-between "+(((c=o[20])==null?void 0:c.highContrastMode)??!1?"dark:placeholder-gray-100 placeholder-gray-800":"placeholder-gray-400"))},m(c,M){B(c,e,M),u.m(e,null),E(e,t),J(l,e,null),r=!0,a||(s=fe(e,"mouseenter",o[33]),a=!0)},p(c,M){var w;m===(m=i(c))&&u?u.p(c,M):(u.d(1),u=m(c),u&&(u.c(),u.m(e,t))),(!r||M[0]&1048832&&n!==(n="flex w-full text-left px-0.5 bg-transparent truncate "+c[8]+" justify-between "+(((w=c[20])==null?void 0:w.highContrastMode)??!1?"dark:placeholder-gray-100 placeholder-gray-800":"placeholder-gray-400")))&&p(e,"class",n)},i(c){r||(b(l.$$.fragment,c),r=!0)},o(c){I(l.$$.fragment,c),r=!1},d(c){c&&h(e),u.d(),X(l),a=!1,s()}}}function wt(o){let e,t,l,n,r,a,s;return t=new cl({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=V("div"),K(t.$$.fragment),l=q(),n=V("input"),this.h()},l(i){e=N(i,"DIV",{class:!0});var m=L(e);Y(t.$$.fragment,m),l=R(m),n=N(m,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),m.forEach(h),this.h()},h(){p(n,"id","model-search-input"),p(n,"class","w-full text-sm bg-transparent outline-hidden"),p(n,"placeholder",o[4]),p(n,"autocomplete","off"),p(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(i,m){B(i,e,m),J(t,e,null),E(e,l),E(e,n),lt(n,o[10]),r=!0,a||(s=[fe(n,"input",o[34]),fe(n,"keydown",o[35])],a=!0)},p(i,m){(!r||m[0]&16)&&p(n,"placeholder",i[4]),m[0]&1024&&n.value!==i[10]&&lt(n,i[10])},i(i){r||(b(t.$$.fragment,i),r=!0)},o(i){I(t.$$.fragment,i),r=!1},d(i){i&&h(e),X(t),a=!1,Ut(s)}}}function kt(o){let e,t,l=o[6].find(Lt)||o[6].find(Bt)||o[6].find(Pt)||o[15].length>0,n,r=o[6].find(St),a,s=o[6].find(zt),i,m=o[6].find(Ht),u,c,M,w=l&&$t(o),v=r&&yt(o),D=s&&Mt(o),z=m&&Et(o),g=be(o[15]),H=[];for(let $=0;$<g.length;$+=1)H[$]=Dt(bt(o,g,$));return{c(){e=V("div"),t=V("div"),w&&w.c(),n=q(),v&&v.c(),a=q(),D&&D.c(),i=q(),z&&z.c(),u=q();for(let $=0;$<H.length;$+=1)H[$].c();this.h()},l($){e=N($,"DIV",{class:!0});var _=L(e);t=N(_,"DIV",{class:!0});var U=L(t);w&&w.l(U),n=R(U),v&&v.l(U),a=R(U),D&&D.l(U),i=R(U),z&&z.l(U),u=R(U);for(let j=0;j<H.length;j+=1)H[j].l(U);U.forEach(h),_.forEach(h),this.h()},h(){p(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),p(e,"class","flex w-full bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m($,_){B($,e,_),E(e,t),w&&w.m(t,null),E(t,n),v&&v.m(t,null),E(t,a),D&&D.m(t,null),E(t,i),z&&z.m(t,null),E(t,u);for(let U=0;U<H.length;U+=1)H[U]&&H[U].m(t,null);o[41](t),c||(M=fe(e,"wheel",rn),c=!0)},p($,_){if(_[0]&32832&&(l=$[6].find(Lt)||$[6].find(Bt)||$[6].find(Pt)||$[15].length>0),l?w?w.p($,_):(w=$t($),w.c(),w.m(t,n)):w&&(w.d(1),w=null),_[0]&64&&(r=$[6].find(St)),r?v?v.p($,_):(v=yt($),v.c(),v.m(t,a)):v&&(v.d(1),v=null),_[0]&64&&(s=$[6].find(zt)),s?D?D.p($,_):(D=Mt($),D.c(),D.m(t,i)):D&&(D.d(1),D=null),_[0]&64&&(m=$[6].find(Ht)),m?z?z.p($,_):(z=Et($),z.c(),z.m(t,u)):z&&(z.d(1),z=null),_[0]&38912){g=be($[15]);let U;for(U=0;U<g.length;U+=1){const j=bt($,g,U);H[U]?H[U].p(j,_):(H[U]=Dt(j),H[U].c(),H[U].m(t,null))}for(;U<H.length;U+=1)H[U].d(1);H.length=g.length}},d($){$&&h(e),w&&w.d(),v&&v.d(),D&&D.d(),z&&z.d(),Be(H,$),o[41](null),c=!1,M()}}}function $t(o){let e,t=o[22].t("All")+"",l,n,r,a;return{c(){e=V("button"),l=oe(t),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var i=L(e);l=re(i,t),i.forEach(h),this.h()},h(){p(e,"class",n="min-w-fit outline-none p-1.5 "+(o[11]===""&&o[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){B(s,e,i),E(e,l),r||(a=fe(e,"click",o[36]),r=!0)},p(s,i){i[0]&4194304&&t!==(t=s[22].t("All")+"")&&ae(l,t),i[0]&6144&&n!==(n="min-w-fit outline-none p-1.5 "+(s[11]===""&&s[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",n)},d(s){s&&h(e),r=!1,a()}}}function yt(o){let e,t=o[22].t("Local")+"",l,n,r,a;return{c(){e=V("button"),l=oe(t),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var i=L(e);l=re(i,t),i.forEach(h),this.h()},h(){p(e,"class",n="min-w-fit outline-none p-1.5 "+(o[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){B(s,e,i),E(e,l),r||(a=fe(e,"click",o[37]),r=!0)},p(s,i){i[0]&4194304&&t!==(t=s[22].t("Local")+"")&&ae(l,t),i[0]&4096&&n!==(n="min-w-fit outline-none p-1.5 "+(s[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",n)},d(s){s&&h(e),r=!1,a()}}}function Mt(o){let e,t=o[22].t("External")+"",l,n,r,a;return{c(){e=V("button"),l=oe(t),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var i=L(e);l=re(i,t),i.forEach(h),this.h()},h(){p(e,"class",n="min-w-fit outline-none p-1.5 "+(o[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){B(s,e,i),E(e,l),r||(a=fe(e,"click",o[38]),r=!0)},p(s,i){i[0]&4194304&&t!==(t=s[22].t("External")+"")&&ae(l,t),i[0]&4096&&n!==(n="min-w-fit outline-none p-1.5 "+(s[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",n)},d(s){s&&h(e),r=!1,a()}}}function Et(o){let e,t=o[22].t("Direct")+"",l,n,r,a;return{c(){e=V("button"),l=oe(t),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var i=L(e);l=re(i,t),i.forEach(h),this.h()},h(){p(e,"class",n="min-w-fit outline-none p-1.5 "+(o[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){B(s,e,i),E(e,l),r||(a=fe(e,"click",o[39]),r=!0)},p(s,i){i[0]&4194304&&t!==(t=s[22].t("Direct")+"")&&ae(l,t),i[0]&4096&&n!==(n="min-w-fit outline-none p-1.5 "+(s[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",n)},d(s){s&&h(e),r=!1,a()}}}function Dt(o){let e,t=o[57]+"",l,n,r,a,s;function i(){return o[40](o[57])}return{c(){e=V("button"),l=oe(t),n=q(),this.h()},l(m){e=N(m,"BUTTON",{class:!0});var u=L(e);l=re(u,t),n=R(u),u.forEach(h),this.h()},h(){p(e,"class",r="min-w-fit outline-none p-1.5 "+(o[11]===o[57]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(m,u){B(m,e,u),E(e,l),E(e,n),a||(s=fe(e,"click",i),a=!0)},p(m,u){o=m,u[0]&32768&&t!==(t=o[57]+"")&&ae(l,t),u[0]&34816&&r!==(r="min-w-fit outline-none p-1.5 "+(o[11]===o[57]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",r)},d(m){m&&h(e),a=!1,s()}}}function Ct(o){let e,t,l=o[22].t("No results found")+"",n;return{c(){e=V("div"),t=V("div"),n=oe(l),this.h()},l(r){e=N(r,"DIV",{class:!0});var a=L(e);t=N(a,"DIV",{class:!0});var s=L(t);n=re(s,l),s.forEach(h),a.forEach(h),this.h()},h(){p(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100"),p(e,"class","")},m(r,a){B(r,e,a),E(e,t),E(t,n)},p(r,a){a[0]&4194304&&l!==(l=r[22].t("No results found")+"")&&ae(n,l)},d(r){r&&h(e)}}}function It(o){let e,t;function l(){return o[42](o[54],o[56])}return e=new Gl({props:{selectedModelIdx:o[18],item:o[54],index:o[56],value:o[0],pinModelHandler:o[9],unloadModelHandler:o[31],onClick:l}}),{c(){K(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){J(e,n,r),t=!0},p(n,r){o=n;const a={};r[0]&262144&&(a.selectedModelIdx=o[18]),r[0]&524288&&(a.item=o[54]),r[0]&1&&(a.value=o[0]),r[0]&512&&(a.pinModelHandler=o[9]),r[0]&802817&&(a.onClick=l),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){X(e,n)}}}function Tt(o){let e,t;return e=new pe({props:{content:o[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]}),placement:"top-start",$$slots:{default:[Xl]},$$scope:{ctx:o}}}),{c(){K(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n[0]&4195328&&(r.content=l[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[10]})),n[0]&4195328|n[1]&131072&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Xl(o){let e,t,l=o[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]})+"",n,r,a;return{c(){e=V("button"),t=V("div"),n=oe(l),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var i=L(e);t=N(i,"DIV",{class:!0});var m=L(t);n=re(m,l),m.forEach(h),i.forEach(h),this.h()},h(){p(t,"class","truncate"),p(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){B(s,e,i),E(e,t),E(t,n),r||(a=fe(e,"click",o[43]),r=!0)},p(s,i){i[0]&4195328&&l!==(l=s[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[10]})+"")&&ae(n,l)},d(s){s&&h(e),r=!1,a()}}}function Vt(o){let e,t=o[23][o[51]].digest+"",l;return{c(){e=V("div"),l=oe(t),this.h()},l(n){e=N(n,"DIV",{class:!0});var r=L(e);l=re(r,t),r.forEach(h),this.h()},h(){p(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(n,r){B(n,e,r),E(e,l)},p(n,r){r[0]&8388608&&t!==(t=n[23][n[51]].digest+"")&&ae(l,t)},d(n){n&&h(e)}}}function Ql(o){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,n;function r(){return o[44](o[51])}return{c(){e=V("button"),e.innerHTML=t,this.h()},l(a){e=N(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){p(e,"class","text-gray-800 dark:text-gray-100")},m(a,s){B(a,e,s),l||(n=fe(e,"click",r),l=!0)},p(a,s){o=a},d(a){a&&h(e),l=!1,n()}}}function Nt(o){let e,t,l,n,r,a,s,i,m,u=o[51]+"",c,M,w,v,D="pullProgress"in o[23][o[51]]?`(${o[23][o[51]].pullProgress}%)`:"",z,g,H,$,_,U,j;n=new ll({});let O="digest"in o[23][o[51]]&&o[23][o[51]].digest&&Vt(o);return _=new pe({props:{content:o[22].t("Cancel"),$$slots:{default:[Ql]},$$scope:{ctx:o}}}),{c(){e=V("div"),t=V("div"),l=V("div"),K(n.$$.fragment),r=q(),a=V("div"),s=V("div"),i=V("div"),m=oe('Downloading "'),c=oe(u),M=oe('"'),w=q(),v=V("div"),z=oe(D),g=q(),O&&O.c(),H=q(),$=V("div"),K(_.$$.fragment),U=q(),this.h()},l(y){e=N(y,"DIV",{class:!0});var k=L(e);t=N(k,"DIV",{class:!0});var Z=L(t);l=N(Z,"DIV",{class:!0});var ee=L(l);Y(n.$$.fragment,ee),ee.forEach(h),r=R(Z),a=N(Z,"DIV",{class:!0});var te=L(a);s=N(te,"DIV",{class:!0});var le=L(s);i=N(le,"DIV",{class:!0});var A=L(i);m=re(A,'Downloading "'),c=re(A,u),M=re(A,'"'),A.forEach(h),w=R(le),v=N(le,"DIV",{class:!0});var d=L(v);z=re(d,D),d.forEach(h),le.forEach(h),g=R(te),O&&O.l(te),te.forEach(h),Z.forEach(h),H=R(k),$=N(k,"DIV",{class:!0});var C=L($);Y(_.$$.fragment,C),C.forEach(h),U=R(k),k.forEach(h),this.h()},h(){p(l,"class","-ml-2 mr-2.5 translate-y-0.5"),p(i,"class","line-clamp-1"),p(v,"class","shrink-0"),p(s,"class","flex gap-1"),p(a,"class","flex flex-col self-start"),p(t,"class","flex"),p($,"class","mr-2 ml-1 translate-y-0.5"),p(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(y,k){B(y,e,k),E(e,t),E(t,l),J(n,l,null),E(t,r),E(t,a),E(a,s),E(s,i),E(i,m),E(i,c),E(i,M),E(s,w),E(s,v),E(v,z),E(a,g),O&&O.m(a,null),E(e,H),E(e,$),J(_,$,null),E(e,U),j=!0},p(y,k){(!j||k[0]&8388608)&&u!==(u=y[51]+"")&&ae(c,u),(!j||k[0]&8388608)&&D!==(D="pullProgress"in y[23][y[51]]?`(${y[23][y[51]].pullProgress}%)`:"")&&ae(z,D),"digest"in y[23][y[51]]&&y[23][y[51]].digest?O?O.p(y,k):(O=Vt(y),O.c(),O.m(a,null)):O&&(O.d(1),O=null);const Z={};k[0]&4194304&&(Z.content=y[22].t("Cancel")),k[0]&8388608|k[1]&131072&&(Z.$$scope={dirty:k,ctx:y}),_.$set(Z)},i(y){j||(b(n.$$.fragment,y),b(_.$$.fragment,y),j=!0)},o(y){I(n.$$.fragment,y),I(_.$$.fragment,y),j=!1},d(y){y&&h(e),X(n),O&&O.d(),X(_)}}}function xl(o){let e;return{c(){e=V("div"),this.h()},l(t){e=N(t,"DIV",{class:!0}),L(e).forEach(h),this.h()},h(){p(e,"class","mb-3")},m(t,l){B(t,e,l)},p:ve,i:ve,o:ve,d(t){t&&h(e)}}}function en(o){let e,t,l,n,r,a=o[22].t("Temporary Chat")+"",s,i,m,u,c,M,w;return n=new ml({props:{className:"size-4",strokeWidth:"2.5"}}),u=new dl({props:{state:o[26]}}),{c(){e=V("div"),t=V("button"),l=V("div"),K(n.$$.fragment),r=q(),s=oe(a),i=q(),m=V("div"),K(u.$$.fragment),this.h()},l(v){e=N(v,"DIV",{class:!0});var D=L(e);t=N(D,"BUTTON",{class:!0});var z=L(t);l=N(z,"DIV",{class:!0});var g=L(l);Y(n.$$.fragment,g),r=R(g),s=re(g,a),g.forEach(h),i=R(z),m=N(z,"DIV",{});var H=L(m);Y(u.$$.fragment,H),H.forEach(h),z.forEach(h),D.forEach(h),this.h()},h(){p(l,"class","flex gap-2.5 items-center"),p(t,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),p(e,"class","flex items-center mx-2 mt-1 mb-2")},m(v,D){B(v,e,D),E(e,t),E(t,l),J(n,l,null),E(l,r),E(l,s),E(t,i),E(t,m),J(u,m,null),c=!0,M||(w=fe(t,"click",o[45]),M=!0)},p(v,D){(!c||D[0]&4194304)&&a!==(a=v[22].t("Temporary Chat")+"")&&ae(s,a);const z={};D[0]&67108864&&(z.state=v[26]),u.$set(z)},i(v){c||(b(n.$$.fragment,v),b(u.$$.fragment,v),c=!0)},o(v){I(n.$$.fragment,v),I(u.$$.fragment,v),c=!1},d(v){v&&h(e),X(n),X(u),M=!1,w()}}}function tn(o){var A;let e,t,l=o[15]&&o[6].filter(Ot).length>0,n,r,a,s=!(o[10].trim()in o[23])&&o[10]&&o[17]&&((A=o[25])==null?void 0:A.role)==="admin",i,m,u,c,M,w,v,D,z,g=o[3]&&wt(o),H=l&&kt(o),$=be(o[19]),_=[];for(let d=0;d<$.length;d+=1)_[d]=It(vt(o,$,d));const U=d=>I(_[d],1,1,()=>{_[d]=null});let j=null;$.length||(j=Ct(o));let O=s&&Tt(o),y=be(Object.keys(o[23])),k=[];for(let d=0;d<y.length;d+=1)k[d]=Nt(gt(o,y,d));const Z=d=>I(k[d],1,1,()=>{k[d]=null}),ee=[en,xl],te=[];function le(d,C){return d[5]?0:1}return u=le(o),c=te[u]=ee[u](o),{c(){g&&g.c(),e=q(),t=V("div"),H&&H.c(),n=q(),r=V("div");for(let d=0;d<_.length;d+=1)_[d].c();j&&j.c(),a=q(),O&&O.c(),i=q();for(let d=0;d<k.length;d+=1)k[d].c();m=q(),c.c(),M=q(),w=V("div"),v=q(),D=V("div"),this.h()},l(d){g&&g.l(d),e=R(d),t=N(d,"DIV",{class:!0});var C=L(t);H&&H.l(C),C.forEach(h),n=R(d),r=N(d,"DIV",{class:!0});var G=L(r);for(let se=0;se<_.length;se+=1)_[se].l(G);j&&j.l(G),a=R(G),O&&O.l(G),i=R(G);for(let se=0;se<k.length;se+=1)k[se].l(G);G.forEach(h),m=R(d),c.l(d),M=R(d),w=N(d,"DIV",{class:!0}),L(w).forEach(h),v=R(d),D=N(d,"DIV",{class:!0}),L(D).forEach(h),this.h()},h(){p(t,"class","px-3"),p(r,"class","px-3 max-h-64 overflow-y-auto group relative"),p(w,"class","hidden w-[42rem]"),p(D,"class","hidden w-[32rem]")},m(d,C){g&&g.m(d,C),B(d,e,C),B(d,t,C),H&&H.m(t,null),B(d,n,C),B(d,r,C);for(let G=0;G<_.length;G+=1)_[G]&&_[G].m(r,null);j&&j.m(r,null),E(r,a),O&&O.m(r,null),E(r,i);for(let G=0;G<k.length;G+=1)k[G]&&k[G].m(r,null);B(d,m,C),te[u].m(d,C),B(d,M,C),B(d,w,C),B(d,v,C),B(d,D,C),z=!0},p(d,C){var se;if(d[3]?g?(g.p(d,C),C[0]&8&&b(g,1)):(g=wt(d),g.c(),b(g,1),g.m(e.parentNode,e)):g&&(ce(),I(g,1,1,()=>{g=null}),de()),C[0]&32832&&(l=d[15]&&d[6].filter(Ot).length>0),l?H?H.p(d,C):(H=kt(d),H.c(),H.m(t,null)):H&&(H.d(1),H=null),C[0]&4997633|C[1]&1){$=be(d[19]);let S;for(S=0;S<$.length;S+=1){const Q=vt(d,$,S);_[S]?(_[S].p(Q,C),b(_[S],1)):(_[S]=It(Q),_[S].c(),b(_[S],1),_[S].m(r,a))}for(ce(),S=$.length;S<_.length;S+=1)U(S);de(),!$.length&&j?j.p(d,C):$.length?j&&(j.d(1),j=null):(j=Ct(d),j.c(),j.m(r,a))}if(C[0]&42075136&&(s=!(d[10].trim()in d[23])&&d[10]&&d[17]&&((se=d[25])==null?void 0:se.role)==="admin"),s?O?(O.p(d,C),C[0]&42075136&&b(O,1)):(O=Tt(d),O.c(),b(O,1),O.m(r,i)):O&&(ce(),I(O,1,1,()=>{O=null}),de()),C[0]&1086324736){y=be(Object.keys(d[23]));let S;for(S=0;S<y.length;S+=1){const Q=gt(d,y,S);k[S]?(k[S].p(Q,C),b(k[S],1)):(k[S]=Nt(Q),k[S].c(),b(k[S],1),k[S].m(r,null))}for(ce(),S=y.length;S<k.length;S+=1)Z(S);de()}let G=u;u=le(d),u===G?te[u].p(d,C):(ce(),I(te[G],1,1,()=>{te[G]=null}),de(),c=te[u],c?c.p(d,C):(c=te[u]=ee[u](d),c.c()),b(c,1),c.m(M.parentNode,M))},i(d){if(!z){b(g);for(let C=0;C<$.length;C+=1)b(_[C]);b(O);for(let C=0;C<y.length;C+=1)b(k[C]);b(c),z=!0}},o(d){I(g),_=_.filter(Boolean);for(let C=0;C<_.length;C+=1)I(_[C]);I(O),k=k.filter(Boolean);for(let C=0;C<k.length;C+=1)I(k[C]);I(c),z=!1},d(d){d&&(h(e),h(t),h(n),h(r),h(m),h(M),h(w),h(v),h(D)),g&&g.d(d),H&&H.d(),Be(_,d),j&&j.d(),O&&O.d(),Be(k,d),te[u].d(d)}}}function ln(o){let e;const t=o[32].default,l=jt(t,o,o[48],null),n=l||tn(o);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,a){n&&n.m(r,a),e=!0},p(r,a){l?l.p&&(!e||a[1]&131072)&&At(l,t,r,r[48],e?Ft(t,r[48],a,null):Wt(r[48]),null):n&&n.p&&(!e||a[0]&114228857)&&n.p(r,e?a:[-1,-1])},i(r){e||(b(n,r),e=!0)},o(r){I(n,r),e=!1},d(r){n&&n.d(r)}}}function nn(o){var r;let e,t,l,n;return e=new Rt({props:{class:"relative w-full font-primary "+(((r=o[20])==null?void 0:r.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden"),"aria-label":o[2],id:"model-selector-"+o[1]+"-button",$$slots:{default:[Jl]},$$scope:{ctx:o}}}),l=new Zt({props:{class:" z-40 "+(o[24]?"w-full":`${o[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Gt,side:o[24]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[ln]},$$scope:{ctx:o}}}),{c(){K(e.$$.fragment),t=q(),K(l.$$.fragment)},l(a){Y(e.$$.fragment,a),t=R(a),Y(l.$$.fragment,a)},m(a,s){J(e,a,s),B(a,t,s),J(l,a,s),n=!0},p(a,s){var u;const i={};s[0]&1048576&&(i.class="relative w-full font-primary "+(((u=a[20])==null?void 0:u.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden")),s[0]&4&&(i["aria-label"]=a[2]),s[0]&2&&(i.id="model-selector-"+a[1]+"-button"),s[0]&3211524|s[1]&131072&&(i.$$scope={dirty:s,ctx:a}),e.$set(i);const m={};s[0]&16777344&&(m.class=" z-40 "+(a[24]?"w-full":`${a[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),s[0]&16777216&&(m.side=a[24]?"bottom":"bottom-start"),s[0]&114228857|s[1]&131072&&(m.$$scope={dirty:s,ctx:a}),l.$set(m)},i(a){n||(b(e.$$.fragment,a),b(l.$$.fragment,a),n=!0)},o(a){I(e.$$.fragment,a),I(l.$$.fragment,a),n=!1},d(a){a&&h(t),X(e,a),X(l,a)}}}function on(o){let e,t,l;function n(a){o[47](a)}let r={onOpenChange:o[46],closeFocus:!1,$$slots:{default:[nn]},$$scope:{ctx:o}};return o[14]!==void 0&&(r.open=o[14]),e=new qt({props:r}),Ue.push(()=>Ke(e,"open",n)),{c(){K(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,s){J(e,a,s),l=!0},p(a,s){const i={};s[0]&1024&&(i.onOpenChange=a[46]),s[0]&134217727|s[1]&131072&&(i.$$scope={dirty:s,ctx:a}),!t&&s[0]&16384&&(t=!0,i.open=a[14],Ze(()=>t=!1)),e.$set(i)},i(a){l||(b(e.$$.fragment,a),l=!0)},o(a){I(e.$$.fragment,a),l=!1},d(a){X(e,a)}}}const Ot=o=>{var e,t,l;return!(((l=(t=(e=o.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},Ht=o=>{var e;return(e=o.model)==null?void 0:e.direct},zt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},St=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},Lt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},Bt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},Pt=o=>{var e;return(e=o.model)==null?void 0:e.direct},rn=o=>{o.deltaY!==0&&(o.preventDefault(),o.currentTarget.scrollLeft+=o.deltaY)};function an(o,e,t){let l,n,r,a,s,i,m,u;ge(o,Kt,f=>t(20,n=f)),ge(o,il,f=>t(21,r=f)),ge(o,ye,f=>t(23,s=f)),ge(o,fl,f=>t(24,i=f)),ge(o,Yt,f=>t(25,m=f)),ge(o,at,f=>t(26,u=f));let{$$slots:c={},$$scope:M}=e;Re.extend(tl);const w=Ge("i18n");ge(o,w,f=>t(22,a=f)),Jt();let{id:v=""}=e,{value:D=""}=e,{placeholder:z="Select a model"}=e,{searchEnabled:g=!0}=e,{searchPlaceholder:H=a.t("Search a model")}=e,{showTemporaryChatControl:$=!1}=e,{items:_=[]}=e,{className:U="w-[32rem]"}=e,{triggerClassName:j="text-lg"}=e,{pinModelHandler:O=()=>{}}=e,y,k=!1,Z=[],ee="",te="",le="",A="",d=null,C=0;const G=new el(_.map(f=>{var F,x,ie,he,we;return{...f,modelName:(F=f.model)==null?void 0:F.name,tags:(((x=f.model)==null?void 0:x.tags)??[]).map(ke=>ke.name).join(" "),desc:(we=(he=(ie=f.model)==null?void 0:ie.info)==null?void 0:he.meta)==null?void 0:we.description}}),{keys:["value","tags","modelName"],threshold:.4}),se=async()=>{await tt();const f=l.findIndex(F=>F.value===D);f>=0?t(18,C=f):t(18,C=0),await tt();const P=document.querySelector('[data-arrow-selected="true"]');P==null||P.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},S=async()=>{var x;const f=te.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(s[f]){_e.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:f}));return}if(Object.keys(s).length===3){_e.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[P,F]=await rl(localStorage.token,f,"0").catch(ie=>(_e.error(`${ie}`),null));if(P){const ie=P.body.pipeThrough(new TextDecoderStream).pipeThrough(xt(`
`)).getReader();for(ye.set({...s,[f]:{...s[f],abortController:F,reader:ie,done:!1}});;)try{const{value:he,done:we}=await ie.read();if(we)break;let ke=he.split(`
`);for(const Me of ke)if(Me!==""){let ue=JSON.parse(Me);if(ue.error)throw ue.error;if(ue.detail)throw ue.detail;if(ue.status)if(ue.digest){let $e=0;ue.completed?$e=Math.round(ue.completed/ue.total*1e3)/10:$e=100,ye.set({...s,[f]:{...s[f],pullProgress:$e,digest:ue.digest}})}else _e.success(ue.status),ye.set({...s,[f]:{...s[f],done:ue.status==="success"}})}}catch(he){typeof he!="string"&&(he=he.message),_e.error(`${he}`);break}s[f].done?(_e.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:f})),Fe.set(await qe(localStorage.token,((x=r==null?void 0:r.features)==null?void 0:x.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))):_e.error(a.t("Download canceled")),delete s[f],ye.set({...s})}};Xt(async()=>{t(17,d=await ol(localStorage.token).catch(f=>!1)),_&&(t(15,Z=_.filter(f=>{var P,F,x;return!(((x=(F=(P=f.model)==null?void 0:P.info)==null?void 0:F.meta)==null?void 0:x.hidden)??!1)}).flatMap(f=>{var P;return((P=f.model)==null?void 0:P.tags)??[]}).map(f=>f.name)),t(15,Z=Array.from(new Set(Z)).sort((f,P)=>f.localeCompare(P))))});const Q=async f=>{const{reader:P,abortController:F}=s[f];F&&F.abort(),P&&(await P.cancel(),delete s[f],ye.set({...s}),await al(localStorage.token,f),_e.success(`${f} download has been canceled`))},We=async f=>{var F;await sl(localStorage.token,f).catch(x=>{_e.error(a.t("Error unloading model: {{error}}",{error:x}))})&&(_e.success(a.t("Model unloaded successfully")),Fe.set(await qe(localStorage.token,((F=r==null?void 0:r.features)==null?void 0:F.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null))))},De=async()=>{var f;Fe.set(await qe(localStorage.token,((f=r==null?void 0:r.features)==null?void 0:f.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))};function ne(){te=this.value,t(10,te)}const Ce=f=>{if(f.code==="Enter"&&l.length>0){t(0,D=l[C].value),t(14,k=!1);return}else f.code==="ArrowDown"?t(18,C=Math.min(C+1,l.length-1)):f.code==="ArrowUp"?t(18,C=Math.max(C-1,0)):t(18,C=0);const P=document.querySelector('[data-arrow-selected="true"]');P==null||P.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},Ie=()=>{t(12,A=""),t(11,le="")},Te=()=>{t(11,le=""),t(12,A="local")},Ve=()=>{t(11,le=""),t(12,A="external")},Ne=()=>{t(11,le=""),t(12,A="direct")},Oe=f=>{t(12,A=""),t(11,le=f)};function He(f){Ue[f?"unshift":"push"](()=>{y=f,t(13,y)})}const ze=(f,P)=>{t(0,D=f.value),t(18,C=P),t(14,k=!1)},Se=()=>{S()},Le=f=>{Q(f)},T=async()=>{at.set(!u),await nl("/");const f=document.getElementById("new-chat-button");setTimeout(()=>{f==null||f.click()},0),u?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(14,k=!1)},W=async()=>{t(10,te=""),window.setTimeout(()=>{var f;return(f=document.getElementById("model-search-input"))==null?void 0:f.focus()},0),se()};function me(f){k=f,t(14,k)}return o.$$set=f=>{"id"in f&&t(1,v=f.id),"value"in f&&t(0,D=f.value),"placeholder"in f&&t(2,z=f.placeholder),"searchEnabled"in f&&t(3,g=f.searchEnabled),"searchPlaceholder"in f&&t(4,H=f.searchPlaceholder),"showTemporaryChatControl"in f&&t(5,$=f.showTemporaryChatControl),"items"in f&&t(6,_=f.items),"className"in f&&t(7,U=f.className),"triggerClassName"in f&&t(8,j=f.triggerClassName),"pinModelHandler"in f&&t(9,O=f.pinModelHandler),"$$scope"in f&&t(48,M=f.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&65&&t(16,ee=_.find(f=>f.value===D)??""),o.$$.dirty[0]&7232&&t(19,l=(te?G.search(te).map(f=>f.item).filter(f=>{var P;return le===""?!0:(((P=f.model)==null?void 0:P.tags)??[]).map(F=>F.name).includes(le)}).filter(f=>{var P,F,x;if(A==="")return!0;if(A==="local")return((P=f.model)==null?void 0:P.connection_type)==="local";if(A==="external")return((F=f.model)==null?void 0:F.connection_type)==="external";if(A==="direct")return(x=f.model)==null?void 0:x.direct}):_.filter(f=>{var P;return le===""?!0:(((P=f.model)==null?void 0:P.tags)??[]).map(F=>F.name).includes(le)}).filter(f=>{var P,F,x;if(A==="")return!0;if(A==="local")return((P=f.model)==null?void 0:P.connection_type)==="local";if(A==="external")return((F=f.model)==null?void 0:F.connection_type)==="external";if(A==="direct")return(x=f.model)==null?void 0:x.direct})).filter(f=>{var P,F,x;return!(((x=(F=(P=f.model)==null?void 0:P.info)==null?void 0:F.meta)==null?void 0:x.hidden)??!1)})),o.$$.dirty[0]&6144&&se()},[D,v,z,g,H,$,_,U,j,O,te,le,A,y,k,Z,ee,d,C,l,n,r,a,s,i,m,u,w,se,S,Q,We,c,De,ne,Ce,Ie,Te,Ve,Ne,Oe,He,ze,Se,Le,T,W,me,M]}class zn extends je{constructor(e){super(),Ae(this,e,an,on,Pe,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8,pinModelHandler:9},null,[-1,-1])}}export{zn as S};
//# sourceMappingURL=B_Wj_zmD.js.map
