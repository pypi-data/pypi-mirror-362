import{s as Ne,k as q,l as Ee,m as Se,d as f,o as C,i as N,j as G,p as Te,q as We,r as Be,e as g,c as b,a as y,f as n,g as p,u as Ue,v as qe,w as Ce,x as Ke,t as R,b as X,h as Y}from"../chunks/BId-c6mR.js";import{S as Le,i as Pe,t as H,a as Q,c as je,b as Oe,d as ze,m as Fe,e as Ge,g as He}from"../chunks/BuwtTo7z.js";import{u as Je,W as Qe,s as xe}from"../chunks/8Hnar5y7.js";import{p as Re}from"../chunks/C5odNooH.js";import{g as J}from"../chunks/CO0GEo6q.js";import{M as Xe}from"../chunks/CITGD6j7.js";function Ie(l){var $,ee,te,ae,se,le,re,oe,ie,ne,fe,de,ce,ue,pe,me;let t,r,s,o,e,a,d,S,T,V,u,W,c,A,B,I,D,E,U,K;d=new Xe({});let m=((($=l[1])==null?void 0:$.role)==="admin"||((ae=(te=(ee=l[1])==null?void 0:ee.permissions)==null?void 0:te.workspace)==null?void 0:ae.models))&&Ve(l),h=(((se=l[1])==null?void 0:se.role)==="admin"||((oe=(re=(le=l[1])==null?void 0:le.permissions)==null?void 0:re.workspace)==null?void 0:oe.knowledge))&&Ae(l),_=(((ie=l[1])==null?void 0:ie.role)==="admin"||((de=(fe=(ne=l[1])==null?void 0:ne.permissions)==null?void 0:fe.workspace)==null?void 0:de.prompts))&&De(l),v=(((ce=l[1])==null?void 0:ce.role)==="admin"||((me=(pe=(ue=l[1])==null?void 0:ue.permissions)==null?void 0:pe.workspace)==null?void 0:me.tools))&&Me(l);const Z=l[8].default,w=Be(Z,l,l[7],null);return{c(){t=g("div"),r=g("nav"),s=g("div"),o=g("div"),e=g("button"),a=g("div"),Oe(d.$$.fragment),T=q(),V=g("div"),u=g("div"),m&&m.c(),W=q(),h&&h.c(),c=q(),_&&_.c(),A=q(),v&&v.c(),B=q(),I=g("div"),w&&w.c(),this.h()},l(i){t=b(i,"DIV",{class:!0});var k=y(t);r=b(k,"NAV",{class:!0});var L=y(r);s=b(L,"DIV",{class:!0});var M=y(s);o=b(M,"DIV",{class:!0});var P=y(o);e=b(P,"BUTTON",{id:!0,class:!0,"aria-label":!0});var j=y(e);a=b(j,"DIV",{class:!0});var O=y(a);ze(d.$$.fragment,O),O.forEach(f),j.forEach(f),P.forEach(f),T=C(M),V=b(M,"DIV",{class:!0});var z=y(V);u=b(z,"DIV",{class:!0});var x=y(u);m&&m.l(x),W=C(x),h&&h.l(x),c=C(x),_&&_.l(x),A=C(x),v&&v.l(x),x.forEach(f),z.forEach(f),M.forEach(f),L.forEach(f),B=C(k),I=b(k,"DIV",{class:!0,id:!0});var F=y(I);w&&w.l(F),F.forEach(f),k.forEach(f),this.h()},h(){n(a,"class","m-auto self-center"),n(e,"id","sidebar-toggle-button"),n(e,"class","cursor-pointer p-1.5 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition"),n(e,"aria-label","Toggle Sidebar"),n(o,"class",S=(l[5]?"md:hidden":"")+" self-center flex flex-none items-center"),n(u,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent py-1 touch-auto pointer-events-auto"),n(V,"class",""),n(s,"class","flex items-center gap-1"),n(r,"class","px-2.5 pt-1 backdrop-blur-xl drag-region"),n(I,"class","pb-1 px-[18px] flex-1 max-h-full overflow-y-auto"),n(I,"id","workspace-container"),n(t,"class",D="relative flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out "+(l[5]?"md:max-w-[calc(100%-260px)]":"")+" max-w-full")},m(i,k){N(i,t,k),p(t,r),p(r,s),p(s,o),p(o,e),p(e,a),Fe(d,a,null),p(s,T),p(s,V),p(V,u),m&&m.m(u,null),p(u,W),h&&h.m(u,null),p(u,c),_&&_.m(u,null),p(u,A),v&&v.m(u,null),p(t,B),p(t,I),w&&w.m(I,null),E=!0,U||(K=Ue(e,"click",l[9]),U=!0)},p(i,k){var L,M,P,j,O,z,x,F,he,_e,ve,ke,we,ge,be,ye;(!E||k&32&&S!==(S=(i[5]?"md:hidden":"")+" self-center flex flex-none items-center"))&&n(o,"class",S),((L=i[1])==null?void 0:L.role)==="admin"||(j=(P=(M=i[1])==null?void 0:M.permissions)==null?void 0:P.workspace)!=null&&j.models?m?m.p(i,k):(m=Ve(i),m.c(),m.m(u,W)):m&&(m.d(1),m=null),((O=i[1])==null?void 0:O.role)==="admin"||(F=(x=(z=i[1])==null?void 0:z.permissions)==null?void 0:x.workspace)!=null&&F.knowledge?h?h.p(i,k):(h=Ae(i),h.c(),h.m(u,c)):h&&(h.d(1),h=null),((he=i[1])==null?void 0:he.role)==="admin"||(ke=(ve=(_e=i[1])==null?void 0:_e.permissions)==null?void 0:ve.workspace)!=null&&ke.prompts?_?_.p(i,k):(_=De(i),_.c(),_.m(u,A)):_&&(_.d(1),_=null),((we=i[1])==null?void 0:we.role)==="admin"||(ye=(be=(ge=i[1])==null?void 0:ge.permissions)==null?void 0:be.workspace)!=null&&ye.tools?v?v.p(i,k):(v=Me(i),v.c(),v.m(u,null)):v&&(v.d(1),v=null),w&&w.p&&(!E||k&128)&&qe(w,Z,i,i[7],E?Ke(Z,i[7],k,null):Ce(i[7]),null),(!E||k&32&&D!==(D="relative flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out "+(i[5]?"md:max-w-[calc(100%-260px)]":"")+" max-w-full"))&&n(t,"class",D)},i(i){E||(H(d.$$.fragment,i),H(w,i),E=!0)},o(i){Q(d.$$.fragment,i),Q(w,i),E=!1},d(i){i&&f(t),Ge(d),m&&m.d(),h&&h.d(),_&&_.d(),v&&v.d(),w&&w.d(i),U=!1,K()}}}function Ve(l){let t,r=l[3].t("Models")+"",s,o;return{c(){t=g("a"),s=R(r),this.h()},l(e){t=b(e,"A",{class:!0,href:!0});var a=y(t);s=X(a,r),a.forEach(f),this.h()},h(){n(t,"class",o="min-w-fit p-1.5 "+(l[2].url.pathname.includes("/workspace/models")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),n(t,"href","/workspace/models")},m(e,a){N(e,t,a),p(t,s)},p(e,a){a&8&&r!==(r=e[3].t("Models")+"")&&Y(s,r),a&4&&o!==(o="min-w-fit p-1.5 "+(e[2].url.pathname.includes("/workspace/models")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&n(t,"class",o)},d(e){e&&f(t)}}}function Ae(l){let t,r=l[3].t("Knowledge")+"",s,o;return{c(){t=g("a"),s=R(r),this.h()},l(e){t=b(e,"A",{class:!0,href:!0});var a=y(t);s=X(a,r),a.forEach(f),this.h()},h(){n(t,"class",o="min-w-fit p-1.5 "+(l[2].url.pathname.includes("/workspace/knowledge")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),n(t,"href","/workspace/knowledge")},m(e,a){N(e,t,a),p(t,s)},p(e,a){a&8&&r!==(r=e[3].t("Knowledge")+"")&&Y(s,r),a&4&&o!==(o="min-w-fit p-1.5 "+(e[2].url.pathname.includes("/workspace/knowledge")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&n(t,"class",o)},d(e){e&&f(t)}}}function De(l){let t,r=l[3].t("Prompts")+"",s,o;return{c(){t=g("a"),s=R(r),this.h()},l(e){t=b(e,"A",{class:!0,href:!0});var a=y(t);s=X(a,r),a.forEach(f),this.h()},h(){n(t,"class",o="min-w-fit p-1.5 "+(l[2].url.pathname.includes("/workspace/prompts")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),n(t,"href","/workspace/prompts")},m(e,a){N(e,t,a),p(t,s)},p(e,a){a&8&&r!==(r=e[3].t("Prompts")+"")&&Y(s,r),a&4&&o!==(o="min-w-fit p-1.5 "+(e[2].url.pathname.includes("/workspace/prompts")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&n(t,"class",o)},d(e){e&&f(t)}}}function Me(l){let t,r=l[3].t("Tools")+"",s,o;return{c(){t=g("a"),s=R(r),this.h()},l(e){t=b(e,"A",{class:!0,href:!0});var a=y(t);s=X(a,r),a.forEach(f),this.h()},h(){n(t,"class",o="min-w-fit p-1.5 "+(l[2].url.pathname.includes("/workspace/tools")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),n(t,"href","/workspace/tools")},m(e,a){N(e,t,a),p(t,s)},p(e,a){a&8&&r!==(r=e[3].t("Tools")+"")&&Y(s,r),a&4&&o!==(o="min-w-fit p-1.5 "+(e[2].url.pathname.includes("/workspace/tools")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&n(t,"class",o)},d(e){e&&f(t)}}}function Ye(l){let t,r,s,o;document.title=t=`
		`+l[3].t("Workspace")+" • "+l[4]+`
	`;let e=l[0]&&Ie(l);return{c(){r=q(),e&&e.c(),s=Ee()},l(a){Se("svelte-14uepb1",document.head).forEach(f),r=C(a),e&&e.l(a),s=Ee()},m(a,d){N(a,r,d),e&&e.m(a,d),N(a,s,d),o=!0},p(a,[d]){(!o||d&24)&&t!==(t=`
		`+a[3].t("Workspace")+" • "+a[4]+`
	`)&&(document.title=t),a[0]?e?(e.p(a,d),d&1&&H(e,1)):(e=Ie(a),e.c(),H(e,1),e.m(s.parentNode,s)):e&&(He(),Q(e,1,1,()=>{e=null}),je())},i(a){o||(H(e),o=!0)},o(a){Q(e),o=!1},d(a){a&&(f(r),f(s)),e&&e.d(a)}}}function Ze(l,t,r){let s,o,e,a,d;G(l,Je,c=>r(1,s=c)),G(l,Re,c=>r(2,o=c)),G(l,Qe,c=>r(4,a=c)),G(l,xe,c=>r(5,d=c));let{$$slots:S={},$$scope:T}=t;const V=Te("i18n");G(l,V,c=>r(3,e=c));let u=!1;We(async()=>{var c,A,B,I,D,E,U,K;(s==null?void 0:s.role)!=="admin"&&(o.url.pathname.includes("/models")&&!((A=(c=s==null?void 0:s.permissions)==null?void 0:c.workspace)!=null&&A.models)?J("/"):o.url.pathname.includes("/knowledge")&&!((I=(B=s==null?void 0:s.permissions)==null?void 0:B.workspace)!=null&&I.knowledge)?J("/"):o.url.pathname.includes("/prompts")&&!((E=(D=s==null?void 0:s.permissions)==null?void 0:D.workspace)!=null&&E.prompts)?J("/"):o.url.pathname.includes("/tools")&&!((K=(U=s==null?void 0:s.permissions)==null?void 0:U.workspace)!=null&&K.tools)&&J("/")),r(0,u=!0)});const W=()=>{xe.set(!d)};return l.$$set=c=>{"$$scope"in c&&r(7,T=c.$$scope)},[u,s,o,e,a,d,V,T,S,W]}class rt extends Le{constructor(t){super(),Pe(this,t,Ze,Ye,Ne,{})}}export{rt as component};
//# sourceMappingURL=7.BzHjzyul.js.map
