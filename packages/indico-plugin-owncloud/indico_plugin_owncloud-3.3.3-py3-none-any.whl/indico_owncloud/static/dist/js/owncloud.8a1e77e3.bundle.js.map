{"version":3,"file":"js/owncloud.8a1e77e3.bundle.js","mappings":"AAQAA,OAAOC,8BAAgC,EAAEC,gBAAeC,cACtDH,OAAOI,iBAAiB,WAAWC,IACjC,MAAMC,EAASC,SAASC,cAAc,oCAChCC,EAAeF,SAASC,cAC5B,0DAIAF,GACAD,EAAQK,SAAWR,GACnBG,EAAQM,SAAWL,EAAOM,eAC1BP,EAAQQ,MACRR,EAAQQ,KAAKC,QAEbP,SAASQ,eAAe,GAAGZ,WAAiBa,MAAQX,EAAQQ,KAAKC,MAAMG,KAAK,MAC5ER,EAAaS,UAAYb,EAAQQ,KAAKM,QAAUd,EAAQQ,KAAKC,MAAMM,OACrE,GACA","sources":["webpack:///../plugins/public/owncloud/indico_owncloud/client/index.js"],"sourcesContent":["// This file is part of the Indico plugins.\n// Copyright (C) 2002 - 2025 CERN\n//\n// The Indico plugins are free software; you can redistribute\n// them and/or modify them under the terms of the MIT License;\n// see the LICENSE file for more details.\n\n// eslint-disable-next-line import/unambiguous\nwindow.setupOwncloudFilePickerWidget = ({filepickerUrl, fieldId}) => {\n  window.addEventListener('message', message => {\n    const iframe = document.querySelector('#owncloud_filepicker-file-picker');\n    const submitButton = document.querySelector(\n      '#attachment-owncloudfilepicker-form input[type=submit]'\n    );\n\n    if (\n      iframe &&\n      message.origin === filepickerUrl &&\n      message.source === iframe.contentWindow &&\n      message.data &&\n      message.data.files\n    ) {\n      document.getElementById(`${fieldId}-files`).value = message.data.files.join('\\n');\n      submitButton.disabled = !message.data.ready || !message.data.files.length;\n    }\n  });\n};\n"],"names":["window","setupOwncloudFilePickerWidget","filepickerUrl","fieldId","addEventListener","message","iframe","document","querySelector","submitButton","origin","source","contentWindow","data","files","getElementById","value","join","disabled","ready","length"],"sourceRoot":""}