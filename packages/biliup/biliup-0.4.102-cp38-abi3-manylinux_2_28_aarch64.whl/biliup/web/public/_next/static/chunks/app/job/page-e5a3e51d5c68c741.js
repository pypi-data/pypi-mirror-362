(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{11112:function(e,t,r){Promise.resolve().then(r.bind(r,44601))},44601:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(57437),i=r(76301),a=r(85323),o=r(97500),d=r(67489),l=r(36699),c=r(96947),s=e=>{console.log("renderFilterDropdown",e);let{tempFilteredValue:t,setTempFilteredValue:r,confirm:a,clear:o,close:d}=e;return(0,n.jsx)(i.Qc,{value:t[0],showClear:!0,prefix:(0,n.jsx)(c.Z,{}),placeholder:"搜索... ",onChange:e=>{let t=e?[e]:[];r(t),a({filteredValue:t})},style:{width:200,margin:5}})};function u(){let{Header:e,Footer:t,Sider:r,Content:c}=i.Layout,{data:u,error:h,isLoading:f}=(0,a.ZP)("/v1/streamer-info",o._i);if(f)return(0,n.jsx)(i.yC,{size:"large"});let{Text:m}=i.Typography,g=[{title:"名称",dataIndex:"name",onFilter:(e,t)=>t.name.includes(e),renderFilterDropdown:s},{title:"标题",dataIndex:"title",render:(e,t,r)=>(0,n.jsx)(m,{strong:!0,children:e}),onFilter:(e,t)=>t.title.includes(e),renderFilterDropdown:s},{title:"链接",dataIndex:"url"},{title:"封面",dataIndex:"live_cover_path"},{title:"更新日期",dataIndex:"date",defaultSortOrder:"descend",sorter:(e,t)=>e.date-t.date>0?1:-1,render:e=>(0,l.cE)(e)}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e,{style:{backgroundColor:"var(--semi-color-bg-1)"},children:(0,n.jsx)(i.JL,{style:{border:"none"},header:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{backgroundColor:"rgb(250 102 76)",borderRadius:"var(--semi-border-radius-large)",color:"var(--semi-color-bg-0)",display:"flex",padding:"6px"},children:(0,n.jsx)(d.Z,{size:"large"})}),(0,n.jsx)("h4",{style:{marginLeft:"12px"},children:"直播历史"})]}),mode:"horizontal"})}),(0,n.jsx)(c,{style:{paddingLeft:12,paddingRight:12,backgroundColor:"var(--semi-color-bg-0)"},children:(0,n.jsx)("main",{children:(0,n.jsx)(i.iA,{size:"small",rowKey:"id",columns:g,dataSource:u,expandedRowRender:(e,t)=>(0,n.jsxs)(n.Fragment,{children:["文件列表：",e.files.map(e=>(0,n.jsxs)("div",{children:["\xa0\xa0文件名：",e.file]},e.id))]})})})})]})}},97500:function(e,t,r){"use strict";async function n(e,t){let{arg:r}=t,n=await fetch(""+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!(n.status>=200&&n.status<300))throw Error(await n.text());let i=await n.json();if(!n.ok)throw Error(i.message);return i}r.d(t,{_i:function(){return i},gz:function(){return d},hw:function(){return o},sj:function(){return a},wG:function(){return n}});let i=async function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=await fetch(""+t[0],t[1]);if(!n.ok)throw Error(await n.text());return n.json()},a=async(e,t)=>{let r=await fetch(""+e,t);if(!r.ok)throw Error(await r.text());return r};async function o(e,t){let{arg:r}=t,n=await fetch("".concat("").concat(e,"/").concat(r),{method:"DELETE"});if(!n.ok)throw Error(await n.text());return n}async function d(e,t){let{arg:r}=t,n=await fetch("".concat("").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw Error(await n.text());return n}},36699:function(e,t,r){"use strict";r.d(t,{Fg:function(){return l},K4:function(){return d},cE:function(){return o},f:function(){return i},ql:function(){return a}});var n=r(2265);let i={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},a=(e,t)=>{let{match:r,unmatch:n,callInInit:i=!0}=t;{let t=window.matchMedia(e),a=function(e){e.matches?r&&r(e):n&&n(e)};return(i&&a(t),Object.prototype.hasOwnProperty.call(t,"addEventListener"))?(t.addEventListener("change",a),()=>t.removeEventListener("change",a)):(t.addListener(a),()=>t.removeListener(a))}},o=e=>new Date(1e3*e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replaceAll("/","-"),d=()=>{let[e,t]=(0,n.useState)("light");return(0,n.useEffect)(()=>{let e=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e);let r=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>t(e);return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),e},l=(e,t)=>{(0,n.useEffect)(()=>{switch(localStorage.setItem("mode",e),e){case"light":document.body.setAttribute("theme-mode","light");break;case"dark":document.body.setAttribute("theme-mode","dark");break;default:document.body.setAttribute("theme-mode",t)}},[e,t])}},67489:function(e,t,r){"use strict";var n=r(2265);let i=(0,r(87565).A)(function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.5a7.5 7.5 0 1 1-7.07 10 1.5 1.5 0 0 0-2.83 1 10.5 10.5 0 1 0 1.27-9.48l-.43-1.45a1.5 1.5 0 1 0-2.88.86l1.5 5c.23.74.98 1.2 1.73 1.04l5-1a1.5 1.5 0 0 0-.58-2.94l-2.01.4A7.5 7.5 0 0 1 12 4.5Zm1.5 3a1.5 1.5 0 0 0-3 0V12c0 .4.16.78.44 1.06l3 3a1.5 1.5 0 0 0 2.12-2.12l-2.56-2.56V7.5Z",fill:"currentColor"}))},"history");t.Z=i}},function(e){e.O(0,[308,385,251,283,191,147,429,301,323,971,117,744],function(){return e(e.s=11112)}),_N_E=e.O()}]);