(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{26535:function(e,t,r){Promise.resolve().then(r.bind(r,3651))},3651:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var s=r(57437);r(47960);var i=r(76777),o=r.n(i),a=r(2265),d=r(27648),l=r(99376),n=r(76301),m=r(64711),c=r(9247),u=r(67050),h=r(20604),x=r(94731),g=r(67489),b=r(70787),f=r(42337),y=r(9083),p=r(24994),v=r(33145),j=r(66613),w=r(54197),k=r(62642),K=e=>{let[t,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)((0,s.jsx)(j.Z,{size:"large"}));return(0,a.useEffect)(()=>{if(!0===t){let t=document.body,s=e.mode,i=s;switch(s){case"auto":i="light";break;case"light":i="dark";break;default:i="auto"}t.removeAttribute("theme-mode"),"auto"===i?t.setAttribute("theme-mode",e.systemTheme):t.setAttribute("theme-mode",i),e.setMode(i),r(!1)}switch(e.mode){case"light":o((0,s.jsx)(w.Z,{size:"large"}));break;case"dark":o((0,s.jsx)(k.Z,{size:"large"}));break;default:o((0,s.jsx)(j.Z,{size:"large"}))}},[e,t]),(0,s.jsx)(n.zx,{onClick:()=>{r(!0)},theme:"borderless",icon:i,style:{color:"var(--semi-color-text-2)"}})},C=r(36699),L=r(50196);function z(e){let{children:t}=e,{Sider:r}=m.Layout,i=(0,l.usePathname)(),j=[];("streamers"===i.slice(1)||"history"===i.slice(1))&&(j=["manager"]);let[w,k]=(0,a.useState)(j),[z,Z]=(0,a.useState)([i.slice(1)]),{width:E}=(0,L.Z)(),[S,_]=(0,a.useState)(E<=640),[R,A]=(0,a.useState)(localStorage.getItem("mode")||"auto"),M=(0,C.K4)();(0,C.Fg)(R,M);let N=S?{height:"100%",overflow:"visible"}:{height:"100%"};(0,a.useEffect)(()=>{E<=640&&_(!0)},[E]);let I=(0,a.useMemo)(()=>[{itemKey:"home",text:"主页",icon:(0,s.jsx)("div",{style:{backgroundColor:"#ffaa00ff",borderRadius:"var(--semi-border-radius-medium)",color:"var(--semi-color-bg-0)",display:"flex",padding:"4px"},children:(0,s.jsx)(c.Z,{size:"small"})})},{itemKey:"manager",text:"录播管理",items:[{itemKey:"streamers",text:"直播管理"},{itemKey:"history",text:"历史记录"}],icon:(0,s.jsx)("div",{style:{backgroundColor:"#5ac262ff",borderRadius:"var(--semi-border-radius-medium)",color:"var(--semi-color-bg-0)",display:"flex",padding:"4px"},children:(0,s.jsx)(u.Z,{size:"small"})})},{itemKey:"upload-manager",text:"投稿管理",icon:(0,s.jsx)("div",{style:{backgroundColor:"#885bd2ff",borderRadius:"var(--semi-border-radius-medium)",color:"var(--semi-color-bg-0)",display:"flex",padding:"4px"},children:(0,s.jsx)(h.Z,{size:"small"})})},{itemKey:"dashboard",text:"空间配置",icon:(0,s.jsx)("div",{style:{backgroundColor:"#6b6c75ff",borderRadius:"var(--semi-border-radius-medium)",color:"var(--semi-color-bg-0)",display:"flex",padding:"4px"},children:(0,s.jsx)(x.Z,{size:"small"})})},{itemKey:"job",text:"直播历史",icon:(0,s.jsx)("div",{style:{backgroundColor:"rgb(250 102 76)",borderRadius:"var(--semi-border-radius-medium)",color:"var(--semi-color-bg-0)",display:"flex",padding:"4px"},children:(0,s.jsx)(g.Z,{size:"small"})})},{text:"实时日志",icon:(0,s.jsx)("div",{style:{backgroundColor:"rgba(var(--semi-blue-4), 1)",borderRadius:"var(--semi-border-radius-medium)",color:"var(--semi-color-bg-0)",display:"flex",padding:"4px"},children:(0,s.jsx)(b.Z,{size:"small"})}),itemKey:"logViewer"},{text:"任务平台",icon:(0,s.jsx)("div",{style:{backgroundColor:"rgba(var(--semi-lime-2), 1)",borderRadius:"var(--semi-border-radius-medium)",color:"var(--semi-color-bg-0)",display:"flex",padding:"4px"},children:(0,s.jsx)(f.Z,{size:"small"})}),itemKey:"status"}].map(e=>(e.text=(0,s.jsx)("div",{style:{color:z.some(t=>e.itemKey===t)||z.some(e=>w.some(t=>{var r;return null===(r=({manager:["streamers","history"]})[t])||void 0===r?void 0:r.includes(e)}))&&w.some(t=>e.itemKey===t)?"var(--semi-color-text-0)":"var(--semi-color-text-2)",fontWeight:600},children:e.text}),e)),[w,z]),O=(0,a.useCallback)(e=>{let{itemElement:t,isSubNav:r,isInSubNav:i,props:o}=e,a={home:"/",history:"/history",dashboard:"/dashboard",streamers:"/streamers","upload-manager":"/upload-manager",job:"/job",status:"/status",logViewer:"/logviewer"};return a[o.itemKey]?(0,s.jsx)(d.default,{style:{textDecoration:"none",fontWeight:"600 !important"},href:a[o.itemKey],children:t}):t},[]),D=(0,a.useCallback)(()=>{_(!S)},[S]);return(0,s.jsx)("html",{lang:"zh-Hans",children:(0,s.jsx)("body",{style:{width:"100%"},children:(0,s.jsxs)(m.Layout,{className:"components-layout-demo semi-light-scrollbar",children:[(0,s.jsx)(r,{children:(0,s.jsxs)(n.JL,{style:N,openKeys:w,selectedKeys:z,isCollapsed:S,renderWrapper:O,items:I,onOpenChange:e=>{k([...e.openKeys])},onSelect:e=>{Z([...e.selectedKeys])},children:[(0,s.jsx)(n.JL.Header,{logo:(0,s.jsx)(v.default,{src:"/logo.png",alt:"{}",height:10,width:20}),style:S?{flexDirection:"column",paddingLeft:0,paddingRight:0,paddingBottom:0,gap:"8px"}:{justifyContent:"flex-start"},text:"BILIUP",children:(0,s.jsx)("div",{style:{flexGrow:1,display:E<=640?"none":"flex",flexDirection:"row-reverse",zIndex:2},children:(0,s.jsx)(n.zx,{onClick:D,type:"tertiary",className:o().shadow,theme:"borderless",icon:S?(0,s.jsx)(y.Z,{}):(0,s.jsx)(p.Z,{})})})}),(0,s.jsx)(n.JL.Footer,{collapseButton:!1,children:(0,s.jsx)(K,{mode:R,setMode:A,systemTheme:M})})]})}),(0,s.jsx)(m.Layout,{style:{height:"100vh"},children:t})]})})})}},36699:function(e,t,r){"use strict";r.d(t,{Fg:function(){return l},K4:function(){return d},cE:function(){return a},f:function(){return i},ql:function(){return o}});var s=r(2265);let i={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},o=(e,t)=>{let{match:r,unmatch:s,callInInit:i=!0}=t;{let t=window.matchMedia(e),o=function(e){e.matches?r&&r(e):s&&s(e)};return(i&&o(t),Object.prototype.hasOwnProperty.call(t,"addEventListener"))?(t.addEventListener("change",o),()=>t.removeEventListener("change",o)):(t.addListener(o),()=>t.removeListener(o))}},a=e=>new Date(1e3*e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replaceAll("/","-"),d=()=>{let[e,t]=(0,s.useState)("light");return(0,s.useEffect)(()=>{let e=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e);let r=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>t(e);return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[]),e},l=(e,t)=>{(0,s.useEffect)(()=>{switch(localStorage.setItem("mode",e),e){case"light":document.body.setAttribute("theme-mode","light");break;case"dark":document.body.setAttribute("theme-mode","dark");break;default:document.body.setAttribute("theme-mode",t)}},[e,t])}},47960:function(){},76777:function(e){e.exports={shadow:"page_shadow__LmobZ"}}},function(e){e.O(0,[457,308,385,251,283,191,147,429,301,257,314,971,117,744],function(){return e(e.s=26535)}),_N_E=e.O()}]);